if (self.CavalryLogger) { CavalryLogger.start_js(["nwGjS"]); }

__d("ComposerPublisherSupportedParameters",[],(function a(b,c,d,e,f,g){f.exports=["action_type_id","attachment","composer_entry_time","composer_session_duration","composer_session_id","composer_source_surface","composer_type","composertags_sponsors","composertags_with","direct_share_status","extensible_sprouts_ranker_request","fun_fact_prompt_id","composertags_place","hide_object_attachment","icon_id","is_forced_reshare_of_post","is_q_and_a","is_react","is_welcome_to_group_post","multilingual_specified_lang","multilingual_status_langs","multilingual_statuses","num_keystrokes","num_pastes","object_id","object_str","og_suggestion_mechanism","place_attachment_setting","privacyx","ref","sponsor_relationship","target_type","text_format_preset_id","xc_link_url","xc_sticker_id","xc_share_images","xc_share_params","xc_share_summary","xc_share_target_type","xc_share_title","xhpc_aggregated_story_composer","xhpc_composerid","xhpc_context","xhpc_finch","xhpc_fundraiser_page","xhpc_message","xhpc_message_text","xhpc_publish_type","xhpc_targetid","xhpc_timeline"]}),null);
__d("EmoticonSpan.react",["cx","DraftEntity","EmojiImageURL","EmoticonsList","React","SupportedFBEmoji"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.size,m=c("DraftEntity").get(this.props.entityKey).getData(),n=c("EmoticonsList").emoji[m.type],o=c("SupportedFBEmoji")[n]?c("EmojiImageURL").getFBEmojiURL(n,l):c("EmojiImageURL").getFBEmojiExtendedURL(n,l);return c("React").createElement("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+o+")",backgroundSize:l+"px "+l+"px",height:l+"px",width:l+"px"}},c("React").createElement("span",{className:"_ncl"},this.props.children))};function k(){i.apply(this,arguments)}k.defaultProps={size:16};f.exports=k}),null);
__d("HashtagSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5zk7",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("MentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_247o",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("WeakMentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function a(b,c,d,e,f,g){var h=c("getHashtagRegex")();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length)}}f.exports=i}),null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],(function a(b,c,d,e,f,g){var h;function i(){if(!h){var j=[{strategy:c("getEntityMatcher")(function(k){var l=k.getData();return k.getType()==="MENTION"&&l&&l.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")}];h=new(c("CompositeDraftDecorator"))(j)}return h}f.exports=i}),null);
__d("MentionsUtils",["createEditorStateWithEntities","getMentionsInputDecorator"],(function a(b,c,d,e,f,g){"use strict";var h=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,i={parseMessageMentions:function j(k){var l=k,m=Array.from(l),n=m.map(function(r){return r.length>1?"_":r}).join(""),o=[],p=void 0;while(p=h.exec(n)){var q={uid:p[1],text:p[2],offset:p.index,length:p[2].length,weakreference:false,entity:{uid:p[1],weakreference:false}};o.push(q);n=n.substr(0,q.offset)+q.text+n.substr(q.offset+p[0].length);l=m.slice(0,q.offset).join("")+q.text+m.slice(q.offset+p[0].length).join("");m=Array.from(l);h.lastIndex=q.offset+q.length}return{ranges:o,text:l}},createMessageEditorStateWithText:function j(k){var l=i.parseMessageMentions(k),m=l.ranges,n=l.text;return c("createEditorStateWithEntities")({text:n,ranges:m,decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:function o(p,q){return q.createEntity("MENTION","IMMUTABLE",{id:p.uid,isWeak:p.weakreference})}})}};f.exports=i}),null);
__d("EmojiInputDecorator",["EmojiRenderer","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=".",j="emoji";function k(l,m,n){this.$EmojiInputDecorator1=l;this.$EmojiInputDecorator2=m;this.$EmojiInputDecorator3=n}k.prototype.getDecorations=function(l,m){var n=this.$EmojiInputDecorator2?this.$EmojiInputDecorator2.getDecorations(l,m).toArray():Array(l.getText().length).fill(null),o=0;c("EmojiRenderer").parse(l.getText()).forEach(function(p){var q=p.offset,r=q+p.length,s=true;for(var t=q;t<r;t++)if(n[t]!=null){s=false;break}if(s){for(var u=q;u<r;u++)n[u]=j+i+o;o++}});return h(n)};k.prototype.getComponentForKey=function(l){if(!this.$EmojiInputDecorator2||l.split(i)[0]===j)return this.$EmojiInputDecorator1;return this.$EmojiInputDecorator2.getComponentForKey(l)};k.prototype.getPropsForKey=function(l){if(!this.$EmojiInputDecorator2||l.split(i)[0]===j)return this.$EmojiInputDecorator3;return this.$EmojiInputDecorator2.getPropsForKey(l)};f.exports=k}),null);
__d("EmojiSpan.react",["cx","DraftEntity","EmojiConfig","EmojiImageURL","FBEmojiUtils","React","SupportedFBEmoji","UnicodeUtils"],(function a(b,c,d,e,f,g,h){var i,j,k=c("EmojiImageURL").getFBEmojiURL;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props,n=m.decoratedText,o=m.offsetKey,p=m.size,q=0,r=n.length,s=[];while(q<r){var t=c("UnicodeUtils").getUTF16Length(n,q);s.push(n.substr(q,t));q+=t}var u=c("FBEmojiUtils").getSupportedKey(s);if(u&&Object.prototype.hasOwnProperty.call(c("SupportedFBEmoji"),u))return c("React").createElement("span",babelHelpers["extends"]({},this.props,{className:"_3gl1 _5zz4","data-offset-key":o,style:{backgroundImage:"url("+k(u,p)+")",backgroundSize:p+"px "+p+"px",height:p,width:p}}),c("React").createElement("span",{className:"_ncl"},n));return c("React").createElement("span",{"data-offset-key":o},n)};function l(){"use strict";i.apply(this,arguments)}f.exports=l}),null);
__d("keyCommandBackspaceEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){var h=function h(i){var j=c("removeTextWithStrategy")(i,function(l){var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m-1],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<m&&q[r].offset+q[r].length>=m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionBackward")(l,p||1)},"backward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"backspace-character":"remove-range")};f.exports=h}),null);
__d("keyCommandDeleteEmoji",["EditorState","EmojiRenderer","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function a(b,c,d,e,f,g){var h=function h(i){var j=c("removeTextWithStrategy")(i,function(l){var k=l.getSelection(),m=k.getAnchorOffset(),n=l.getCurrentContent().getBlockForKey(k.getAnchorKey()).getText(),o=n[m],p=null;if(o){var q=c("EmojiRenderer").parse(n);for(var r=0;r<q.length;r++)if(q[r].offset<=m&&q[r].offset+q[r].length>m){p=q[r].length;break}if(!p)p=c("UnicodeUtils").getUTF16Length(o,0)}return c("moveSelectionForward")(l,p||1)},"forward");if(j===i.getCurrentContent())return null;var k=i.getSelection();return c("EditorState").push(i,j.set("selectionBefore",k),k.isCollapsed()?"delete-character":"remove-range")};f.exports=h}),null);
__d("addEmojiInput",["EditorState","EmojiInputDecorator","EmojiSpan.react","React","keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function a(b,c,d,e,f,g){"use strict";var h=function(i){return function(){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$_class1=function(r,s){var t=null;switch(r){case"backspace":t=c("keyCommandBackspaceEmoji")(s);break;case"delete":t=c("keyCommandDeleteEmoji")(s);break}if(t){this.props.onChange(t);return"handled"}return"not-handled"}.bind(this),n}l.prototype.blur=function(){"use strict";var m=this.refs.component;m&&typeof m.blur==="function"&&m.blur()};l.prototype.click=function(){"use strict";var m=this.refs.component;m&&typeof m.click==="function"&&m.click()};l.prototype.focus=function(){"use strict";var m=this.refs.component;m&&typeof m.focus==="function"&&m.focus()};l.prototype.render=function(){"use strict";var m=this.props.editorState,n=m.getDecorator();if(!(n instanceof c("EmojiInputDecorator")))m=c("EditorState").set(this.props.editorState,{decorator:new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),n,{size:16})});return c("React").createElement(i,babelHelpers["extends"]({},this.props,{editorState:m,handleKeyCommand:this.$_class1,ref:"component"}))};return l}()}.bind(this);f.exports=h}),null);
__d("addEmojiToEditorState",["DraftModifier","EditorState","EmojiFormat","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2];if(typeof i!=="string")i=c("EmojiFormat").codeArrayToUnicode(i);var l=c("DraftModifier").replaceText(j.getCurrentContent(),j.getSelection(),i),m=c("EditorState").push(j,l,"insert-characters");if(m!==j)k(m);return m}f.exports=h}),null);
__d("MentionsInput.react",["cx","invariant","AbstractMentionsTextEditor.react","EditorState","Event","JSReliabilityFixesGatingConfig","MentionsLayer.react","React","ReactDOM","createMentionEntity","createMentionEntityForContentState","joinClasses"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.blur=function(){this.refs.textEditor.blur()}.bind(this),this.focus=function(){this.refs.textEditor&&this.refs.textEditor.focus()}.bind(this),this.click=function(){var s=c("ReactDOM").findDOMNode(this);s||i(0);var t=null;try{t=new(c("Event"))("focus")}catch(u){if(c("JSReliabilityFixesGatingConfig").should_get_fix){t=document.createEvent("Event");t.initEvent("focus",true,true)}else throw u}s.dispatchEvent(t)}.bind(this),o}m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_5yk1");return c("React").createElement("div",{className:n,onClick:this.click,onFocus:this.focus,role:"presentation"},c("React").createElement(c("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({},this.props,{ariaMultiline:this.props.ariaMultiline,mentionResultsComponent:c("MentionsLayer.react"),mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,offset:this.props.offset,autoflip:this.props.autoflip,position:this.props.position},mentionCreationFn:c("createMentionEntity"),mentionCreationForContentStateFn:c("createMentionEntityForContentState"),ref:"textEditor",className:"_5yk2",stripPastedStyles:this.props.stripPastedStyles})))};m.propTypes={editorState:l.instanceOf(c("EditorState")).isRequired,mentionsSource:l.object,typeaheadView:l.func.isRequired,typeaheadViewPropTypes:l.object,ariaMultiline:l.bool,spellCheck:l.bool,placeholder:l.string,className:l.string,autoflip:l.bool,position:l.oneOf(["above","below"]),renderEmoji:l.bool,webDriverTestID:l.string,handleContentReturn:l.func,handleDroppedFiles:l.func,handlePastedFiles:l.func,onAddMention:l.func,onShowMentions:l.func,onChange:l.func,onInputFocus:l.func,onInputBlur:l.func,stripPastedStyles:l.bool};m.defaultProps={stripPastedStyles:true};f.exports=m}),null);
__d("ComposerPublishType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_INSERT:1,DIALOG:2,REPLACE_COMPOSER:3,INSERT_IN_DIALOG:4,PAGE_CONTENT_TAB:5})}),null);
__d("ComposerStoryCreateMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1931212663571278"};j.getQueryID=function(){"use strict";return"576284395828557"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("OGComposerSuggestionMechanisms",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MOVIE_THEATER_CHECKIN:"movie_theater_checkin",AIRPORT_CHECKIN:"airport_checkin",COOL_PLACE_CHECKIN:"cool_place_checkin",TRAIN_CHECKIN:"train_checkin",CURRENT_SONG:"current_song",RECENT_ACTION:"recent_action",AUDIO_FINGERPRINT:"audio_fingerprint",WHITELISTED_SUGGESTION:"whitelisted_suggestion",UNIT_TEST:"unit_test",FEED_SPECIFIC_SUGGESTION:"feed_specific_suggestion",DETECTED_FROM_TEXT_INPUT:"detected_from_text_input",EVENT_VENUE_CHECKIN:"event_venue_checkin",SUPPORTING_CLASSIFIER:"supportingclassifier",LISTENING_LINK_CLASSIFIER:"listeninglinkclassifier",LINK_TO_OG_CLASSIFIER:"link_to_og_classifier",GK_BASED_SUGGESTION_CLASSIFIER:"gk_based_suggestion_classifier",EVENT_TO_ATTEND:"event_to_attend",GK_BASED_PRODUCTION_PROMPT_CLASSIFIER:"gk_based_production_prompt_classifier",MOVIE_THEATER_CHECKIN_SUGGESTIFIER:"movie_theater_checkin_suggestifier",AIRPORT_CHECKIN_SUGGESTIFIER:"airport_checkin_suggestifier",COOL_PLACE_CHECKIN_SUGGESTIFIER:"cool_place_checkin_suggestifier",TRAIN_CHECKIN_SUGGESTIFIER:"train_checkin_suggestifier",EVENT_VENUE_CHECKIN_SUGGESTIFIER:"event_venue_checkin_suggestifier",EVENT_TO_ATTEND_SUGGESTIFIER:"event_to_attend_suggestifier",SPA_CHECKIN:"spa_checkin",SPA_CHECKIN_SUGGESTIFIER:"spa_checkin_suggestifier",MEDICAL_CHECKIN:"medical_checkin",MEDICAL_CHECKIN_SUGGESTIFIER:"medical_checkin_suggestifier",TRANSPORTATION_CHECKIN:"transportation_checkin",TRANSPORTATION_CHECKIN_SUGGESTIFIER:"transportation_checkin_suggestifier",SWEETS_SHOP_CHECKIN:"sweets_shop_checkin",SWEETS_SHOP_CHECKIN_SUGGESTIFIER:"sweets_shop_checkin_suggestifier",FAST_FOOD_CHECKIN:"fast_food_checkin",FAST_FOOD_CHECKIN_SUGGESTIFIER:"fast_food_checkin_suggestifier",SPECIFIC_CUISINE_CHECKIN:"specific_cuisine_checkin",SPECIFIC_CUISINE_SUGGESTIFIER:"specific_cuisine_checkin_suggestifier",TOPIC_BAR_CHECKIN:"topic_bar_checkin",TOPIC_BAR_CHECKIN_SUGGESTIFIER:"topic_bar_checkin_suggestifier",RESTAURANT_CHECKIN:"restaurant_checkin",RESTAURANT_CHECKIN_SUGGESTIFIER:"restaurant_checkin_suggestifier",COFFEE_SHOP_CHECKIN:"coffee_shop_checkin",COFFEE_SHOP_SUGGESTIFIER:"coffee_shop_checkin_suggestifier",MINUTIAE_TO_PLACE_MOVIE_THEATER_CHECKIN:"minutiae_to_place_movie_theater_checkin",MINUTIAE_TO_PLACE_TRAVELING_CHECKIN:"minutiae_to_place_traveling_checkin",MINUTIAE_TO_PLACE_EVENT_TO_ATTEND:"minutiae_to_place_event_to_attend",MINUTIAE_TO_PLACE_CELEBRATING:"minutiae_to_place_celebrating",MINUTIAE_TO_PLACE_FEELING_HUNGRY:"minutiae_to_place_feeling_hungry",MINUTIAE_TO_PLACE_GAME_STADIUM_CHECKIN:"minutiae_to_place_game_stadium_checkin",MINUTIAE_TO_PLACE_CONCERT_VENUE_CHECKIN:"minutiae_to_place_concert_venue_checkin",MINUTIAE_TO_PLACE_COOL_PLACE_CHECKIN:"minutiae_to_place_cool_place_checkin",MINUTIAE_TO_PLACE_FEELING_RELAXED:"minutiae_to_place_feeling_relaxed",MINUTIAE_TO_PLACE_CELEBRATING_HOLIDAY:"minutiae_to_place_celebrating_holiday",MINUTIAE_TO_PLACE_FEELING:"minutiae_to_place_feeling",MINUTIAE_TO_PLACE_FEELING_TO_HOTEL_CHECKIN:"minutiae_to_place_feeling_hotel_checking",MINUTIAE_TO_PLACE_CELEBRATING_EXPERIMENT:"minutiae_to_place_celebrating_experiment"})}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2})}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","ReactComposerActions","ReactComposerPostUtilsCore"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("AsyncRequest"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this))}j.prototype.setHandler=function(k){"use strict";this.$ReactComposerAsyncRequest2=k;return this};j.prototype.setErrorHandler=function(k){"use strict";this.$ReactComposerAsyncRequest3=k;return this};j.prototype.$ReactComposerAsyncRequest4=function(k){"use strict";setTimeout(function(){var l=k.payload&&k.payload.isPostPending;if(!l)c("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest5=function(k){"use strict";setTimeout(function(){c("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k)}.bind(this),0)};j.prototype.$ReactComposerAsyncRequest6=function(k){"use strict";setTimeout(function(){return c("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,k)}.bind(this),0)};f.exports=j}),null);
__d("ComposerPublisher",["BanzaiODS","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerAsyncRequest","ReactComposerFilteredFalseyParameters","ComposerStoryCreateMutationWebGraphQLMutation","ComposerPublisherSupportedParameters","ComposerPublishType","PlaceAttachmentSetting","ReactComposerWebUnusedParameters","WebGraphQLComposerGK","WebGraphQLLegacyHelper","MentionsUtils","XWebGraphQLMutationController","isEmpty","OGComposerSuggestionMechanisms","QE2Logger","uuid"],(function a(b,c,d,e,f,g){var h="webgraphml_universe",i={publish:function j(k,l){var m=c("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:c("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID()});new(c("ReactComposerAsyncRequest"))(k.composerID,m).setHandler(k.onPostSuccess).setErrorHandler(k.onPostFailure).setData({variables:JSON.stringify({client_mutation_id:c("uuid")(),actor_id:k.actorID,input:this.translateData(k.actorID,l)})}).send();c("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},translateData:function j(k,l){var m={};m.actor_id=k;m.audience={web_privacyx:l.privacyx};m.client_mutation_id=c("uuid")();m.source="WWW";if(l.xhpc_message){var n=c("MentionsUtils").parseMessageMentions(l.xhpc_message),o=n.ranges,p=n.text;if(!o)m.message={text:p,ranges:[]};else{var q=o.map(function(B){return{offset:B.offset,length:B.length,entity:{id:B.uid}}});m.message={text:p,ranges:q}}}if(l.xc_sticker_id)m.referenced_sticker_id=l.xc_sticker_id;if(l.is_welcome_to_group_post)m.is_welcome_to_group_post=l.is_welcome_to_group_post;if(l.composer_source_surface)m.composer_source_surface=l.composer_source_surface;if(l.composer_entry_time)m.composer_entry_time=l.composer_entry_time;var r={};if(l.composer_session_duration)r.composition_duration=l.composer_session_duration;if(l.num_keystrokes)r.number_of_keystrokes=l.num_keystrokes;if(l.num_pastes)r.number_of_copy_pastes=l.num_pastes;if("composer_session_duration"in l||"num_keystrokes"in l||"num_pastes"in l)m.composer_session_events_log=r;if(l.composer_type)m.composer_type=l.composer_type;if(l.is_q_and_a)m.is_q_and_a=l.is_q_and_a;var s={};s.composer_session_id=l.composer_session_id||c("uuid")();if(l.ref)s.ref=l.ref;m.logging=s;if(l.text_format_preset_id)m.text_format_preset_id=l.text_format_preset_id;if(l.multilingual_specified_lang)m.specified_dialect=l.multilingual_specified_lang;if(l.multilingual_statuses&&l.multilingual_status_langs){var t=[];for(var u=0;u<l.multilingual_statuses.length;++u)t.push({message:l.multilingual_statuses[u],dialect:l.multilingual_status_langs[u]});m.multilingual_translations=t}if(l.action_type_id&&l.action_type_id.length&&(l.object_id||l.object_str)){var v={};v.taggable_activity_id=l.action_type_id[0];if(l.object_id)v.object_id=l.object_id[0];if(l.object_str)v.object_text=l.object_str[0];if(l.icon_id)v.icon_id=l.icon_id;if(l.hide_object_attachment)v.object_attachment_behavior=l.hide_object_attachment?"HIDDEN":"SHOWN";if(l.og_suggestion_mechanism)for(var w in c("OGComposerSuggestionMechanisms"))if(c("OGComposerSuggestionMechanisms")[w]==l.og_suggestion_mechanism){v.suggestion_mechanism=w;break}m.inline_activities=[v]}if(l.composertags_sponsors){m.sponsor_id=l.composertags_sponsors[0];for(var x in c("BrandedContentSharedToSponsorStatus"))if(c("BrandedContentSharedToSponsorStatus")[x]==l.direct_share_status){m.direct_share_status=x;break}for(var y in c("BrandedContentSponsorRelationship"))if(c("BrandedContentSponsorRelationship")[y]==l.sponsor_relationship){m.sponsor_relationship=y;break}}var z={};if(l.target_type)z.target_type=l.target_type;if(l.xhpc_aggregated_story_composer)z.xhpc_aggregated_story_composer=l.xhpc_aggregated_story_composer;if(l.xhpc_composerid)z.xhpc_composerid=l.xhpc_composerid;if(l.xhpc_context)z.xhpc_context=l.xhpc_context;if(l.xhpc_finch)z.xhpc_finch=l.xhpc_finch;if(l.xhpc_fundraiser_page)z.xhpc_fundraiser_page=l.xhpc_fundraiser_page;if(l.xhpc_publish_type)for(var A in c("ComposerPublishType"))if(c("ComposerPublishType")[A]==l.xhpc_publish_type){z.xhpc_publish_type=A;break}if(l.xhpc_timeline)z.xhpc_timeline=l.xhpc_timeline;if(z)m.web_graphml_migration_params=z;if(l.fun_fact_prompt_id)m.fun_fact_prompt_id=l.fun_fact_prompt_id;if(l.extensible_sprouts_ranker_request)m.extensible_sprouts_ranker_request=l.extensible_sprouts_ranker_request;if(l.attachment&&l.attachment.params){m.attachments=[{link:{share_scrape_data:JSON.stringify({share_type:l.attachment.type,share_params:l.attachment.params})}}];if(l.attachment&&l.attachment.reshare_original_post||l.is_forced_reshare_of_post)m.reshare_original_post="RESHARE_ORIGINAL_POST"}if(l.composertags_place)m.explicit_place_id=l.composertags_place;if(l.place_attachment_setting===c("PlaceAttachmentSetting").HIDE_ATTACHMENT)m.place_attachment_setting="HIDE_ATTACHMENT";else if(l.place_attachment_setting===c("PlaceAttachmentSetting").SHOW_ATTACHMENT)m.place_attachment_setting="SHOW_ATTACHMENT";if(l.composertags_with)m.with_tags_ids=l.composertags_with;return m},getShouldUseGraphQLForStatus:function j(k,l){this._logUnsupportedFeatures("status",l);if(!this._getShouldUseGraphQL(l))return false;var m=this._getIsDirectedPost(k,l.xhpc_targetid);if(m&&!c("WebGraphQLComposerGK").directed_text_and_share||!m&&!c("WebGraphQLComposerGK").undirected_text_and_share)return false;c("QE2Logger").logExposureForUser(h);return true},getShouldUseGraphQLForMedia:function j(k){this._logUnsupportedFeatures("media",k);if(!this._getMediaPostGK())return false;return this._getShouldUseGraphQL(k)},_getShouldUseGraphQL:function j(k){c("ReactComposerFilteredFalseyParameters").parameter_names.forEach(function(m){if(m in k&&(c("isEmpty")(k[m])||c("ReactComposerWebUnusedParameters").parameter_names.includes(m)))delete k[m]});for(var l in k)if(!c("ComposerPublisherSupportedParameters").includes(l))return false;return true},_logUnsupportedFeatures:function j(k,l){c("ReactComposerFilteredFalseyParameters").parameter_names.forEach(function(n){if(n in l&&c("isEmpty")(l[n]))delete l[n]});for(var m in l)if(!c("ComposerPublisherSupportedParameters").includes(m)&&l[m]!==undefined)c("BanzaiODS").bumpEntityKey("webgraphml_unsupported_for_"+k,m)},_getIsDirectedPost:function j(k,l){return k!==l},_getMediaPostGK:function j(){return c("WebGraphQLComposerGK").web_graphml_media_post}};f.exports=i}),null);
__d("PhotoUploadFacerecWaterfallTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PhotoUploadFacerecWaterfallLoggerConfig",this.$PhotoUploadFacerecWaterfallTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers["extends"]({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h}),null);
__d("createExponentialMovingAverage",[],(function a(b,c,d,e,f,g){function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m)}}function i(k){return function(l){return 1-Math.exp(-l/k)}}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m)}}h.createContinuous=j;f.exports=h}),null);
__d("VelocityTracker",["createExponentialMovingAverage","performanceNow"],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];"use strict";this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c("performanceNow")();this.$VelocityTracker2=c("createExponentialMovingAverage").createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c("createExponentialMovingAverage").createContinuous(i,this.$VelocityTracker6)}h.prototype.update=function(i,j){"use strict";var k=0;if(this.$VelocityTracker4){k=c("performanceNow")()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1e3/k,(j-this.$VelocityTracker4.y)*1e3/k)}else this.$VelocityTracker1=c("performanceNow")();this.$VelocityTracker4={x:i,y:j};return k};h.prototype.updateVelocity=function(i,j){"use strict";var k=c("performanceNow")(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l};h.prototype.getVelocityX=function(){"use strict";return Math.trunc(this.$VelocityTracker5)};h.prototype.getVelocityY=function(){"use strict";return Math.trunc(this.$VelocityTracker6)};h.prototype.getSpeed=function(){"use strict";return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6))};f.exports=h}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"})}),null);
__d("FaceRecognitionController",["ArbiterMixin","BanzaiODS","Poller","mixin","removeFromArray","FacerecWaterfallEvent"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this._config=babelHelpers["extends"]({uri:"/photos/tagging/recognition/",interval:2e3,maxRequests:4,targetIsPage:false,targetID:null},k);this._cleanup();this._poller=new(c("Poller"))({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(l,m){if(!this._pendingPhotos||this._pendingPhotos.length===0)m.skip();l.setURI(this._config.uri).setData({recognition_project:"composer_facerec",photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this))}.bind(this)});this._poller.subscribe("done",function(){var l=this._pendingPhotos;this._cleanup();this.inform("done",{unresolved:l,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_GIVE_UP})}.bind(this))}j.prototype.setWaterfallID=function(k){"use strict";this._config.waterfallID=k};j.prototype.start=function(k){"use strict";Array.prototype.push.apply(this._pendingPhotos,k);this._poller.reset();this._resetSafeguardTimeout()};j.prototype.stop=function(){"use strict";this._poller.stop();this._cleanup()};j.prototype._cleanup=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[]};j.prototype._resetSafeguardTimeout=function(){"use strict";window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){c("BanzaiODS").bumpEntityKey("composer_facerec","safeguard");var k=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform("done",{unresolved:k,facerecWaterfallEvent:c("FacerecWaterfallEvent").CLIENT_RECOGNITION_POLLER_TIMEOUT})}.bind(this),(this._config.maxRequests+2)*this._config.interval)};j.prototype._handleResponse=function(k){"use strict";var l=k.getPayload();l.forEach(function(m){var n=0;c("removeFromArray")(this._pendingPhotos,m.fbid);m.faceboxes.forEach(function(o){n+=o.recognitions.length;o.recognitions.forEach(function(p){this.inform("recognition",{photo:m.fbid,facebox:{fbid:o.fbid,x:o.x,y:o.y},recognition:p})}.bind(this))}.bind(this));this.inform("photo",{photo:m.fbid,faceboxes:m.faceboxes,recognitions:n})}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform("done",{unresolved:this._pendingPhotos})}};f.exports=j}),null);
__d("SharingSpacesStrings",["fbt"],(function a(b,c,d,e,f,g,h){var i={SHOW_SPACE_CREATION_BUTTON_TEXT:h._("Crear espacio"),SPACE_CREATION_DIALOG_HEADER:h._("Crear espacio"),SPACE_CREATION_TITLE_FIELD_LABEL:h._("Nombre"),SPACE_CREATION_TITLE_FIELD_PLACEHOLDER:h._("Nombre (como \"Mi familia\" o \"Comida\")"),SPACE_CREATION_DESCRIPTION_FIELD_LABEL:h._("Descripci\u00f3n"),SPACE_CREATION_DESCRIPTION_FIELD_PLACEHOLDER:h._("Agrega una descripci\u00f3n (opcional)"),SPACE_CREATION_PRIVACY_HEADER:h._("Seleccionar privacidad"),SPACE_CREATION_PRIVACY_SECRET:h._("Secreto"),SPACE_CREATION_PRIVACY_FRIENDS:h._("Amigos"),SPACE_CREATION_ADD_FOLLOWERS_DIALOG_TITLE:h._("Agregar seguidores"),SET_ADD_FOLLOWERS_ALLREADY_FOLLOWING:h._("Already a follower"),SPACE_CREATION_FRIENDS_SEARCH_GHOST_TEXT:h._("Busca amigos"),SPACE_CREATION_FRIENDS_SEARCH_RESULTS_HEADER:h._("Amigos"),SPACE_CREATION_SELECTED_FRIENDS_HEADER:h._("Seleccionados"),SPACE_CREATION_LOAD_MORE_FRIENDS:h._("Ver m\u00e1s"),SPACE_CREATION_DESELECT_FRIEND:h._("Desmarcar amigo"),CREATE_BUTTON_TEXT:h._("Crear"),SPACE_CREATION_NEXT_BUTTON_TEXT:h._("Siguiente"),SPACE_CREATION_BACK_BUTTON_TEXT:h._("Atr\u00e1s"),TITLE_REQUIRED_ERROR_MESSAGE:h._("El nombre no puede estar vac\u00edo"),CREATION_SERVER_ERROR_TITLE:h._("Se produjo un error..."),CREATION_SERVER_ERROR_MESSAGE:h._("No se puede crear el espacio en este momento. Vuelve a intentarlo m\u00e1s tarde."),ALBUMS_SELECTOR_HEADER:h._("\u00c1lbumes"),SHARING_SPACES_SELECTOR_NO_ALBUMS:h._("Crea un \u00e1lbum de tus \u00faltimas vacaciones."),FOLLOW_BUTTON_TEXT:h._("Seguir"),FOLLOWING_BUTTON_TEXT:h._("Siguiendo"),FALLBACK_POST_TEXT:h._("Publicaci\u00f3n"),EDIT_BUTTON_TEXT:h._("Editar"),EDIT_DIALOG_TITLE:h._("Editar conjunto"),EDIT_DIALOG_PRIVACY_HEADER:h._("Privacy"),SAVE_BUTTON_TEXT:h._("Save"),EDIT_SERVER_ERROR_MESSAGE:h._("Your set could not be edited right now. Please try again later."),getPostCount:function j(k){return h._({"*":"{number} publicaciones","_1":"1 publicaci\u00f3n"},[h.plural(k,"number")])},getFollowerCount:function j(k){return h._({"*":"{number} seguidores","_1":"1 seguidor"},[h.plural(k,"number")])},SHARING_SPACES_SELECTOR_CREATE_NEW:h._("Crear"),COMPOSER_NEXT_BUTTON:h._("Siguiente"),COMPOSER_BACK_BUTTON:h._("Atr\u00e1s"),SHARING_SPACES_SELECTOR_SEE_MORE:h._("Ver m\u00e1s"),SHARING_SPACES_SELECTOR_TITLE:h._("Publicar en"),SHARING_SPACES_SELECTOR_DESTINATION_TIMELINE:h._("Biograf\u00eda"),TYPE_ALBUM:h._("\u00c1lbum"),SPACES_CARD_ADD_POST_BUTTON:h._("Agregar publicaci\u00f3n")};f.exports=i}),null);
__d("ProfileIntroCardLogger",["csx","cx","BanzaiLogger","CSS","DataStore","Event","Parent","tidyEvent"],(function a(b,c,d,e,f,g,h,i){var j=null,k=null;function l(o,p,q,r){j=p;k=r;c("tidyEvent")(c("Event").listen(o,"click",function(s){var t=s.getTarget(),u=c("Parent").byAttribute(t,q);if(u){if(c("CSS").matchesSelector(u,"._md0")&&t.nodeName!=="A")return;n(JSON.parse(c("DataStore").get(u,"store")))}}))}function m(o){n(o)}function n(o){c("BanzaiLogger").log(j,babelHelpers["extends"]({},k,o))}f.exports={init:l,logClick:m}}),null);
__d("TimelineCapsuleUtilities",["CSS"],(function a(b,c,d,e,f,g){var h={setFirstUnit:function i(j){var k=true;for(var l=0;l<j.childNodes.length;++l){var m=j.childNodes[l];if(m.id.indexOf("tl_unit_")===0)if(k){k=false;c("CSS").addClass(m,"firstUnit")}else{c("CSS").removeClass(m,"firstUnit");break}}}};f.exports=h}),null);
__d("TimelineComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","DOMQuery","Event","Parent","ReloadPage","Run","TimelineCapsuleUtilities","$","getObjectValues","goURI","tidyEvent"],(function a(b,c,d,e,f,g,h){var i=void 0,j=void 0;function k(){c("ComposerXMarauderLogger").logCompleted(i.id)}function l(n){if(n.hidePost){k();return}if(n.redirect){var o=c("ComposerXStore").getAllForComposer(i.id);c("getObjectValues")(o).forEach(function(p){if(p.reset)p.reset(p)});c("goURI")(n.redirect);k();return}if(!n.streamStory){c("ReloadPage").now();return}if(n.backdatedTime){c("Bootloader").loadModules(["TimelineStoryPublisher"],function(p){p.publish(n)},"TimelineComposer");k();return}m.renderCapsuleBasedStory(i,n.streamStory);c("Arbiter").inform("TimelineComposer/on_after_publish",n.streamStory,c("Arbiter").BEHAVIOR_PERSISTENT);k()}var m={init:function n(o){i=c("$")(o);j=c("Arbiter").subscribe("composer/publish",function(event,p){if(p.composer_id===i.id)l(p)});c("Run").onLeave(m.destroy)},destroy:function n(){j&&j.unsubscribe()},renderCapsuleBasedStory:function n(o,p){var q=c("Parent").byClass(o,"fbTimelineCapsule");if(!q)return;var r=c("DOMQuery").scry(q,".fbTimelineUnit")[0],s=r.nextSibling;if(s&&s.getAttribute("data-spine"))r=r.nextSibling;var t=c("DOM").insertAfter(r,p)[0];if(c("CSS").hasClass(t,"fbTimelineUnit"))t=c("DOM").find(t,"div.timelineUnitContainer");c("Bootloader").loadModules(["Animation"],function(u){new u(t).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(u.ease.both).go()},"TimelineComposer");c("TimelineCapsuleUtilities").setFirstUnit(q)},getRoot:function n(){return i},initNUX:function n(o,p){c("tidyEvent")(c("Event").listen(o,"click",function(){var q=c("DOM").scry(p,"textarea")[0];q&&q.focus()}))}};f.exports=b.TimelineComposer||m}),null);
__d("ReactComposerAudienceSelectorActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({SET_SELECTED_GROUP:null,SET_SELECTED_FRIENDS:null,SET_ATTACHMENT_CONFIG:null,SET_COMPOSER_ATTACHMENT_TYPE:null,SET_IS_ERROR_SHOWN:null},"ReactComposerAudienceSelectorActionType")}),null);
__d("ReactComposerAudienceSelectorStore",["ReactComposerAudienceSelectorActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return{composerID:null,groupID:null,groupName:null,friendIDs:null,attachmentConfig:null,attachmentType:null,isErrorShown:null}},function(l){switch(l.type){case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_GROUP:k&&k.$ReactComposerAudienceSelectorStore1(l);break;case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_FRIENDS:k&&k.$ReactComposerAudienceSelectorStore2(l);break;case c("ReactComposerAudienceSelectorActionType").SET_ATTACHMENT_CONFIG:k&&k.$ReactComposerAudienceSelectorStore3(l);break;case c("ReactComposerAudienceSelectorActionType").SET_COMPOSER_ATTACHMENT_TYPE:k&&k.$ReactComposerAudienceSelectorStore4(l);break;case c("ReactComposerAudienceSelectorActionType").SET_IS_ERROR_SHOWN:k&&k.$ReactComposerAudienceSelectorStore5(l);break}});k=this}j.prototype.getGroupID=function(k){return this.getComposerData(k).groupID};j.prototype.getGroupName=function(k){return this.getComposerData(k).groupName};j.prototype.isAudienceSelectorSelected=function(k){return this.getComposerData(k).isAudienceSelectorSelected};j.prototype.$ReactComposerAudienceSelectorStore1=function(k){var l=this.getComposerData(k.composerID);l.groupID=k.groupID;l.groupName=k.groupName;l.isErrorShown=false;l.isAudienceSelectorSelected=k.isAudienceSelectorSelected;this.emitChange(k.composerID)};j.prototype.getFriendIDs=function(k){return this.getComposerData(k).friendIDs};j.prototype.$ReactComposerAudienceSelectorStore2=function(k){var l=this.getComposerData(k.composerID);l.friendIDs=k.friendIDs;l.isErrorShown=false;this.emitChange(k.composerID)};j.prototype.getAttachmentConfig=function(k){return this.getComposerData(k).attachmentConfig};j.prototype.$ReactComposerAudienceSelectorStore3=function(k){var l=this.getComposerData(k.composerID);l.attachmentConfig=k.attachmentConfig;this.emitChange(k.composerID)};j.prototype.getComposerAttachmentType=function(k){return this.getComposerData(k).attachmentType};j.prototype.$ReactComposerAudienceSelectorStore4=function(k){var l=this.getComposerData(k.composerID);l.attachmentType=k.attachmentType;this.emitChange(k.composerID)};j.prototype.getIsErrorShown=function(k){return this.getComposerData(k).isErrorShown};j.prototype.$ReactComposerAudienceSelectorStore5=function(k){var l=this.getComposerData(k.composerID);l.isErrorShown=k.isErrorShown;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactComposerFileActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},"ReactComposerFileActionType")}),null);
__d("ReactComposerFileStore",["fbt","ReactComposerFileActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";var l;j.constructor.call(this,function(){return{dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()}},function(m){switch(m.type){case c("ReactComposerFileActionType").RESET:l&&l.$ReactComposerFileStore2(m);break;case c("ReactComposerFileActionType").SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c("ReactComposerFileActionType").SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c("ReactComposerFileActionType").SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break}});l=this}k.prototype.getDialogAppURL=function(l){"use strict";return this.getComposerData(l).dialogAppURL};k.prototype.getDropboxActionEndpoint=function(l){"use strict";return this.getComposerData(l).dropboxActionEndpoint};k.prototype.getDropboxAppID=function(l){"use strict";return this.getComposerData(l).dropboxAppID};k.prototype.getDropboxEnabled=function(l){"use strict";return this.getComposerData(l).dropboxEnabled};k.prototype.getDropboxFileID=function(l){"use strict";return this.getComposerData(l).dropboxFileID};k.prototype.getFile=function(l){"use strict";return this.getComposerData(l).file};k.prototype.getMaxFileUploadSize=function(l){"use strict";return this.getComposerData(l).maxFileUploadSize};k.prototype.getMaxFileUploadString=function(l){"use strict";return this.getComposerData(l).maxFileUploadString};k.prototype.getSelectedDropboxFileName=function(l){"use strict";return this.getComposerData(l).selectedDropboxFileName};k.prototype.getSelectedFileName=function(l){"use strict";return this.getComposerData(l).selectedFileName};k.prototype.getURI=function(l){"use strict";return this.hasFile(l)?"/ajax/groups/files/upload":"/ajax/groups/files/dropbox_publish"};k.prototype.hasDropboxFile=function(l){"use strict";return!!this.getComposerData(l).dropboxFileID};k.prototype.hasFile=function(l){"use strict";return!!this.getComposerData(l).file};k.prototype.isFileSelected=function(l){"use strict";var m=this.getComposerData(l);return!!m.file||!!m.dropboxFileID};k.prototype.$ReactComposerFileStore1=function(){"use strict";return h._("Ning\u00fan archivo seleccionado")};k.prototype.$ReactComposerFileStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","id","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n)};k.prototype.$ReactComposerFileStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","file","name"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID)};k.prototype.$ReactComposerFileStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID)};f.exports=new k()}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function a(b,c,d,e,f,g){c("ReactComposerFileStore");h.prototype.reset=function(i){"use strict";var j={composerID:i,type:c("ReactComposerFileActionType").RESET};c("ReactComposerDispatcher").dispatch(j)};h.prototype.saveDropboxFile=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerFileActionType").SAVE_DROPBOX_FILE,id:j,name:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.saveFile=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SAVE_FILE,name:j.name,file:j.file};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerFileActionType").SET_FILE_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMediaAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_MEDIA_CONFIG:null},"ReactComposerMediaAttachmentActionType")}),null);
__d("ReactComposerMediaAttachmentStore",["ReactComposerMediaAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null}},function(l){switch(l.type){case c("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG:k&&k.$ReactComposerMediaAttachmentStore1(l);break}});k=this}j.prototype.getCreateAlbumLink=function(k){"use strict";return this.getComposerData(k).createAlbumLink};j.prototype.getTaggingDataSource=function(k){"use strict";return this.getComposerData(k).taggingDataSource};j.prototype.getVideoUploader=function(k){"use strict";return this.getComposerData(k).videoUploader};j.prototype.getVideoProgressBarInstance=function(k){"use strict";return this.getComposerData(k).videoProgressBarInstance};j.prototype.getVideoProgressBar=function(k){"use strict";return this.getComposerData(k).videoProgressBar};j.prototype.$ReactComposerMediaAttachmentStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.createAlbumLink=k.config.createAlbumLink;l.taggingDataSource=k.config.taggingDataSource;l.videoUploader=k.config.videoUploader;l.videoProgressBar=k.config.videoProgressBar;l.videoProgressBarInstance=k.config.videoProgressBarInstance;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactComposerMediaAttachmentActions",["ReactComposerDispatcher","ReactComposerMediaAttachmentActionType","ReactComposerMediaAttachmentStore"],(function a(b,c,d,e,f,g){c("ReactComposerMediaAttachmentStore");h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMediaAttachmentActionType").SET_MEDIA_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.createAlbumSelectorClicked=function(i){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMediaAttachmentActionType").CREATE_ALBUM_SELECTOR_CLICKED})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerCanvasActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},"ReactComposerCanvasActionType")}),null);
__d("ReactComposerPhotoCarouselActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},"ReactComposerPhotoCarouselActionType")}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_CAMERA_ICON:"carousel_camera_icon"})}),null);
__d("ReactComposerPhotoCarouselStore",["CarouselPagesComposerSource","PagesComposerActionsLogger","PagesComposerPostActionsLoggerEvent","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerPhotoCarouselActionType","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false}},function(l){switch(l.type){case c("ReactComposerPhotoCarouselActionType").SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c("ReactComposerPhotoCarouselActionType").UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c("ReactComposerPhotoCarouselActionType").PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c("ReactComposerPhotoCarouselActionType").SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c("ReactComposerPhotoCarouselActionType").HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c("ReactComposerPhotoCarouselActionType").SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c("CarouselPagesComposerSource").CAROUSEL_CAMERA_ICON)c("PagesComposerActionsLogger").log({event:c("PagesComposerPostActionsLoggerEvent").CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c("ReactComposerAttachmentType").MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c("ReactComposerAttachmentType").MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false}this.emitChange(l)};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l)};j.prototype.shouldShowURLEditArea=function(k){"use strict";return this.getComposerData(k).shouldShowURLEditArea};j.prototype.seenNux=function(k){"use strict";return this.getComposerData(k).seenNux};j.prototype.isPhotoCarouselSelected=function(k){"use strict";return this.getComposerData(k).isPhotoCarouselSelected};j.prototype.isCarouselPreviewCompleted=function(k){"use strict";return this.getComposerData(k).isCarouselPreviewCompleted};f.exports=new j()}),null);
__d("ReactComposerCollectionActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ATTACHMENT_SELECT_COLLECTION:null,ATTACHMENT_CANCEL_COLLECTION:null,SET_COLLECTION:null,SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:null,SET_POST_TITLE:null,SET_PRODUCT_SET_ID:null,SET_FEATURED_PRODUCT_IDS:null,SHOW_FEATURED_PRODUCT_DIALOG:null,HIDE_FEATURED_PRODUCT_DIALOG:null,UPDATE_COLLECTION_DIALOG_VISIBILITY:null},"ReactComposerCollectionActionType")}),null);
__d("XReactComposerCollectionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/bootstrap/",{composer_id:{type:"String",required:true},canvas_id:{type:"FBID",required:true},target_id:{type:"FBID",required:true}})}),null);
__d("XReactComposerCollectionAttachmentPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collection/publish/",{canvas_id:{type:"FBID",required:true},featured_retailer_ids:{type:"StringSet",required:true}})}),null);
__d("ReactComposerCollectionStore",["Bootloader","ActorURI","AsyncRequest","ReactComposerActionTypes","ReactComposerCollectionActionType","ReactComposerStoreBase","XReactComposerCollectionAttachmentBootstrapController","XReactComposerCollectionAttachmentPublishController","AdsCollectionsConstants"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("AdsCollectionsConstants").EMPTY_COLLECTIONS_RETAIL_ID;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){var l=void 0;i.constructor.call(this,function(){return{actorID:null,attachmentConfig:{},canvasID:null,defaultCanvasID:null,featuredRetailerIDs:j,featuredRetailerImages:[],heroImage:null,heroVideo:null,isCollectionSelected:false,isLoading:false,itemIDs:[],itemImages:[],productCatalogVertical:null,productSetID:null,templateID:null}},function(m){switch(m.type){case c("ReactComposerCollectionActionType").ATTACHMENT_SELECT_COLLECTION:l&&l.$ReactComposerCollectionStore1(m);break;case c("ReactComposerCollectionActionType").ATTACHMENT_CANCEL_COLLECTION:l&&l.$ReactComposerCollectionStore2(m);break;case c("ReactComposerCollectionActionType").SET_COLLECTION:l&&l.$ReactComposerCollectionStore3(m);break;case c("ReactComposerCollectionActionType").SET_POST_TITLE:l&&l.$ReactComposerCollectionStore4(m);break;case c("ReactComposerCollectionActionType").SET_PRODUCT_SET_ID:l&&l.$ReactComposerCollectionStore5(m);break;case c("ReactComposerCollectionActionType").SET_FEATURED_PRODUCT_IDS:l&&l.$ReactComposerCollectionStore6(m);break;case c("ReactComposerCollectionActionType").SHOW_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,true);break;case c("ReactComposerCollectionActionType").HIDE_FEATURED_PRODUCT_DIALOG:l&&l.$ReactComposerCollectionStore7(m,false);break;case c("ReactComposerCollectionActionType").UPDATE_COLLECTION_DIALOG_VISIBILITY:l&&l.$ReactComposerCollectionStore8(m);break;case c("ReactComposerCollectionActionType").SET_DEFAULT_CANVAS_AND_TEMPLATE_ID:l&&l.$ReactComposerCollectionStore9(m);break;case c("ReactComposerActionTypes").POST_STARTED:l&&l.$ReactComposerCollectionStore10(m);break;case c("ReactComposerActionTypes").PUBLISH_STARTED:l&&l.$ReactComposerCollectionStore11(m);break;default:break}});l=this}k.prototype.$ReactComposerCollectionStore12=function(l,m){var n=this.getComposerData(l),o=Object.entries(m).filter(function(w){var u=w[0],v=w[1];return n[u]!==v});if(o.length){for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t[0],v=t[1];n[u]=v}this.emitChange(l)}};k.prototype.$ReactComposerCollectionStore2=function(l){var m=this.validateAction(l,"composerID");this.clearComposerData(m);this.emitChange(m)};k.prototype.$ReactComposerCollectionStore1=function(l){var m=this.validateAction(l,["actorID","composerID","canvasID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=c("XReactComposerCollectionAttachmentBootstrapController").getURIBuilder().setString("composer_id",o).setFBID("canvas_id",p).setFBID("target_id",q).getURI();r=c("ActorURI").create(r,n);new(c("AsyncRequest"))(r).send();this.$ReactComposerCollectionStore12(o,{attachmentConfig:{},canvasID:p,isCollectionSelected:!!p,isLoading:true})};k.prototype.$ReactComposerCollectionStore10=function(l){var m=this.validateAction(l,["actorID","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o);if(!p.isCollectionSelected)return;p.actorID=n};k.prototype.$ReactComposerCollectionStore11=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.actorID)return;var o=c("XReactComposerCollectionAttachmentPublishController").getURIBuilder().setFBID("canvas_id",n.canvasID).setStringSet("featured_retailer_ids",n.featuredRetailerIDs).getURI();o=c("ActorURI").create(o,n.actorID);new(c("AsyncRequest"))(o).send();n.actorID=null;this.$ReactComposerCollectionStore8({composerID:m,isVisible:false,canvasID:null})};k.prototype.$ReactComposerCollectionStore3=function(l){var m=l.composerID,n=l.postTitle,o=babelHelpers.objectWithoutProperties(l,["composerID","postTitle"]),p=o.attachmentConfig.params;p.title=n;if(o.heroImage)p.images.push(o.heroImage);else if(o.heroVideo)p.video.push(o.heroVideo);o.isLoading=false;this.$ReactComposerCollectionStore12(m,o)};k.prototype.$ReactComposerCollectionStore4=function(l){var m=this.validateAction(l,["composerID","postTitle"]),n=m[0],o=m[1],p=this.getComposerData(n);p.attachmentConfig.params.title=o;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore5=function(l){var m=this.validateAction(l,["composerID","productSetID","productCatalogVertical"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.productSetID=o;q.productCatalogVertical=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore7=function(l,m){var n=this.validateAction(l,"composerID"),o=this.getComposerData(n);o.shouldShowFeaturedProductDialog=m;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore6=function(l){var m=this.validateAction(l,["composerID","featuredRetailerIDs","featuredRetailerImages"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.featuredRetailerIDs=o;q.featuredRetailerImages=p;this.emitChange(n)};k.prototype.$ReactComposerCollectionStore8=function(l){c("Bootloader").loadModules(["AdsCanvasInlineBuilderActions"],function(m){var n=this.validateAction(l,["composerID","isVisible"]),o=n[0],p=n[1],q=l.canvasID,r=this.getComposerData(o),s=r.defaultCanvasID,t=r.templateID;m.setShowInlineModal(p,q||s,t)}.bind(this),"ReactComposerCollectionStore")};k.prototype.$ReactComposerCollectionStore9=function(l){var m=this.validateAction(l,["composerID","defaultCanvasID","templateID"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerCollectionStore12(n,{defaultCanvasID:o,templateID:p})};k.prototype.shouldShowFeaturedProductDialog=function(l){return this.getComposerData(l).shouldShowFeaturedProductDialog};k.prototype.isCollectionSelected=function(l){return this.getComposerData(l).isCollectionSelected};k.prototype.isLoading=function(l){return this.getComposerData(l).isLoading};k.prototype.getAttachmentConfig=function(l){var m=this.getComposerData(l),n=m.attachmentConfig;return n.params?n:null};k.prototype.getCanvasID=function(l){return this.getComposerData(l).canvasID};k.prototype.getHeroImage=function(l){return this.getComposerData(l).heroImage};k.prototype.getHeroVideo=function(l){return this.getComposerData(l).heroVideo};k.prototype.getItemImages=function(l){var m=this.getComposerData(l),n=m.featuredRetailerIDs,o=m.featuredRetailerImages,p=m.itemIDs,q=m.itemImages,r=n.reduce(function(t,u){t[u]=true;return t},{}),s=q.filter(function(t,u){return!r[p[u]]});return o.concat(s).slice(0,4)};k.prototype.getPostTitle=function(l){var m=this.getComposerData(l),n=m.attachmentConfig.params;return n?n.title:""};k.prototype.getProductCatalogVertical=function(l){return this.getComposerData(l).productCatalogVertical};k.prototype.getProductSetID=function(l){return this.getComposerData(l).productSetID};f.exports=new k()}),null);
__d("ReactComposerFailedMediaUpload.react",["cx","fbt","React","XUIButton.react","XUICloseButton.react","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.error["transient"]?c("React").createElement(c("XUIButton.react"),{className:"_4_e",label:i._("Reintentar"),onClick:this.props.onRetryClick,size:"small",use:"special"}):c("React").createElement(c("XUIButton.react"),{className:"_4_f",label:i._("Aceptar"),onClick:this.props.onDismissClick,size:"small"});return c("React").createElement("span",null,c("React").createElement("div",{ref:function(o){return this.$ReactComposerFailedMediaUpload1=o}.bind(this),className:"_4_g"},c("React").createElement(c("XUICloseButton.react"),{className:"_2n25",onClick:this.props.onRemoveClick,size:"medium",shade:"light"}),c("React").createElement("p",{className:"_4_h"},i._("Error")),c("React").createElement("div",{className:"_4_i"},c("React").createElement("p",{className:"_4_j"},this.props.filename)),n),c("React").createElement(c("XUIContextualDialog.react"),{contextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),hoverContextRef:function(){return this.$ReactComposerFailedMediaUpload1}.bind(this),width:c("XUIContextualDialog.react").WIDTH.NORMAL,position:"right"},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.props.error.summary),c("React").createElement(c("XUIContextualDialogBody.react"),null,c("React").createElement("div",{dangerouslySetInnerHTML:{__html:this.props.error.description}}))))};function m(){j.apply(this,arguments)}m.propTypes={error:l.object.isRequired,filename:l.string,onDismissClick:l.func,onRemoveClick:l.func,onRetryClick:l.func,uploadID:l.string.isRequired};f.exports=m}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"})}),null);
__d("ExtensibleSproutsLayoutStateType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPANDED_DEFAULT:"expanded_default",COLLAPSED:"collapsed",FULL_SCREEN:"full_screen",EXPANDED:"expanded"})}),null);
__d("ReactComposerPerfLogger",["ComposerType","ComposerXSessionIDs","MarauderLogger"],(function a(b,c,d,e,f,g){var h={},i=c("ComposerType").STATUS,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c("ComposerXSessionIDs").getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true}var q=babelHelpers["extends"]({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c("MarauderLogger").log(l,"composer",q,undefined,undefined,p)},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}}},getInstance:function k(l){return h[l]}};f.exports=j}),null);
__d("ReactComposerLoggingStore",["invariant","Bootloader","ComposerEntryPointRef","ComposerPerfEvent","ComposerWaterfallEvent","ComposerXMarauderLogger","ComposerXSessionIDs","FacerecWaterfallEvent","immutable","PhotosUploadWaterfallXMixin","PhotoUploadFacerecWaterfallTypedLogger","PUWApplications","PUWMethods","PUWSteps","ReactComposerActionTypes","ReactComposerAlbumActionType","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceActionTypes","ReactComposerAudienceStore","ReactComposerCollectionsActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingQueue","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPerfLogger","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadActionType","ReactComposerSproutsDisplayState","ExtensibleSproutsItemType","ExtensibleSproutsLayoutStateType","SATPPresetCollection","classWithMixins","ifRequired","mixin","nullthrows","performanceAbsoluteNow"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("classWithMixins")(c("ReactComposerStoreBase"),c("mixin")(c("PhotosUploadWaterfallXMixin"))));j=i&&i.prototype;function k(){var l;j.constructor.call(this,function(){return{activated:false,perfTimes:{},sessionID:null,uniqueEvents:c("immutable").Map([[c("PUWSteps").CLIENT_PUBLISH_SUCCESS,false],[c("PUWSteps").CLIENT_FLOW_SUCCESS,false]])}},function(m){l&&l.handler(m)});l=this}k.prototype.handler=function(l){if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c("ReactComposerActionTypes").COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c("ReactComposerAlbumActionType").CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c("ReactComposerTaggerActionType").DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerTaggerStore").getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c("ReactComposerActionTypes").POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c("ReactComposerActionTypes").POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c("ReactComposerActionTypes").POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c("ReactComposerMediaUploadActionType").PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c("ReactComposerActionTypes").FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c("ReactComposerActionTypes").FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c("ReactComposerActionTypes").FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE:this.$ReactComposerLoggingStore38(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerScrapedAttachmentStore").getDispatchToken()]);this.$ReactComposerLoggingStore39(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:this.$ReactComposerLoggingStore40(l);break;case c("ReactComposerActionTypes").COMPOSER_CANCEL:this.$ReactComposerLoggingStore41(l);break;case c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT:this.$ReactComposerLoggingStore42(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore43(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore44(l);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:if(c("ReactComposerDispatcher").isDispatching())c("ReactComposerDispatcher").waitFor([c("ReactComposerAudienceStore").getDispatchToken()]);this.$ReactComposerLoggingStore45(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:this.$ReactComposerLoggingStore46(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:this.$ReactComposerLoggingStore47(l);break;default:}};k.prototype.getSessionID=function(l){return c("ComposerXSessionIDs").getSessionID(l)};k.prototype.isActivated=function(l){return this.getComposerData(l).activated};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c("ReactComposerLoggingQueue").getLength()>0)this.$ReactComposerLoggingStore48()};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}})};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore50(n,o,p)};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore51(n,o,p)};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,["composerID","featureType","uiElementName"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore52(n,o,p)};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,"composerID");if(c("ReactComposerAttachmentStore").isSelectedAttachmentActive(m))this.$ReactComposerLoggingStore2(l);if(l.loggingName&&Object.prototype.hasOwnProperty.call(c("ExtensibleSproutsItemType"),l.loggingName))this.$ReactComposerLoggingStore50(m,l.loggingName,l.loggingName)};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(o,c("ComposerPerfEvent").CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootloadDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(o,c("ComposerPerfEvent").CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c("ReactComposerAttachmentStore").getBootstrapDuration(o,n)}})};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").ALBUM_INTENT)};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore50(n,c("ExtensibleSproutsItemType").MEDIA,o);this.$ReactComposerLoggingStore49(n,c("ComposerWaterfallEvent").MEDIA_INTENT);this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_SELECT_BEGIN)};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(n,c("ExtensibleSproutsItemType").MEDIA,o)};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").PHOTO_ADD);this.$ReactComposerLoggingStore55(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_PROCESS_BEGIN,o)};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_PROCESS_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_PROCESS_FAIL,o)};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_SUCCESS,o)};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,["composerID","loggingData"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_SPHERICAL_CHECK_FAIL,o)};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_PROCESS_UNAVAILABLE)};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,["composerID","fileUpload"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size})};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,["composerID","fileUpload","timeToUpload"]),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))q=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore49(n,c("ComposerWaterfallEvent").PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width})};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,["composerID","fileUpload","error","timeToUpload"]),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c("ReactComposerMediaUploadStore").getMediaUploadExists(n,l.uploadID))r=c("ReactComposerMediaUploadStore").getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore49(n,c("ComposerWaterfallEvent").PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width})};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore55(m,c("ExtensibleSproutsItemType").MEDIA);this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_TRANSFER_CANCEL)};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").PHOTO_REMOVE);this.$ReactComposerLoggingStore55(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore55(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").VIDEO_ADD)};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").VIDEO_REMOVE);this.$ReactComposerLoggingStore55(m,c("ExtensibleSproutsItemType").MEDIA)};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore56(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore51(n,q,p)};k.prototype.$ReactComposerLoggingStore24=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1],p=c("ReactComposerTaggerStore").getSelectedTagger(n),event=null;switch(p){case c("ReactComposerTaggerType").PEOPLE:this.$ReactComposerLoggingStore50(n,c("ExtensibleSproutsItemType").WITH_TAG,o);event=c("ComposerWaterfallEvent").FRIEND_TAG_INTENT;break;case c("ReactComposerTaggerType").LOCATION:this.$ReactComposerLoggingStore50(n,c("ExtensibleSproutsItemType").LOCATION,o);event=c("ComposerWaterfallEvent").LOCATION_INTENT;break;case c("ReactComposerTaggerType").ACTIVITY:this.$ReactComposerLoggingStore50(n,c("ExtensibleSproutsItemType").MINUTIAE,o);event=c("ComposerWaterfallEvent").MINUTIAE_INTENT;break;case c("ReactComposerTaggerType").MARKDOWN:event=c("ComposerWaterfallEvent").MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore56(p);if(q)this.$ReactComposerLoggingStore50(n,q,o);break}if(event===null)return;this.$ReactComposerLoggingStore49(n,event)};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,["composerID","taggerID","sourceLoggingName"]),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore56(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore55(n,q,p)};k.prototype.$ReactComposerLoggingStore26=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.perfTimes.postStartTime=c("performanceAbsoluteNow")();this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").COMPOSER_POST);if(this.$ReactComposerLoggingStore57(m)){this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore58(m));c("ReactComposerPhotoStore").getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log()})})}this.$ReactComposerLoggingStore59(m,"post")};k.prototype.$ReactComposerLoggingStore27=function(l){var m,n=this,o=this.validateAction(l,"composerID"),p=this.getComposerData(o);this.$ReactComposerLoggingStore49(o,c("ComposerWaterfallEvent").COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore53(o,c("ComposerPerfEvent").CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(o),duration:c("performanceAbsoluteNow")()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore57(o)){var q=this.$ReactComposerLoggingStore58(o);this.$ReactComposerLoggingStore54(o,c("PUWSteps").CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore54(o,c("PUWSteps").CLIENT_FLOW_SUCCESS);var r=c("ReactComposerPhotoStore").getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++});if(s>0)c("Bootloader").loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||"",surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s})}.bind(n),"ReactComposerLoggingStore")})()}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore53(m,c("ComposerPerfEvent").CLIENT_POST_FAILED,{extraData:{attachment_type:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),duration:c("performanceAbsoluteNow")()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore57(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore58(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_PUBLISH_FAIL,p)}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,["composerID","numPhotos","method"]),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c("PUWMethods").FILE_SELECTOR)this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore54(n,c("PUWSteps").CLIENT_SELECT_SUCCESS,q)};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_PHOTO_EDIT_BEGIN)};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_PHOTO_EDIT_SUCCESS)};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore54(m,c("PUWSteps").CLIENT_TRANSFER_MANUAL_RETRY)};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,["photoID","facebox"]),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("FacerecWaterfallEvent").RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log()};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,["photos","facerecWaterfallEvent"]),n=m[0],o=m[1];n.forEach(function(p){new(c("PhotoUploadFacerecWaterfallTypedLogger"))().setEvent(c("nullthrows")(o)).setPhotoFbid(p).log()})};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore55(m,c("ReactComposerFeatureType").LINK,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore55(m,c("ReactComposerFeatureType").PRIVACY,l.sourceLoggingName)};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").COMPOSER_CANCEL)};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,"composerID");this.$ReactComposerLoggingStore59(m,"cancel");this.$ReactComposerLoggingStore49(m,c("ComposerWaterfallEvent").NAVIGATE_AWAY)};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore50(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore55(n,c("ReactComposerFeatureType").COLLECTIONS,o)};k.prototype.$ReactComposerLoggingStore46=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName"]),n=m[0],o=m[1];this.$ReactComposerLoggingStore50(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o)};k.prototype.$ReactComposerLoggingStore47=function(l){var m=this.validateAction(l,["composerID","sourceLoggingName","isCancel"]),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore52.bind(this):this.$ReactComposerLoggingStore51.bind(this);q(n,c("ReactComposerFeatureType").COLLECTION_CREATION,o)};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,["composerID","visibilityMap","event","sproutsState"]),n=m[0],o=m[1],event=m[2],p=m[3];this.$ReactComposerLoggingStore49(n,event,{extraData:{sprouts_visibilities:o,state:p===c("ReactComposerSproutsDisplayState").INLINE?c("ExtensibleSproutsLayoutStateType").COLLAPSED:c("ExtensibleSproutsLayoutStateType").EXPANDED_DEFAULT}})};k.prototype.$ReactComposerLoggingStore57=function(l){var m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").MEDIA),n=c("ReactComposerMediaUploadStore").getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO);return m&&!!n.size};k.prototype.$ReactComposerLoggingStore58=function(l){var m=c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[],n=c("ReactComposerMediaUploadStore").getTotalNumberOfStickersOnPhotos(l);return{volume:c("ReactComposerPhotoStore").getPhotos(l).size,with_tag_count:m.length,sticker_count:n}};k.prototype.$ReactComposerLoggingStore50=function(l,m,n){this.$ReactComposerLoggingStore49(l,c("ComposerWaterfallEvent").FEATURE_INTENT,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore55=function(l,m,n){this.$ReactComposerLoggingStore49(l,c("ComposerWaterfallEvent").FEATURE_UPDATE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore52=function(l,m,n){this.$ReactComposerLoggingStore49(l,c("ComposerWaterfallEvent").FEATURE_CANCEL,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore51=function(l,m,n){this.$ReactComposerLoggingStore49(l,c("ComposerWaterfallEvent").FEATURE_DONE,{extraData:{feature_type:m,source:n}})};k.prototype.$ReactComposerLoggingStore49=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}if(c("ReactComposerStore").getRef(l)===c("ComposerEntryPointRef").RECENT_POSTS)c("Bootloader").loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData("payload",JSON.stringify(this.$ReactComposerLoggingStore60(l))).addToExtraData("message",c("ReactComposerStatusStore").getMessageText(l)).log()}.bind(this),"ReactComposerLoggingStore");m.extraData=Object.assign({is_markdown_enabled:!!c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore60(l),ordered_sprouts:c("ReactComposerStore").getOrderedSprouts(l),ranker_request_id:c("ReactComposerStore").getRankerRequestID(l),sprout_surface:c("ReactComposerStore").getSproutSurface(l)},m.extraData);c("ComposerXMarauderLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore53=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true)}c("ReactComposerPerfLogger").logEvent(event,l,m)};k.prototype.$ReactComposerLoggingStore54=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true)}this.logPUWStep(m,this.getSessionID(l),c("PUWApplications").WEB_REACT_COMPOSER,c("ReactComposerStore").getRef(l),n,o,p)};k.prototype.$ReactComposerLoggingStore48=function(){while(c("ReactComposerLoggingQueue").getLength()>0){var l=c("ReactComposerLoggingQueue").pop();this.handler(l)}};k.prototype.$ReactComposerLoggingStore60=function(l){return{character:c("ReactComposerStatusStore").getTextLength(l),location_tag:c("ReactComposerTaggerStore").hasLocationTag(l),implicit_location:c("ReactComposerTaggerStore").hasImplicitLocation(l),minutiae:c("ReactComposerTaggerStore").hasMinutiae(l),with_who_tag:c("ReactComposerTaggerStore").getNumberOfWithWhoTags(l),photo:c("ReactComposerMediaUploadStore").getNonsphericalPhotoCount(l),three_sixty_photo:c("ReactComposerMediaUploadStore").getSphericalPhotoCount(l),video:c("ReactComposerMediaUploadStore").getUploadsCount(l,c("ReactComposerMediaUploadType").VIDEO),shared_link:c("ReactComposerScrapedAttachmentStore").hasAttachment(l)?1:0,backdated:c("ReactComposerTaggerStore").hasBackdate(l)?c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").BACKDATE):null,audience:c("ReactComposerAudienceStore").getAudience(l),collection:c("ReactComposerAudienceStore").getCollectionID(l)}};k.prototype.$ReactComposerLoggingStore56=function(l){switch(l){case c("ReactComposerTaggerType").PEOPLE:return c("ExtensibleSproutsItemType").WITH_TAG;case c("ReactComposerTaggerType").LOCATION:return c("ExtensibleSproutsItemType").LOCATION;case c("ReactComposerTaggerType").ACTIVITY:return c("ExtensibleSproutsItemType").MINUTIAE;case c("ReactComposerTaggerType").MARKDOWN:return c("ExtensibleSproutsItemType").MARKDOWN;case c("ReactComposerTaggerType").BACKDATE:return c("ExtensibleSproutsItemType").BACKDATE;case c("ReactComposerTaggerType").SPONSOR:return c("ExtensibleSproutsItemType").SPONSOR_TAG;case c("ReactComposerTaggerType").PRODUCT:return c("ExtensibleSproutsItemType").TAG_PRODUCT;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerFeatureType").PAGE_CTA;case c("ReactComposerTaggerType").FORMATTED_TEXT:return c("ExtensibleSproutsItemType").TEXT_BACKGROUND;case c("ReactComposerTaggerType").ISSUE_TAG:return c("ReactComposerFeatureType").ISSUE_TAG;case c("ReactComposerTaggerType").STICKER:return c("ExtensibleSproutsItemType").STICKER;case c("ReactComposerTaggerType").GIF:return c("ExtensibleSproutsItemType").GIF;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerFeatureType").MESSAGING;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return c("ExtensibleSproutsItemType").CONTACT_YOUR_REPRESENTATIVE;case c("ReactComposerTaggerType").FUN_FACT:return c("ExtensibleSproutsItemType").FUN_FACT;case c("ReactComposerTaggerType").FUNDRAISER:return c("ExtensibleSproutsItemType").FUNDRAISER;case c("ReactComposerTaggerType").ALBUM:return c("ReactComposerFeatureType").ALBUM;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ExtensibleSproutsItemType").VISUAL_POLLS;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ExtensibleSproutsItemType").RECOMMENDATION;case c("ReactComposerTaggerType").SALES_PROMO:return c("ExtensibleSproutsItemType").SALES_PROMO;case c("ReactComposerTaggerType").TAG_EVENT:return c("ExtensibleSproutsItemType").TAG_EVENT;case c("ReactComposerTaggerType").BREAKING_NEWS:return c("ReactComposerFeatureType").BREAKING_NEWS;default:return null}};k.prototype.$ReactComposerLoggingStore59=function(l,m){c("ifRequired")("ReactComposerFormattedTextStore",function(n){var o=n.getTextFormatPresetID(l)||n.getPrevSelectedTextFormatPresetID(l),p=n.getTrackingString(l);if(o)c("ifRequired")("SATPInteractionsTypedLogger",function(q){new q().setTrackingString(p).setUserActionString(m).setPresetID(o).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()})})};f.exports=new k()}),null);
__d("ReactComposerPhotoUploader",["ActorURI","AsyncUploadRequest","FaceRecognitionController","JpegResizer","Map","PhotosUploadID","PhotosUploadWaterfallErrorCodes","ReactComposerLoggingStore","ReactComposerMediaConfig","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMediaUtils","ReactComposerPhotoActions","SphericalPhotoConfig","XComposerPhotoUploader","ifRequired","performanceNow"],(function a(b,c,d,e,f,g){"use strict";var h=b.URL||b.webkitURL||{};function i(j,k,l){this.$ReactComposerPhotoUploader1=j.composerID;this.$ReactComposerPhotoUploader5=l;var m=c("ReactComposerMediaConfig").photo,n=null;if(c("JpegResizer").isSupported()){n=c("JpegResizer").getSingleton(k>1?c("JpegResizer").DEFAULT_POOL_SIZE:1);n.setHighQuality(m.highQuality)}else c("ReactComposerMediaUploadActions").resizerUnavailable(this.$ReactComposerPhotoUploader1);var o=c("ActorURI").create(m.uploadEndpoint,j.actorID);this.$ReactComposerPhotoUploader2=new(c("XComposerPhotoUploader"))({uploadEndpoint:o,uploadData:Object.assign({qn:c("ReactComposerLoggingStore").getSessionID(this.$ReactComposerPhotoUploader1),target_id:j.targetID},m.uploadData),retryLimit:m.retryLimit,concurrentLimit:m.concurrentLimit,resizer:n,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onSphericalCheckSuccess:this.$ReactComposerPhotoUploader11.bind(this),onSphericalCheckFailure:this.$ReactComposerPhotoUploader12.bind(this),onUploadIsSpherical:this.$ReactComposerPhotoUploader13.bind(this),onUploadStart:this.$ReactComposerPhotoUploader14.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader15.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader16.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader17.bind(this),gks:j.gks});this.$ReactComposerPhotoUploader3=new(c("FaceRecognitionController"))({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe("photo",this.$ReactComposerPhotoUploader18.bind(this));this.$ReactComposerPhotoUploader3.subscribe("done",this.$ReactComposerPhotoUploader19.bind(this));this.$ReactComposerPhotoUploader4=new(c("Map"))()}i.prototype.upload=function(j){var k=c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size;this.$ReactComposerPhotoUploader2.upload(j,k)};i.prototype.retry=function(j){var k=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([j]);k.send()};i.prototype.getAsyncUploadRequest=function(j,k){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(j,k)};i.prototype.enqueueAsyncUploadRequest=function(j,k,l,m,n){k.forEach(function(o){var p=l.indexMap?l.indexMap.get(o.uploadID):c("ReactComposerMediaUploadStore").getUploads(j).size;c("ReactComposerMediaUploadActions").enqueue(j,o.uploadID,o.name,p,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,h.createObjectURL?h.createObjectURL(o):null,m.xyTags,n)});this.getAsyncUploadRequest(k,l).send()};i.prototype.isUploadLimitExceeded=function(j,k){var l=this.getMaxSelectableFilesCount(j),m=!k||!c("AsyncUploadRequest").isSupported()?1:k.length;return m>l};i.prototype.getMaxSelectableFilesCount=function(j){return!!j?c("ReactComposerMediaConfig").photo.limit:1};i.prototype.$ReactComposerPhotoUploader6=function(j){c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerPhotoUploader1,j.uploadID,j.fileName,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerPhotoUploader1).size,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").PHOTO,j.fileURL,null,j.isSpherical)};i.prototype.$ReactComposerPhotoUploader13=function(j,k,l){c("ReactComposerMediaUploadActions").isSpherical(this.$ReactComposerPhotoUploader1,j.uploadID,k,l)};i.prototype.$ReactComposerPhotoUploader7=function(j){c("ReactComposerMediaUploadActions").startResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{bytes:j.size})};i.prototype.$ReactComposerPhotoUploader10=function(j,event){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressResizing(this.$ReactComposerPhotoUploader1,j,100*event.written/event.total)}.bind(this),0)};i.prototype.$ReactComposerPhotoUploader8=function(j,k,l,m){c("ReactComposerMediaUploadActions").doneResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:m,media_data_size:j.size,bytes:k.size,custom_tags:{skipped_resizing:l}})};i.prototype.$ReactComposerPhotoUploader9=function(j,k,l,m){c("ReactComposerMediaUploadActions").failResizing(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:m,bytes:j.size,error_code:l.code,error_info:l.message})};i.prototype.$ReactComposerPhotoUploader11=function(j,k,l){var m=l.isSpherical()&&c("SphericalPhotoConfig").is_www_perceived_perf_on;c("ReactComposerMediaUploadActions").doneSphericalCheck(this.$ReactComposerPhotoUploader1,j.uploadID,{dt:k,projection_type:l.getProjectionType()},l,m)};i.prototype.$ReactComposerPhotoUploader12=function(j,k){var l=arguments.length<=2||arguments[2]===undefined?false:arguments[2],m=l?c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_TIMEOUT:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED;c("ReactComposerMediaUploadActions").failSphericalCheck(this.$ReactComposerPhotoUploader1,j.uploadID,{error_code:m,dt:k})};i.prototype.$ReactComposerPhotoUploader14=function(j,k){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerPhotoUploader1,j,k.upload,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING);this.$ReactComposerPhotoUploader4.set(j,c("performanceNow")())};i.prototype.$ReactComposerPhotoUploader15=function(j,k){setTimeout(function(){return c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerPhotoUploader1,j,100*k.event.loaded/k.event.total,false)}.bind(this),0)};i.prototype.$ReactComposerPhotoUploader16=function(j,k){if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,j))return;if(!k.response.payload)return;var l=Array.isArray(k.response.payload)?k.response.payload:[k.response.payload],m=this.$ReactComposerPhotoUploader4.get(j)||0,n=m?c("performanceNow")()-m:0,o=l[0],p=l.slice(1);c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerPhotoUploader1,uploadID:j,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE,fileUpload:k.upload,timeToUpload:n,photoID:o.photoID,sphericalPhotoID:o.sphericalPhotoID,thumbSrc:o.thumbSrc,originalPhotoID:o.originalPhotoID,mediaLocation:o.mediaLocation,cubestripURI:c("SphericalPhotoConfig").spherical_photo_www_upload&&o.cubestripURI||null,imageSrc:o.imageSrc,width:o.width,height:o.height});c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerPhotoUploader1);this.$ReactComposerPhotoUploader20(j,o,k.upload);p.forEach(function(q){var r=c("PhotosUploadID").getNewID();c("ReactComposerMediaUploadActions").doneUploadingExtra(this.$ReactComposerPhotoUploader1,r,q.photoID,q.thumbSrc,c("SphericalPhotoConfig").spherical_photo_www_upload&&q.cubestripURI||null,q.imageSrc,q.width,q.height);this.$ReactComposerPhotoUploader20(r,q,k.upload)}.bind(this))};i.prototype.$ReactComposerPhotoUploader20=function(j,k,l){if(this.$ReactComposerPhotoUploader21()){c("ReactComposerPhotoActions").startRecognizing(this.$ReactComposerPhotoUploader1,k.photoID);this.$ReactComposerPhotoUploader3.start([k.photoID])}var m=c("ReactComposerMediaUploadStore").getMediaUpload(this.$ReactComposerPhotoUploader1,j);if(m.xyTags)c("ReactComposerMediaUtils").handleXYTagsOnly(this.$ReactComposerPhotoUploader1,m.photoID,m.xyTags)};i.prototype.$ReactComposerPhotoUploader17=function(j,k,l){if(c("ReactComposerMediaUploadStore").getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,j))return;var m=k.response,n={code:m.getError(),description:m.getErrorDescription(),summary:m.getErrorSummary(),"transient":m.isTransient()||m.getError()==1004||m.getError()==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerPhotoUploader1,j,k.upload,c("performanceNow")()-this.$ReactComposerPhotoUploader4.get(j),n,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED)};i.prototype.$ReactComposerPhotoUploader18=function(j,k){if(this.$ReactComposerPhotoUploader21())k.faceboxes.forEach(function(l){var m=void 0;if(l.recognitions.length>0){var n=l.recognitions[0].user;m={subjectID:n.fbid,value:n.name}}c("ReactComposerPhotoActions").addFacebox(this.$ReactComposerPhotoUploader1,k.photo,{id:l.fbid,x:l.x,y:l.y,top:l.top,left:l.left,width:l.width,height:l.height,croppedURI:l.src,bestRecognition:m,allRecognitions:l.allRecognitions})}.bind(this));c("ReactComposerPhotoActions").finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,k.photo)};i.prototype.$ReactComposerPhotoUploader19=function(j,k){c("ReactComposerPhotoActions").finishRecognizing(this.$ReactComposerPhotoUploader1,k.unresolved,k.facerecWaterfallEvent||null)};i.prototype.$ReactComposerPhotoUploader21=function(){if(this.$ReactComposerPhotoUploader5.disableFaceRecognition)return false;return c("ifRequired")("ReactComposerOptimisticPostingStore",function(j){return!j.isOptimisticallyPosting(this.$ReactComposerPhotoUploader1)}.bind(this),function(){return true})};f.exports=i}),null);
__d("ReactComposerFailedPhotoUploadContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextMixin","ReactComposerFailedMediaUpload.react","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoUploader"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerPhotoUploadPlaceholderContainer",_uploader:undefined,mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextMixin")],propTypes:{mediaConfig:h.object.isRequired},render:function j(){return c("React").createElement(c("ReactComposerFailedMediaUpload.react"),babelHelpers["extends"]({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick}))},_onDismissClick:function j(){c("ReactComposerMediaUploadActions").removeMediaUpload(this.context.composerID,this.props.uploadID)},_onRetryClick:function j(){var k=c("ReactComposerMediaUploadStore").getMediaUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();k.manuallyRetried=true;c("ReactComposerMediaUploadActions").retryMediaUpload(this.context.composerID,c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RETRY);if(!this._uploader)this._uploader=new(c("ReactComposerPhotoUploader"))(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(k)}});f.exports=i}),null);
__d("ReactComposerPhotoThumbnail.react",["Image.react","React"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){if(i.bgURL){var j={backgroundImage:"url("+i.bgURL+")"};return c("React").createElement("div",{className:i.bgClassName,style:j})}else if(i.imgSrc)return c("React").createElement(c("Image.react"),{alt:i.alt,className:i.imgClassName,src:i.imgSrc,style:i.style,width:i.width,height:i.height});return null};f.exports=h}),null);
__d("ReactComposerSlideshowActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},"ReactComposerSlideshowActionType")}),null);
__d("ReactComposerSelectedImagesStore",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowImageUtil","mergeDeepInto"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("SlideshowConstants").formats,k=c("SlideshowConstants").max_photo_num;h=babelHelpers.inherits(l,c("ReactComposerStoreBase"));i=h&&h.prototype;l.prototype.$ReactComposerSelectedImagesStore1=function(m,n,o){var p;if(m.isLoading)return{};var q=c("SlideshowImageUtil").calculateDefaultCoordinates({width:m.width,height:m.height},o);return p={},p[n]=q,p};l.prototype.$ReactComposerSelectedImagesStore2=function(m,n,o){var p=o;if(!p)p=this.getComposerData(m).format;return this.$ReactComposerSelectedImagesStore3(n,p)};l.prototype.$ReactComposerSelectedImagesStore3=function(m,n){if(!m.length)return[];switch(n){case j.Original:var o=m[0];return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,o.width+c("SlideshowConstants").SIZE_DELIMITER+o.height,o.width/o.height)}.bind(this));case j.Wide:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").LANDSCAPE_ASPECT_RATIO)}.bind(this));case j.Square:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").SQUARE_ASPECT_RATIO)}.bind(this));case j.Vertical:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c("SlideshowConstants").VERTICAL_ASPECT_RATIO)}.bind(this));default:return[]}};function l(){var m=void 0;i.constructor.call(this,function(){return{selectedImages:[],imagesCrops:[],editState:null,format:c("SlideshowConstants").formats.Original,removedUploadIDs:[],addedUploadIDs:[]}},function(n){switch(n.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:c("ReactComposerDispatcher").waitFor([c("ReactComposerMediaUploadStore").getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore4(n);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore5(n);break;case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:m&&m.$ReactComposerSelectedImagesStore6(n);break;case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:m&&m.$ReactComposerSelectedImagesStore7(n);break;case c("ReactComposerSlideshowActionType").REORDER_IMAGES:m&&m.$ReactComposerSelectedImagesStore8(n);break;case c("ReactComposerSlideshowActionType").FORMAT_CHANGE:m&&m.$ReactComposerSelectedImagesStore9(n);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore10(n);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSelectedImagesStore11(n);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore12(n);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore13(n);break;case c("ReactComposerSlideshowActionType").CREATE:m&&m.$ReactComposerSelectedImagesStore14(n);break;default:break}});m=this}l.prototype.$ReactComposerSelectedImagesStore4=function(m){var n=m.composerID,o=this.getComposerData(n),p=c("ReactComposerMediaUploadStore").getUploads(n),q=this.addNewImagesFromPhotoUploads(p,o.selectedImages,o.removedUploadIDs);o.selectedImages=o.selectedImages.concat(q);if(o.editState!==null)o.addedUploadIDs=o.addedUploadIDs.concat(q.map(function(r){return r.key}));this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore5=function(m){var n=m.composerID,o=this.getComposerData(n),p=c("ReactComposerPhotoStore").getPhotos(n);o.selectedImages=this.replacePhotoUploadsFromPhotos(p,o.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore11=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=[];o.imagesCrops=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore10=function(m){var n=m.composerID,o=this.getComposerData(n);if(!m.shouldShowSlideshowDialog){o.selectedImages=[];o.imagesCrops=[]}this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore6=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=o.selectedImages.concat(m.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore7=function(m){var n=m.composerID,o=this.getComposerData(n);if(o.editState!==null)o.removedUploadIDs.push(m.removeImage.key);var p=o.selectedImages.filter(function(q){return q.key!==m.removeImage.key});o.selectedImages=p;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,p);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore8=function(m){var n=m.composerID,o=this.getComposerData(n),p=m.data,q=p.fromIndex,r=p.toIndex,s=o.selectedImages.slice(0),t=Object.assign({},s[q]);s[q].remove=true;s.splice(q>r?r:r+1,0,t);s=s.filter(function(u){return!u.remove});o.selectedImages=s;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,s);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore9=function(m){var n=m.composerID,o=this.getComposerData(n);o.format=m.format;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages,m.format);this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore12=function(m){var n=m.composerID,o=this.getComposerData(n),p={};c("mergeDeepInto")(p,o);o.editState=p;this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore13=function(m){var n=m.composerID,o=this.getComposerData(n),p=o.editState;o.selectedImages=p.selectedImages;o.imagesCrops=p.imagesCrops;o.format=p.format;o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.$ReactComposerSelectedImagesStore14=function(m){var n=m.composerID,o=this.getComposerData(n);o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n)};l.prototype.getImagesFromPhotoUploads=function(m){var n=[];m.forEach(function(o){n.push({height:null,isLoading:true,key:o.id,url:null,width:null})});return n};l.prototype.addNewImagesFromPhotoUploads=function(m,n,o){var p=this.getImagesFromPhotoUploads(m),q=p.filter(function(r){var s=n.findIndex(function(u){return u.key===r.key}),t=o.findIndex(function(u){return u===r.key});return s===-1&&t===-1});return q};l.prototype.replacePhotoUploadsFromPhotos=function(m,n){return n.map(function(o){var p=o,q=m.find(function(q){return q.uploadID===o.key});if(q!=null)p={height:q.height,isLoading:false,key:q.uploadID,photoID:q.id,thumbSrc:q.thumbSrc,url:q.imageSrc,width:q.width};return p})};l.prototype.getPhotoIDs=function(m){var n=this.getComposerData(m);return n.selectedImages.map(function(o){return o.photoID}).slice(0,k)};l.prototype.getRemovedUploadIDs=function(m){return this.getComposerData(m).removedUploadIDs};l.prototype.getAddedUploadIDs=function(m){return this.getComposerData(m).addedUploadIDs};l.prototype.getSelectedImages=function(m){return this.getComposerData(m).selectedImages};l.prototype.getThumbnailSrc=function(m){var n=this.getComposerData(m).selectedImages;if(n.length>0)return n[0].thumbSrc;return null};l.prototype.getImagesCrops=function(m){return this.getComposerData(m).imagesCrops};l.prototype.getNumberOfImages=function(m){return Math.min(this.getComposerData(m).selectedImages.length,k)};l.prototype.getFormat=function(m){return this.getComposerData(m).format};f.exports=new l()}),null);
__d("ReactComposerSlideshowActions",["ReactComposerDispatcher","ReactComposerSlideshowActionType"],(function a(b,c,d,e,f,g){var h={showSlideshowEditField:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD})},hideSlideshowEditField:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD})},showSlideshowDialog:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,entrypoint:k,shouldShowSlideshowDialog:true,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})},closeSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,shouldShowSlideshowDialog:false,type:c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG})},showEditSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG})},closeEditSlideshowDialog:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG})},selectImagesConfirm:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedImages:k,type:c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM})},removeImage:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,removeImage:k,type:c("ReactComposerSlideshowActionType").IMAGE_REMOVE})},reorderImages:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,data:{fromIndex:k,toIndex:l},type:c("ReactComposerSlideshowActionType").REORDER_IMAGES})},changeStorylineMoodFile:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedStorylineMood:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE})},deleteStorylineMoodFile:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedStorylineMood:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE})},changeStorylineMoodIDSource:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodIDSource:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE})},changeStorylineMoodSourceMap:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodIDToSource:k,type:c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE})},changeTransition:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,transitionInMS:k,type:c("ReactComposerSlideshowActionType").TRANSITION_CHANGE})},changeDuration:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,durationInMS:k,type:c("ReactComposerSlideshowActionType").DURATION_CHANGE})},setStorylineMoodFiles:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,storylineMoodFiles:k,type:c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES})},createSlideshow:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").CREATE})},changeFormat:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,format:k,type:c("ReactComposerSlideshowActionType").FORMAT_CHANGE})},selectTab:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,tab:k,type:c("ReactComposerSlideshowActionType").SELECT_TAB})},musicCategorySelect:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,selectedMusicCategory:k,type:c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT})},previewStateChange:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,isPreviewPlaying:k,type:c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE})},audioFileUploadStarted:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED})},audioFileUploadError:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR})},audioFileUploadSuccess:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,uploadedMood:k,type:c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS})}};f.exports=h}),null);
__d("ReactComposerSlideshowStore",["ReactComposerSlideshowActionType","ReactComposerStoreBase","SlideshowConstants","SlideshowFlowTypes","mergeDeepInto"],(function a(b,c,d,e,f,g){var h,i,j=c("SlideshowFlowTypes").SlideshowTabKey;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";var l;i.constructor.call(this,function(){return{durationInMS:1e3,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c("SlideshowConstants").transitions.None}},function(m){switch(m.type){case c("ReactComposerSlideshowActionType").CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c("ReactComposerSlideshowActionType").SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c("ReactComposerSlideshowActionType").HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c("ReactComposerSlideshowActionType").TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c("ReactComposerSlideshowActionType").TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c("ReactComposerSlideshowActionType").SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break}});l=this}k.prototype.$ReactComposerSlideshowStore1=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore9=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore2=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore3=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore4=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore5=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore6=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore7=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m),o={};c("mergeDeepInto")(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m)};k.prototype.$ReactComposerSlideshowStore8=function(l){"use strict";var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m)};k.prototype.isSlideshowSelected=function(l){"use strict";return this.getComposerData(l).isSlideshowSelected};k.prototype.isEditing=function(l){"use strict";return this.getComposerData(l).editState!==null};k.prototype.shouldShowSlideshowDialog=function(l){"use strict";return this.getComposerData(l).shouldShowSlideshowDialog};k.prototype.getDurationInMS=function(l){"use strict";return this.getComposerData(l).durationInMS};k.prototype.getTotalLength=function(l,m){"use strict";return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m};k.prototype.getTransitionInMS=function(l){"use strict";return this.getComposerData(l).transitionInMS};k.prototype.getSelectedTab=function(l){"use strict";return this.getComposerData(l).selectedTab};f.exports=new k()}),null);
__d("ReactComposerSlideshowAudioStore",["immutable","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerSelectedImagesStore","ReactComposerSlideshowActions","ReactComposerSlideshowActionType","ReactComposerSlideshowStore","ReactComposerStoreBase","SlideshowAudioUtil","SlideshowDataManager","SlideshowMusicCategory","SlideshowUtil","mergeDeepInto"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{audioFileUploadInfo:{isUploading:false,hasError:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:c("immutable").List(),selectedMusicCategory:c("SlideshowMusicCategory").ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c("immutable").List(),storylineMoodIDToSource:c("immutable").Map()}},function(l){switch(l.type){case c("ReactComposerSlideshowActionType").IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c("ReactComposerSlideshowActions").previewStateChange(l.composerID,false)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore2(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c("ReactComposerSlideshowActions").previewStateChange(l.composerID,true)});break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore3(l);break;case c("ReactComposerSlideshowActionType").SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore4(l);break;case c("ReactComposerSlideshowActionType").CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c("ReactComposerSlideshowActionType").DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerSlideshowActionType").IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c("ReactComposerSlideshowActionType").SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c("ReactComposerSlideshowActionType").STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c("ReactComposerSlideshowActionType").MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c("ReactComposerSlideshowActionType").PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c("ReactComposerSlideshowActionType").AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break}});k=this}j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){"use strict";var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=q===0?c("SlideshowUtil").getMaximumTotalLengthInMS():this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c("SlideshowDataManager").fetchStorylineMoodSource(p,r,function(t){c("ReactComposerSlideshowActions").changeStorylineMoodIDSource(m,t);s=s.set(p,t);c("ReactComposerSlideshowActions").changeStorylineMoodSourceMap(m,s);if(l)l()});n.selectedStorylineMood.source=s.get(p);this.emitChange(m)};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.audioFileUploadInfo.hasError=false;m.selectedMusicCategory=c("SlideshowMusicCategory").USER_UPLOADED;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=true;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n={};c("mergeDeepInto")(n,m);m.editState=n;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore2=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c("SlideshowAudioUtil").storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return!c("SlideshowAudioUtil").storylineMoodCompare(o,n)});c("SlideshowDataManager").deleteAudioFile(n.moodID);this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l)};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){"use strict";var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l)};j.prototype.getNumberOfImages=function(k){"use strict";c("ReactComposerDispatcher").waitFor([c("ReactComposerSelectedImagesStore").getDispatchToken()]);return c("ReactComposerSelectedImagesStore").getNumberOfImages(k)};j.prototype.getStorylineMoodFiles=function(k){"use strict";return this.getComposerData(k).storylineMoodFiles.toArray()};j.prototype.getRecentlyUsedStorylineMoods=function(k){"use strict";return this.getComposerData(k).recentlyUsedStorylineMoods.toArray()};j.prototype.getSelectedStorylineMood=function(k){"use strict";return this.getComposerData(k).selectedStorylineMood};j.prototype.getStorylineMoodIDToSource=function(k){"use strict";return this.getComposerData(k).storylineMoodIDToSource};j.prototype.getSelectedMusicCategory=function(k){"use strict";return this.getComposerData(k).selectedMusicCategory};j.prototype.getIsPreviewPlaying=function(k){"use strict";return this.getComposerData(k).isPreviewPlaying};j.prototype.getAudioFileUploadInfo=function(k){"use strict";return this.getComposerData(k).audioFileUploadInfo};j.prototype.getTotalLength=function(k,l){"use strict";c("ReactComposerDispatcher").waitFor([c("ReactComposerSlideshowStore").getDispatchToken()]);return c("ReactComposerSlideshowStore").getTotalLength(k,l)};f.exports=new j()}),null);
__d("XReactComposerQAndAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/qanda/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d("ReactComposerQAndALazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQAndAAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerQAndALazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").QANDA},propTypes:{bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.qandaAttachment)this.props.bootloader.qandaAttachment(j);else c("Bootloader").loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,"ReactComposerQAndALazyAttachment.react")},getBootstrapURI:function i(){var j=c("XReactComposerQAndAAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI();return c("ActorURI").create(j,this.context.actorID)}});f.exports=h}),null);
__d("ReactComposerVisualPollLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerBootloaderPropTypes","ReactComposerLoadableAttachmentBodyMixin","XReactComposerQuestionAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerVisualPollLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").VISUAL_POLL},propTypes:{selected:h.bool,bootload:h.func,bootloader:c("ReactComposerBootloaderPropTypes")},bootload:function j(k){if(this.props.bootload)this.props.bootload(k);else if(this.props.bootloader&&this.props.bootloader.visualPollAttachment)this.props.bootloader.visualPollAttachment(k);else c("Bootloader").loadModules(["ReactComposerVisualPollAttachmentContainer.react","ReactComposerVisualPollPostButtonContainer.react"],k,"ReactComposerVisualPollLazyAttachment.react")},getBootstrapURI:function j(){return c("ActorURI").create(c("XReactComposerQuestionAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=i}),null);
__d("ReactComposerStatusAttachmentFocusActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({FOCUS_STATUS_INPUT:null,DO_NOT_FOCUS_STATUS_INPUT:null})}),null);
__d("ReactComposerStatusAttachmentFocusStore",["ReactComposerStatusAttachmentFocusActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return{isInputFocused:false}},function(l){switch(l.type){case c("ReactComposerStatusAttachmentFocusActionType").FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore1(l);break;case c("ReactComposerStatusAttachmentFocusActionType").DO_NOT_FOCUS_STATUS_INPUT:k&&k.$ReactComposerStatusAttachmentFocusStore2(l);break}});k=this}j.prototype.isInputFocused=function(k){return this.getComposerData(k).isInputFocused};j.prototype.$ReactComposerStatusAttachmentFocusStore1=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isInputFocused=true;this.emitChange(l)};j.prototype.$ReactComposerStatusAttachmentFocusStore2=function(k){var l=k.composerID,m=this.getComposerData(l);m.isInputFocused=false;this.emitChange(l)};f.exports=new j()}),null);
__d("ReactComposerStatusAttachmentMentionsInput.react",["cx","addEmojiInput","Arbiter","MentionsInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerConfig","ReactComposerContextMixin","ReactComposerEvents","ReactComposerInit","ReactComposerTaggerType","SubscriptionsHandler","XUITypeaheadView.react","ifRequired","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("addEmojiInput")(c("MentionsInput.react")),k=c("React").createClass({displayName:"ReactComposerStatusAttachmentMentionsInput",_subscriptions:undefined,mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextMixin")],propTypes:{config:c("ReactComposerConfig"),mentionsSource:i.object,preventFocus:i.bool,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func},componentWillUnmount:function l(){this.props.onBlur&&this.props.onBlur(this.props.editorState);this._subscriptions&&this._subscriptions.release()},componentWillMount:function l(){var m=new(c("SubscriptionsHandler"))();if(!this.props.preventFocus)m.addSubscriptions(c("Arbiter").subscribe([c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus()}.bind(this)));this._subscriptions=m},render:function l(){var m=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c("ReactComposerTaggerType").PEOPLE],n=m&&m.typeaheadView?m.typeaheadView:c("XUITypeaheadView.react"),o=m&&m.typeaheadViewProps?m.typeaheadViewProps:{},p=Object.assign({},{ariaMultiline:true,role:"textbox",typeaheadView:n,typeaheadViewProps:o,selectOnTab:false,spellCheck:true},this.props,{className:c("joinClasses")("_1mwp navigationFocus",this.props.className),editorState:this.props.editorState,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return c("React").createElement(j,babelHelpers["extends"]({ref:"mentionsInput"},p,{webDriverTestID:"status-attachment-mentions-input"}))},focus:function l(){if(!c("ReactComposerInit").isInstanceMounted(this.context.composerID))c("Arbiter").subscribeOnce([c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs.mentionsInput.focus()}.bind(this));else this.refs.mentionsInput.focus()},blur:function l(){this.refs.mentionsInput.blur()},_onAddMention:function l(m,n,o){var p=this.props.typeaheadReporter;if(p){p.reportSelect(m.getUniqueID(),m.getType(),n,o.button>=0);p.sessionEnd();p.sessionStart()}if(m.getType()==="event")c("ifRequired")("ReactComposerEventAttachmentActions",function(q){return q.fetchEventAttachment(this.context.composerID,m.getUniqueID())}.bind(this))},_onShowMentions:function l(m,n){var o=this.props.typeaheadReporter;if(o)o.reportResults(m.map(function(p){return p.getUniqueID()}))},_onFocus:function l(){var m=this.props.typeaheadReporter;if(m)m.sessionStart();this.props.onFocus&&this.props.onFocus()},_onChange:function l(m){this.props.onChange&&this.props.onChange(m)},_onBlur:function l(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.props.editorState)}});f.exports=k}),null);
__d("ReactComposerHandleUnsavedChanges",["fbt","ComposerEntryPointRef","Map","PageTransitions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingActions","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerVideoUploadStore","Run","URI"],(function a(b,c,d,e,f,g,h){var i={customChecks:new(c("Map"))(),handler:function j(k,l){var m=c("URI").getMostRecentURI(),n=c("URI").getNextURI(),o=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&!Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&l.toString()===n.toString(),p=l.toString()===m.toString()&&!Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater"),q=Object.prototype.hasOwnProperty.call(m.getQueryData(),"theater")&&Object.prototype.hasOwnProperty.call(n.getQueryData(),"theater")&&m.toString()!==n.toString();if(p||o||q)c("Run").onAfterLoad(function(){return c("Run").onBeforeUnload(function(){return i.handler(k,l)})});if(p||o||q||c("ReactComposerStore").hasPostSucceeded(k)||c("ReactComposerStore").isPublishing(k))return null;var r=i.hasUnsavedChanges(k);if(r&&!(b.Dialog&&b.Dialog.getCurrent())){c("ReactComposerLoggingActions").composerNavigateAwayAttempt(k);return i.getUnsavedChangesMessage(k)}else return null},addCustomCheck:function j(k,l){var m=[];if(i.customChecks.has(k))m=i.customChecks.get(k);if(m){m.push(l);i.customChecks.set(k,m)}},hasUnsavedChanges:function j(k){if(!c("ReactComposerInit").isInstanceMounted(k))return false;var l=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").MEDIA),m=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(k,c("ReactComposerAttachmentType").LIVE_BROADCAST),n=c("ReactComposerStatusStore").getTextLength(k)>0,o=l&&(c("ReactComposerMediaUploadStore").isUploading(k)||c("ReactComposerPhotoStore").isRecognizing(k)||c("ReactComposerPhotoStore").getPhotos(k).size>0),p=l&&(c("ReactComposerVideoUploadStore").getUploader(k)||c("ReactComposerVideoUploadStore").getVideo(k)),q=!c("ReactComposerTaggerStore").areAllTaggersEmpty(k),r=c("ReactComposerScrapedAttachmentStore").hasAttachment(k),s=i.customChecks.get(k),t=false;if(s)for(var u=s,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(v){if(w>=u.length)break;x=u[w++]}else{w=u.next();if(w.done)break;x=w.value}var y=x;t=t||y()}var z=n||o||p||q||r||m||t;return!!z},getUnsavedChangesMessage:function j(k){if(c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(k))return h._("Tu publicaci\u00f3n a\u00fan se est\u00e1 subiendo. \u00bfQuieres salir sin finalizar el proceso?");var l=c("ReactComposerStore").getRef(k);switch(l){case c("ComposerEntryPointRef").EDIT_DIALOG:return h._("\u00bfSeguro que quieres descartar los cambios?");default:return h._("A\u00fan no finalizaste tu publicaci\u00f3n. \u00bfQuieres salir sin terminarla?")}}};f.exports=i}),null);
__d("ReactComposerInputDecorator",[],(function a(b,c,d,e,f,g){"use strict";f.exports={NONE:0,MENTIONS:1,RICH_TEXT:2}}),null);
__d("ReactComposerStatusAttachmentMentionsInputVariant.react",["cx","EmojiInputButton.react","Keys","React","ReactComposerActions","ReactComposerAttachmentType","ReactComposerStatusAttachmentMentionsInput.react","ReactComposerStickerContainer","UserAgent_DEPRECATED","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("ReactComposerStickerContainer").ReactComposerStickerComponent;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$ReactComposerStatusAttachmentMentionsInputVariant1=function(n){var o=/^image\//;n=n.filter(function(p){return o.test(p.type)});if(n.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(n);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant2=function(event,n){var o=c("UserAgent_DEPRECATED").osx()?event.metaKey:event.ctrlKey;if(event.keyCode===c("Keys").RETURN&&o){this.blur();setTimeout(this.props.onPostIntent,0);return true}return false}.bind(this);this.$ReactComposerStatusAttachmentMentionsInputVariant3=function(){c("ReactComposerActions").expandSprouts(this.props.compositionID)}.bind(this)}l.prototype.render=function(){var m=this.props.config&&this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],n=null;if(this.props.useRichTextEditor){var o=m.richTextEditor;n=c("React").createElement(o,babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_3w8y _21mu"),canAttachVideo:false,canAttachPhoto:false,canAttachEmbed:false,onSave:c("emptyFunction"),spellCheck:true,autoCorrect:false,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2,ref:"mentionsInput"}))}else n=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInput.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,(this.props.isSelectedAttachmentActive?"_1mwq":"")+(this.props.config&&this.props.config.showExpandedComposer?" _4c_p":"")+(m&&m.showProfilePic?" _5bu_":"")+(this.props.isPosting?" _1udp":"")+(this.props.shouldUseLargeText?" _17nh":"")+(m&&m.largeTextThreshold?" _34nd":"")+" _21mu"+(this.props.sticker&&this.props.sticker.stickerID?" _hjn":"")),ref:"mentionsInput",readOnly:this.props.isPosting,editorState:this.props.editorState,mentionsSource:this.props.mentionsSource,typeaheadReporter:this.props.typeaheadReporter,handlePastedFiles:this.$ReactComposerStatusAttachmentMentionsInputVariant1,handleContentReturn:this.$ReactComposerStatusAttachmentMentionsInputVariant2}));var p="_3nc-",q="_3nc_",r="_5zq9",s=c("React").createElement(c("EmojiInputButton.react"),{buttonClassName:p,iconActiveClassName:r,iconClassName:q,onSelect:this.props.onInsertEmoji,onClick:this.$ReactComposerStatusAttachmentMentionsInputVariant3}),t=null;if(k)t=c("React").createElement(k,{sticker:this.props.sticker,composerID:this.props.compositionID});return c("React").createElement("div",{className:"_3nd0"},t,n,s)};l.prototype.blur=function(){this.refs.mentionsInput.blur()};l.prototype.focus=function(){this.refs.mentionsInput.focus()};f.exports=l}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("ReactComposerWorkFileAttachmentUploadContainer").module,j={selectFileOrWorkFileModule:function k(l,m){return i?m:l},hasExceededFileSize:function k(l){var m=arguments.length<=1||arguments[1]===undefined?Infinity:arguments[1],n=l.size>m;if(n)c("ExceptionDialog").show(h._("Archivo demasiado grande").toString(),h._("El archivo que subiste es demasiado grande.").toString());return n}};f.exports=j}),null);
__d("ReactComposerScrapedAttachmentActions",["ReactComposerDispatcher","ReactComposerScrapedAttachmentActionType","ReactComposerScrapedAttachmentStore"],(function a(b,c,d,e,f,g){c("ReactComposerScrapedAttachmentStore");h.prototype.enabled=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED,enabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setScrapedAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,sourceLoggingName:l,postConfirmationDialog:m,hasDisputedWarning:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setScrapedAttachmentWithoutLogging=function(i,j,k,l,m){"use strict";var n={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,suppressWaterfallLogging:true,postConfirmationDialog:l,hasDisputedWarning:m};c("ReactComposerDispatcher").dispatch(n)};h.prototype.setPermissiveMatch=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.scrapeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m,sourceLoggingName:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setShareAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m,isFbPhotoShare:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.uploadImagesForCarousel=function(i){"use strict";var j={composerID:i.composerID,type:c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerStatusUtils",["Bootloader","PUWMethods","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkFileActions","URLMatcher","URLScraper","uniqueID"],(function a(b,c,d,e,f,g){var h=c("ReactComposerWorkFileActions").module,i={scrapeLink:function j(k,l,m,n,o,p){if(!c("ReactComposerScrapedAttachmentStore").isEnabled(k))return;if(c("ReactComposerScrapedAttachmentStore").getMarkup(k))return;var q=c("URLMatcher").permissiveMatch(m);if(q!==c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(k)){c("ReactComposerScrapedAttachmentActions").setPermissiveMatch(k,q);var r=i.validateUrl(c("URLScraper").match(m)||q);if(r)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(k,l,r,n,o,p)}},uploadPastedFile:function j(k,l,m){c("ReactComposerLoggingActions").mediaFilePasted(k);l.uploadID=c("uniqueID")();l.name="";m&&m.enqueueAsyncUploadRequest(k,[l],{},{},false);c("ReactComposerLoggingActions").mediaFilePasteFinished(k)},uploadDroppedMedia:function j(k,l,m,n,o,p){c("ReactComposerLoggingActions").mediaFileDropped(k);c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").MEDIA,true,c("ReactComposerLoggingName").MEDIA_FILE_DROPPED);c("Bootloader").loadModules(["ReactComposerMediaUtils"],function(q){var r=q.getFileNames(l),s=q.hasVideos(r);if(o.enableVideoUploadDialogForDropppedFiles&&l.length==1&&s)q.handleVideoUploadForDroppedFiles(l,o,p);else q.uploadPhotosOrVideo(k,l,m,true,c("PUWMethods").DRAGDROP,n);c("ReactComposerLoggingActions").mediaFileDropFinished(k)},"ReactComposerStatusUtils")},loadDroppedFile:function j(k,l){c("ReactComposerAttachmentActions").selectAttachment(k,c("ReactComposerAttachmentType").FILE,true,c("ReactComposerLoggingName").FILE_DROPPED);c("ReactComposerFileUtils").selectFileOrWorkFileModule(c("ReactComposerFileActions"),h).saveFile(k,{file:l,name:l.name})},handleMarkdownPreview:function j(k,l,m,n){if(!m)return;var o=m.action;if(!n)n=c("ReactComposerStatusStore").getEditorState(k);if(!n)return;var p=!!c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").MARKDOWN).isMarkdown;if(p)o.updatePreview(k,l,n.getCurrentContent())},validateUrl:function j(k){if(!k||k=="about:blank"||k=="http://"||i.validateUrlHasNoHostnameOrIp(k))return null;else return k},validateUrlHasNoHostnameOrIp:function j(k){if(k.indexOf(".")>=0)return false;if(k.indexOf("[")>=0&&k.indexOf("]")>=0&&k.indexOf(":")>=0)return false;return true}};f.exports=i}),null);
__d("ImplicitLink.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_2ou",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getRichTextInputDecorator",["CompositeDraftDecorator","EmojiSpan.react","EmoticonSpan.react","HashtagSpan.react","ImplicitLink.react","MentionSpan.react","RichTextEditorLink.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches","getImplicitURLMatches"],(function a(b,c,d,e,f,g){var h;function i(){if(!h)h=new(c("CompositeDraftDecorator"))([{strategy:c("getEntityMatcher")(function(j){var k=j.getData();return j.getType()==="MENTION"&&k&&k.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="EMOJI"}),component:c("EmojiSpan.react")},{strategy:c("getEntityMatcher")(function(j){return j.getType()==="LINK"}),component:c("RichTextEditorLink.react")},{strategy:c("getImplicitURLMatches"),component:c("ImplicitLink.react")}]);return h}f.exports=i}),null);
__d("getReactComposerEmojiInputDecorator",["EmojiInputDecorator","EmojiSpan.react","ReactComposerInputDecorator","getMentionsInputDecorator","getRichTextInputDecorator","memoizeWithArgs"],(function a(b,c,d,e,f,g){"use strict";var h=c("memoizeWithArgs")(function(i,j){var k=null;if(i===c("ReactComposerInputDecorator").RICH_TEXT)k=c("getRichTextInputDecorator")();else if(i===c("ReactComposerInputDecorator").MENTIONS)k=c("getMentionsInputDecorator")();if(j)k=new(c("EmojiInputDecorator"))(c("EmojiSpan.react"),k,{size:j});return k},function(i,j){if(!j)return"#"+i;return i+"_"+j});f.exports=h}),null);
__d("ReactComposerStatusAttachmentMentionsInputContainer.react",["Arbiter","EditorState","LitestandStoryInsertionStatus","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextMixin","getReactComposerEmojiInputDecorator","ReactComposerEvents","ReactComposerHandleUnsavedChanges","ReactComposerInputDecorator","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputVariant.react","ReactComposerStatusStore","ReactComposerStatusUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","TextDelightEvents","UnicodeUtils","addEmojiToEditorState","ifRequired"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=function i(k,l){var m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(k);if(m===c("ReactComposerAttachmentType").LIVE_VIDEO||m===c("ReactComposerAttachmentType").SELL)return false;var n=l&&l.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],o=c("ReactComposerTaggerStore").hasMarkdown(k);return!!(n&&n.richTextEditor&&!o)},j=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputContainer",_rerenderSubscription:undefined,mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],propTypes:{config:c("ReactComposerConfig"),mentionsEnabled:h.bool,mentionsSource:h.object,onChange:h.func,onFocus:h.func,onPasteFiles:h.func,handlePastedText:h.func},getDefaultProps:function k(){return{mentionsEnabled:true}},getInitialState:function k(){return{isFocused:false}},statics:{calculateState:function k(l,m){var n=c("ReactComposerStatusStore").getEditorState(l),o=m.config&&m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],p=false,q=c("ReactComposerStatusStore").getTextLength(l),r=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),s=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),t=i(l,m.config),u=c("ReactComposerInputDecorator").NONE;if(m.mentionsEnabled)u=o&&o.richTextEditor?c("ReactComposerInputDecorator").RICH_TEXT:c("ReactComposerInputDecorator").MENTIONS;if(o&&o.largeTextThreshold&&c("ReactComposerMediaUploadStore").getUploadsCount(l)===0&&!c("ReactComposerScrapedAttachmentStore").hasAttachment(l)&&!c("ReactComposerTaggerStore").hasExplicitLocation(l)&&!c("ReactComposerTaggerStore").hasMarkdown(l)&&c("ReactComposerMinutiaeAttachmentStore").getMarkup(l)===null&&s!==c("ReactComposerAttachmentType").FIND_PLAYERS&&s!==c("ReactComposerAttachmentType").SELL){if(!q&&n){var v=n.getCurrentContent();q=c("UnicodeUtils").strlen(v.getPlainText())}var w=m.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS].placeholderText;if(w&&w.length<=o.LargePlaceholderTextThreshold&&q===0&&r||q!==0&&q<=o.largeTextThreshold)p=true;c("ifRequired")("ReactComposerFormattedTextStore",function(z){var A=z.getSelectedIndex(l);if(A>-1){p=true;u=m.mentionsEnabled?c("ReactComposerInputDecorator").MENTIONS:c("ReactComposerInputDecorator").NONE;t=false}})}var x=c("getReactComposerEmojiInputDecorator")(u,p&&!t?28:16),y;if(n)if(n.getDecorator()!==x){y=c("EditorState").set(n,{decorator:x});c("ReactComposerStatusActions").setEditorState(l,y)}else y=n;else{y=c("EditorState").createEmpty(x);c("ReactComposerStatusActions").setEditorState(l,y)}return{activeEditorState:c("ReactComposerStatusStore").getActiveEditorState(l),editorState:y,isSelectedAttachmentActive:c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l),mentionsSource:m.mentionsEnabled?c("ReactComposerStatusStore").getMentionsSource(l):null,posting:c("ReactComposerStore").isPosting(l),typeaheadReporter:c("ReactComposerStatusStore").getTypeaheadReporter(l),shouldUseLargeText:p,selectedSticker:c("ReactComposerTaggerStore").getTaggerData(l,c("ReactComposerTaggerType").STICKER),useRichText:t}}},componentWillMount:function k(){if(this.props.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c("LitestandStoryInsertionStatus").registerBlocker(function(){return c("ReactComposerHandleUnsavedChanges").hasUnsavedChanges(this.context.composerID)||this.state.isFocused}.bind(this))},componentDidMount:function k(){var l=c("ReactComposerStatusStore").getEditorState(this.context.composerID);if(this.state.editorState!==l){this._pendingEditorStateUpdateFromMount=l;this.setState({editorState:l},function(){this._pendingEditorStateUpdateFromMount=undefined}.bind(this))}this._rerenderSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").RERENDER_MENTION_INPUT+this.context.composerID,function(){this.setState({editorState:c("ReactComposerStatusStore").getEditorState(this.context.composerID)})}.bind(this))},componentWillReceiveProps:function k(l){if(this.props.mentionsSource!==l.mentionsSource)c("ReactComposerStatusActions").setMentionsSource(this.context.composerID,l.mentionsSource);if(l.editorState===null){var m=c("EditorState").createEmpty(c("getReactComposerEmojiInputDecorator")(c("ReactComposerInputDecorator").MENTIONS));c("ReactComposerStatusActions").setEditorState(this.context.composerID,m);this.setState({editorState:m})}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;this._rerenderSubscription&&this._rerenderSubscription.unsubscribe()},render:function k(){return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputVariant.react"),babelHelpers["extends"]({},this.props,{activeEditorState:this.state.activeEditorState,compositionID:this.context.composerID,editorState:this.state.editorState,isSelectedAttachmentActive:this.state.isSelectedAttachmentActive,isPosting:this.state.posting,mentionsSource:this.state.mentionsSource,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onInsertEmoji:this._onInsertEmoji,onPostIntent:this._onPostIntent,ownerID:this.context.actorID,ref:"mentionsInput",shouldUseLargeText:this.state.shouldUseLargeText,typeaheadReporter:this.state.typeaheadReporter,useRichTextEditor:this.state.useRichText,sticker:this.state.selectedSticker}))},focus:function k(){this.refs.mentionsInput.focus();if(this._pendingEditorStateUpdateFromMount!==undefined)this.setState({editorState:this._pendingEditorStateUpdateFromMount},function(){return this.refs.mentionsInput.focus()}.bind(this))},_onFocus:function k(){c("Arbiter").inform(c("ReactComposerEvents").MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus()},_onChange:function k(l){if(this._pendingEditorStateUpdateFromMount!==undefined)return;var m=0;if(l){var n=l.getCurrentContent();m=n?c("UnicodeUtils").strlen(n.getPlainText()):0;if(c("ReactComposerStatusStore").getEditorState(this.context.composerID)!==l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);c("ReactComposerStatusActions").setTextLength(this.context.composerID,m);if(n)c("TextDelightEvents").emitScrapablePost(n.getPlainText())}}this._handleMarkdownChange(l);this.props.onChange&&this.props.onChange(l);this.setState({editorState:l})},_onInsertEmoji:function k(l){var m=c("ReactComposerStatusStore").getActiveEditorState(this.context.composerID),n=c("ReactComposerStatusStore").getActiveLanguageDialect(this.context.composerID);c("addEmojiToEditorState")(l,m,n==null?this._onChange:this._onMultilingualEditorChange)},_onMultilingualEditorChange:function k(l){var m=this.context.composerID,n=c("ReactComposerStatusStore").getActiveEditorState(m),o=c("ReactComposerStatusStore").getActiveLanguageDialect(m);if(n!==l)c("ifRequired")("ReactComposerMultilingualStatusActions",function(p){p.setEditorState(m,o,l)})},_handleMarkdownChange:function k(l){var m=this.props.config?this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS]:null;c("ReactComposerStatusUtils").handleMarkdownPreview(this.context.composerID,this.context.targetID,m?m.markdownPreviewAttachment:null,l)},_onBlur:function k(l){c("ReactComposerStatusActions").setEditorState(this.context.composerID,l);this.setState({isFocused:false})},_onPostIntent:function k(){c("ReactComposerActions").postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID})}});f.exports=j}),null);
__d("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerContextMixin","ReactComposerStatusActions","ReactComposerStatusAttachmentMentionsInputContainer.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").createClass({displayName:"ComposerStatusAttachmentMentionsInputWithTagExpansionContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextMixin")],render:function j(){var k=c("joinClasses")(this.props.className,"_395");return c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputContainer.react"),babelHelpers["extends"]({},this.props,{className:k,onChange:this._onChange,ref:"mentionsInput"}))},focus:function j(){this.refs.mentionsInput.focus()},insertEmoji:function j(k){this.refs.mentionsInput.insertEmoji(k)},_onChange:function j(k){c("ReactComposerStatusActions").setMentions(this.context.composerID,this._getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k)},_getMentionsFromEditorState:function j(k){var l=k.getCurrentContent(),m={};l.getBlockMap().forEach(function(n){var o=n.getText();n.findEntityRanges(function(){return true},function(p,q){var r=n.getEntityAt(p);if(!r)return;var s=l.getEntity(r);if(s.getType()!=="MENTION"||s.getData().type!=="user")return;var t=s.getData().id;m[t]={type:"user",uid:t,text:o.slice(p,q),isWeak:s.getData().isWeak}})});return m}});f.exports=i}),null);
__d("ReactComposerLocationAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},"ReactComposerLocationAttachmentActionType")}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/location/attachment/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerLocationAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLocationAttachmentActionType","ReactComposerStoreBase","XReactComposerLocationAttachmentController"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false}},function(l){switch(l.type){case c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getMinutiaeTaggedPlace=function(k){"use strict";return this.getComposerData(k).minutiaeTaggedPlace};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","locationID","targetID"]),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c("XReactComposerLocationAttachmentController").getURIBuilder().setString("composer_id",m).setString("location_id",n).setString("target_id",o).getURI();p.pendingRequest=new(c("AsyncRequest"))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m)}.bind(this));p.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","objectID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m)};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1];if(n===c("ReactComposerAttachmentType").STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLocationAttachmentActions",["ReactComposerDispatcher","ReactComposerLocationAttachmentActionType","ReactComposerLocationAttachmentStore"],(function a(b,c,d,e,f,g){c("ReactComposerLocationAttachmentStore");h.prototype.enabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").LOCATION_ATTACHMENT_ENABLED,enabled:j})};h.prototype.fetchLocationAttachment=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k})};h.prototype.setMinutiaeActionContext=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setMarkup=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLocationAttachmentActionType").SET_LOCATION_MARKUP,markup:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActions",["ReactComposerDispatcher","ReactComposerMinutiaeAttachmentActionType","ReactComposerMinutiaeAttachmentStore"],(function a(b,c,d,e,f,g){c("ReactComposerMinutiaeAttachmentStore");h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m,n){"use strict";var o={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,actorID:m,isTimeline:n};c("ReactComposerDispatcher").dispatch(o)};h.prototype.setExplicitLocation=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION,explicitLocation:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP,markup:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHideAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT,hideAttachment:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerAttachmentPreviewContainer.react",["csx","cx","fbt","Arbiter","DOM","Event","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentPreview.react","ReactComposerEvents","ReactComposerEventAttachmentStore","ReactComposerLocationAttachmentActions","ReactComposerLocationAttachmentStore","ReactComposerLoggingName","ReactComposerMinutiaeAttachmentActions","ReactComposerMinutiaeAttachmentStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTaggerActions","ReactComposerWorkFileStore","ReactDOM","XUICloseButton.react","ifRequired"],(function a(b,c,d,e,f,g,h,i,j){var k=c("ReactComposerWorkFileStore").module,l=c("React").PropTypes,m=[c("ReactComposerEventAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerLocationAttachmentStore")];if(k)m.push(k);var n=c("React").createClass({displayName:"ReactComposerAttachmentPreviewContainer",_buttonEvent:undefined,_prefillSubscription:undefined,mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,m)],propTypes:{markup:l.instanceOf(HTMLElement),spinner:l.element},statics:{calculateState:function o(p,q){var r,s=c("ReactComposerScrapedAttachmentStore").getMarkup(p),t=c("ReactComposerScrapedAttachmentStore").isReadOnly(p),u=c("ReactComposerMinutiaeAttachmentStore").getMarkup(p),v=c("ReactComposerLocationAttachmentStore").getMarkup(p),w=c("ReactComposerEventAttachmentStore").getMarkup(p),x=c("ReactComposerScrapedAttachmentStore").isScraping(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerMinutiaeAttachmentStore").isFetching(p)||c("ReactComposerEventAttachmentStore").isFetching(p),y=null;if(k)(function(){var B=c("ReactComposerScrapedAttachmentStore").getPermissiveMatch(p),C=k.getSelectedAppsFiles(p).find(function(D){return D.url===B});y=C?C.name:null})();var z=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUN_FACT),A=c("ReactComposerTaggerStore").hasData(p,c("ReactComposerTaggerType").FUNDRAISER);if(z||A){u=null;v=null;w=null;x=c("ReactComposerScrapedAttachmentStore").isScraping(p)}return{markup:s||u||w||v,showSpinner:x,showRemoveButton:s&&t,title:y}}},componentDidMount:function o(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent()},componentDidUpdate:function o(){this._setButtonEvent()},componentWillUnmount:function o(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent()},render:function o(){var p=this.state.markup?c("React").createElement("div",{className:"_2ane"},c("React").createElement(c("ReactComposerAttachmentPreview.react"),{ref:"attachment",markup:this.state.markup}),this._renderRemoveButton()):null;return c("React").createElement("div",{"data-testid":"attachment-preview"},this._renderSpinner(),p)},_handlePrefill:function o(){var p=c("ReactComposerPrefillStore").getAndEraseField(this.context.composerID,"attachmentPreviewData");if(p)if(p.scrapedAttachment){if(p.scrapedAttachment.markup)c("ReactComposerScrapedAttachmentActions").setScrapedAttachmentWithoutLogging(this.context.composerID,p.scrapedAttachment.markup,p.scrapedAttachment.attachmentConfig);else if(p.minutiaeAttachment.markup)c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,p.minutiaeAttachment.markup)}else if(p.scrapedURL)c("ReactComposerScrapedAttachmentActions").scrapeAttachment(this.context.composerID,this.context.targetID,p.scrapedURL,this.context.composerType,this.context.actorID,c("ReactComposerLoggingName").INLINE_COMPOSER)},_renderRemoveButton:function o(){if(!this.state.markup||!this.state.showRemoveButton)return null;return c("React").createElement("div",{className:"_2anf"},c("React").createElement(c("XUICloseButton.react"),{className:"_2anh",size:"medium",shade:"light",onClick:this._clearAttachment}))},_renderSpinner:function o(){if(!this.state.showSpinner)return null;var p=this.state.title?c("React").createElement("span",{className:"_239x"},this.state.title):null;return c("React").createElement("div",{className:"_239z"},this.props.spinner,c("React").createElement("div",{className:"_3-8y"},p,j._("Recuperando vista previa")))},_setButtonEvent:function o(){if(this.refs.attachment){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this.refs.attachment),"._9s")[0];if(p)this._buttonEvent=c("Event").listen(p,"click",function(event){event.preventDefault();this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null}.bind(this));c("Arbiter").inform("react_composer_dom_ready/"+this.context.composerID)}},_clearAttachment:function o(){c("ReactComposerScrapedAttachmentActions").setScrapedAttachment(this.context.composerID,null,{},c("ReactComposerLoggingName").LINK_REMOVE_BUTTON);c("ReactComposerMinutiaeAttachmentActions").setMarkup(this.context.composerID,null);c("ReactComposerLocationAttachmentActions").setMarkup(this.context.composerID,null);c("ifRequired")("ReactComposerEventAttachmentActions",function(p){return p.setMarkup(this.context.composerID,null,null)}.bind(this));c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").LINK_REMOVE_BUTTON,c("ReactComposerTaggerType").GIF,{hasGIF:false});c("ReactComposerMinutiaeAttachmentActions").setHideAttachment(this.context.composerID,true)},_cleanupButtonEvent:function o(){this._buttonEvent&&this._buttonEvent.remove()}});f.exports=n}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){var l;i.constructor.call(this,function(){return{state:j.UNKNOWN}},function(m){switch(m.type){case c("ReactComposerMarkdownActionType").SHOW_INTERCEPT:l&&l.$ReactComposerMarkdownStore1(m);break;case c("ReactComposerMarkdownActionType").HIDE_INTERCEPT:l&&l.$ReactComposerMarkdownStore2(m);break;case c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore3(m);break;case c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore4(m);break}});l=this}k.prototype.showIntercept=function(l){return this.getComposerData(l).state===j.CHECKING};k.prototype.interceptAttempted=function(l){var m=this.getComposerData(l),n=m.state;return n===j.ENABLED||n===j.DISABLED};k.prototype.isMarkdownEnabled=function(l){return this.getComposerData(l).state===j.ENABLED};k.prototype.$ReactComposerMarkdownStore1=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.CHECKING;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore2=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.UNKNOWN;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore3=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.ENABLED;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore4=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.DISABLED;this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function a(b,c,d,e,f,g){"use strict";c("ReactComposerMarkdownStore");h.prototype.showIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};h.prototype.hideIntercept=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};h.prototype.enableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};h.prototype.disableMarkdown=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function h(){}f.exports=new h()}),null);
__d("ReactComposerPeopleTaggerTokenizerToken.react",["cx","React","SearchableEntry","TokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.$ReactComposerPeopleTaggerTokenizerToken1=function(){"use strict";return c("React").createElement("span",{className:"_jsa"})};l.prototype.render=function(){"use strict";var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":"")+" _jsc";return c("React").createElement(c("TokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c("SearchableEntry")).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l}),null);
__d("ReactComposerPhotoTaggerButton.react",["cx","fbt","ComposerTargetData","React","ReactComponentWithPureRenderMixin","ReactComposerMediaUtils","TooltipLink.react","VideoUploadConfig","XUIAmbientNUX.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerPhotoTaggerButton",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{photoLimit:j.number.isRequired,hasData:j.bool,selected:j.bool,multimediaNuxShown:j.bool,onNUXCloseButtonClick:j.func},getDefaultProps:function l(){return{hasData:false,selected:false}},render:function l(){var m=c("joinClasses")("_2vwi _lnh"+(this.props.hasData?" _6xe":""),this.props.className),n=this._renderMultimediaAttachmentsNux(),o,p=this.props.photoLimit>1,q=c("VideoUploadConfig").allowMultimedia&&this.props.targetData.targetSupportsMultiMedia;if(p)if(q)o=i._("Agrega fotos y videos a tu publicaci\u00f3n");else o=i._("Agrega fotos o un video a tu publicaci\u00f3n");else o=i._("Agrega una foto o un video a tu publicaci\u00f3n");return c("React").createElement(c("TooltipLink.react"),{className:"_3xem","data-testid":"react-composer-photo-tagger",onClick:this._onSelect,tooltip:o},c("React").createElement("span",{className:"accessible_elem"},this.props.photoLimit>1?i._("Agregar fotos"):i._("Agregar foto")),c("React").createElement("div",{className:m}),n)},_renderMultimediaAttachmentsNux:function l(){return c("React").createElement(c("XUIAmbientNUX.react"),{position:"below",width:"custom",contextRef:function(){return this.refs.fileInput}.bind(this),customwidth:400,shown:this.props.multimediaNuxShown,onCloseButtonClick:this.props.onNUXCloseButtonClick},i._("Ahora puedes agregar fotos y videos a la misma publicaci\u00f3n."))}});f.exports=k}),null);
__d("ReactComposerPromptsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null,SET_MEME_CATEGORY_ID:null},"ReactComposerPromptsActionTypes")}),null);
__d("ReactComposerPromptsStore",["ReactComposerPromptsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{promptData:null,promptXHP:null}},function(l){k&&k.handler(l)});k=this}j.prototype.handler=function(k){"use strict";switch(k.type){case c("ReactComposerPromptsActionTypes").SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c("ReactComposerPromptsActionTypes").SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;case c("ReactComposerPromptsActionTypes").SET_MEME_CATEGORY_ID:this.$ReactComposerPromptsStore4(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","minutiaeData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n};j.prototype.getMinutiaeData=function(k){"use strict";return this.getComposerData(k).minutiaeData};j.prototype.$ReactComposerPromptsStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","promptData"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n};j.prototype.getPromptData=function(k){"use strict";return this.getComposerData(k).promptData};j.prototype.$ReactComposerPromptsStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","promptXHP"]),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m)};j.prototype.getPromptXHP=function(k){"use strict";return this.getComposerData(k).promptXHP};j.prototype.$ReactComposerPromptsStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","memeCategoryID"]),m=l[0],n=l[1],o=this.getComposerData(m);o.memeCategoryID=n};j.prototype.getMemeCategoryID=function(k){"use strict";return this.getComposerData(k).memeCategoryID};f.exports=new j()}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"})}),null);
__d("StorySurfaces",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HOMEPAGE:1,TIMELINE:2,PERMALINK:3,ENTSTREAM:4,GROUP:5})}),null);
__d("ReactComposerPostDataUtils",["ComposerXMarauderLogger","PhotoEditorLoggingConstants","PhotoEditorSaveStates","PlaceAttachmentSetting","PUWApplications","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceSelectorStore","ReactComposerAudienceStore","ReactComposerEventAttachmentStore","ReactComposerLoggingStore","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerMinutiaeAttachmentStore","ReactComposerPhotoStore","ReactComposerPostUtilsCore","ReactComposerPromptsStore","ReactComposerScrapedAttachmentStore","ReactComposerSelectedImagesStore","ReactComposerSessionMetricsStore","ReactComposerSlideshowAudioStore","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","SlideshowUtil","StorySurfaces","flattenPHPQueryData","ifRequired","isNumberLike"],(function aa(ba,a,ca,da,ea,fa){var b=24*60*60*1e3,ga={getPostData:function c(d){var e=d.composerID,f=d.targetID,g=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").PEOPLE)||[],h=[];g.forEach(function($){h.push($.getUniqueID())});var i=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").PRODUCT)||[];i=i.filter(function($){return!$.getAuxiliaryData().isFacebox});var j=i.map(function($){return $.getUniqueID()}),k=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").ISSUE_TAG)||[],l=k.map(function($){return $.getUniqueID()}),m=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE),n=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").TAG_EVENT),o=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").ACTIVITY),p=[],q=[],r=[],s;if(o&&o.action&&o.object){p.push(o.action.getUniqueID());s=o.actionIconID;if(a("isNumberLike")(o.object.getUniqueID())&&o.object.getUniqueID()!==o.object.getTitle()){q.push(o.object.getUniqueID());r.push("")}else r.push(o.object.getTitle())}else if(m.politicalRepresentative)a("ifRequired")("ContactYourRepresentativeConsts",function($){p.push($.composer_action_id);q.push(m.politicalRepresentative.getUniqueID());r.push("")});else if(n&&n.eventID)a("ifRequired")("TagEventSproutConsts",function($){p.push($.composer_action_id);q.push(n.eventID);r.push("")});var t=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").STICKER),u=t&&t.stickerID?t.stickerID:0,v=a("ReactComposerMinutiaeAttachmentStore").getHideObjectAttachment(e),w=a("ifRequired")("ReactComposerLocationAttachmentStore",function($){w=$.getMarkup(e)!==null?a("PlaceAttachmentSetting").SHOW_ATTACHMENT:a("PlaceAttachmentSetting").HIDE_ATTACHMENT},function(){return a("PlaceAttachmentSetting").HIDE_ATTACHMENT}),x=[],y=[],z="";a("ifRequired")("ReactComposerMultilingualStatusStore",function($){x=$.getMessages(e);y=$.getLanguageDialects(e);z=$.getSpecifiedPostLanguage(e)});var A=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").FUN_FACT),ha=A?A.promptID:null,B=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").FUNDRAISER),ia=B?B.charityID:null,C=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").LOCATION),D=a("ReactComposerEventAttachmentStore").getEventID(e),E=C?C.place:null,F;if(a("ReactComposerTaggerStore").hasBackdate(e)){var G=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").BACKDATE);F={year:this._sanitizeDateField(G.year),month:this._sanitizeDateField(G.month),day:this._sanitizeDateField(G.day),hour:this._sanitizeDateField(G.hour),minute:this._sanitizeDateField(G.minute)}}var H=C&&C.implicitLocation?C.implicitLocation.citypageid:null,I=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").SPONSOR)||{},J={directShareStatus:I.directShareStatus,sponsorRelationship:I.sponsorRelationship,sponsors:[]};I.sponsors.map(function($){J.sponsors.push($.getUniqueID())});var K=a("ReactComposerAudienceStore").getCollectionID(e),L=null;if(!K){var M=a("ReactComposerAudienceStore").getLegacyAudience(e);if(M)L=[{value:M}]}var N=d.useHints,O=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").TARGETING),P=O&&!K?N?O.hints:O.targeting:null;if(P!=null){if(!N&&P.fan_of)P.fan_of=P.fan_of.map(function($){return $.id});a("ifRequired")("AdsAPITargetFields",function($){if($&&P&&N&&P[$.INTERESTS])P[$.INTERESTS]=P[$.INTERESTS].map(function(Aa){return Aa.id})})}var ja=O&&!K?O.gating:null;if(d.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!P)P={};P["relevant-until-date"]=d.composerConfig.contextInfo.stopFeedDistributionDateFormatted;P["relevant-until-time"]=d.composerConfig.contextInfo.stopFeedDistributionTimeFormatted}var Q=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT);if(Q)if(Q.showStart==1&&Q.showEnd==100||Q.showStart==null&&Q.showEnd==null)Q=null;else Q={showStart:Q.showStart,showEnd:Q.showEnd};var ka=a("ifRequired")("PagesComposerBoostedPostsStore",function($){return $.getConfig(e)},function(){return null}),R=a("ReactComposerScrapedAttachmentStore").getAttachmentConfig(e),la=a("ReactComposerAttachmentStore").getIsAttachmentSelected(e,a("ReactComposerAttachmentType").AUDIENCE_SELECTOR);if(la)R=a("ReactComposerAudienceSelectorStore").getAttachmentConfig(e);if(R===null){a("ifRequired")("ReactComposerCTAStore",function($){R=$.getAttachmentConfig(e)});if(R===null)a("ifRequired")("ReactComposerCollectionStore",function($){R=$.getAttachmentConfig(e)})}var S=a("ReactComposerTaggerStore").hasData(e,a("ReactComposerTaggerType").BREAKING_NEWS);if(S&&R&&R.params.url){var ma=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").BREAKING_NEWS).expirationTime;R.params.breaking_news_selected=S;R.params.breaking_news_expiration=ma}var T=a("ReactComposerTaggerStore").hasMarkdown(e);a("ifRequired")("ReactComposerMarkdownStore",function($){T=T||$.isMarkdownEnabled(e)});var na=a("ifRequired")("ReactComposerPostToGroupStore",function($){return $.getIsTabSelected(e)},function(){return false}),oa=a("ReactComposerTaggerStore").getPoliticalDistrictInfo(e),U=a("ReactComposerTaggerStore").getTaggerData(e,a("ReactComposerTaggerType").CONTENT_WARNINGS);if(U!=null)U=U.map(function($){return $.getUniqueID()});var V=null;a("ifRequired")("ReactComposerTopicFeedsTaggerStore",function($){if(!$.getIsDarkLaunch(e))V=$.getTaggedTopics(e).toArray()});var W=null;a("ifRequired")("ReactComposerGroupPostTagsTaggerStore",function($){W=$.getPostTagIDs(e)});var X=a("ReactComposerPromptsStore").getPromptData(e),pa=a("ReactComposerSessionMetricsStore").getComposerStartTime(e),qa=null;if(pa)qa=Math.round((Date.now()-pa)/1e3);var ra=false;a("ifRequired")("ReactComposerProfileBadgeStore",function($){ra=$.hasProfileBadge(e)});var Y=a("ComposerXMarauderLogger").getInstance(e),sa=Y&&Y.composerSourceSurface,Z=d.composerConfig.attachmentsConfig&&d.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS],ta=Z&&Z.richTextEditor,ua=false;if(Z&&Z.isWelcomeToGroupPost)ua=true;var va=K?null:a("ReactComposerAudienceStore").getAudience(e),wa=null;a("ifRequired")("ReactComposerFindPlayersStore",function($){wa={title:$.getTitle(e),tags:$.getTags(e),name:$.getName(e)}});var xa=null;if(a("ReactComposerStore").getRankerRequestID(e))xa={RequestID:a("ReactComposerStore").getRankerRequestID(e)};var ya=null,za=R&&R.readOnly;if(za)ya={xc_disable_link:za};return Object.assign(babelHelpers["extends"]({},a("ReactComposerStatusStore").getRichTextBlocks(e),{action_type_id:p,album_id:K,attachment:R,audience:L,backdated_date:F,boosted_post_config:ka,charity_id:ia,composer_entry_time:a("ReactComposerSessionMetricsStore").getComposerEntryTime(e),composer_session_id:a("ReactComposerLoggingStore").getSessionID(e),composer_session_duration:qa,composer_source_surface:sa,composer_type:Y&&Y.composerType,composertags_city:H,composertags_issues:l,composertags_place:E&&E.getUniqueID()||H,composertags_place_name:E&&E.getTitle(),composertags_with:h,composertags_sponsors:J.sponsors,direct_share_status:J.directShareStatus,sponsor_relationship:J.sponsorRelationship,composertags_product_items:j,content_warnings:U,extensible_sprouts_ranker_request:xa,feed_targeted_data:P,feed_topics:V,find_players_info:wa,fun_fact_prompt_id:ha,group_post_tag_ids:W,hide_object_attachment:v,icon_id:s,is_explicit_place:!!E,is_markdown:T,is_post_to_group:na,is_welcome_to_group_post:ua,is_q_and_a:a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(e,a("ReactComposerAttachmentType").QANDA),is_profile_badge_post:ra,political_district_info:oa,multilingual_statuses:x,multilingual_status_langs:y,multilingual_specified_lang:z,num_keystrokes:a("ReactComposerSessionMetricsStore").getKeystrokeCount(e),num_pastes:a("ReactComposerSessionMetricsStore").getPasteCount(e),object_id:q,object_str:r,place_attachment_setting:w,poll_question_data:this._getVisualPollAttachmentData(e),privacyx:va,prompt_id:X?X.promptID:null,prompt_tracking_string:X?X.trackingString:null,publisher_abtest_holdout:Q,ref:a("ReactComposerStore").getRef(e),xc_sticker_id:u,event_tag:D&&{event_id:D},tagger_session_id:C&&C.sessionID,target_type:a("ReactComposerStore").getTargetType(e),targeted_privacy_data:ja,xhpc_message:a("ReactComposerStatusStore").getMessage(e,ta&&!T),xhpc_message_text:a("ReactComposerStatusStore").getMessageText(e),is_forced_reshare_of_post:R&&R.reshare_original_post,xc_disable_config:ya}),this._getScrapedAttachmentData(R),a("ReactComposerPostUtilsCore").getCoreData(e,d.composerConfig.contextInfo,f))},getMediaUploadsData:function c(d,e){var f=a("ReactComposerPhotoStore").getPhotos(d);e=e.filter(function(g){return g.mediaType===a("ReactComposerMediaUploadType").VIDEO?true:f.some(function(h){return h.id===g.photoID})});return this.getMediaDataWithoutFiltering(d,e)},getMediaDataWithoutFiltering:function c(d,e){var f=e.map(function(i){return i.photoID}).toArray(),g=a("ReactComposerSlideshowStore").isSlideshowSelected(d),h=null;if(g)h=this._getSlideshowSpec(d);return Object.assign({composer_unpublished_photo:f,qn:a("ReactComposerLoggingStore").getSessionID(d),slideshow_spec:h,waterfallxapp:a("PUWApplications").WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(d)},this._getCreativeEditingToolsData(e))},_sanitizeDateField:function c(d){return!d||d===-1||d===0?null:d},_getSlideshowSpec:function c(d){var e=a("ReactComposerSlideshowAudioStore").getSelectedStorylineMood(d),f=null;if(e!=null)f=e.moodID;var g=a("ReactComposerSlideshowStore").getDurationInMS(d),h=a("ReactComposerSlideshowStore").getTransitionInMS(d),i=a("ReactComposerSelectedImagesStore").getNumberOfImages(d),j=a("SlideshowUtil").getTotalLengthInSec(g,i),k=a("SlideshowUtil").getDurationParam(i,j,h);return{photo_ids:a("ReactComposerSelectedImagesStore").getPhotoIDs(d),images_crops:a("ReactComposerSelectedImagesStore").getImagesCrops(d),photo_duration:k.durationInMS,photo_transition_duration:k.transitionInMS,storyline_mood_id:f}},_getXYTagData:function c(d){var e=a("ReactComposerPhotoStore").getAllTaggedFaceboxes(d).map(function(g){return{fbid:g.get("photoID"),x:g.get("x"),y:g.get("y"),name:g.get("taggedValue"),subject:g.get("taggedSubjectID"),from_facebox:true,source:g.get("isMagicTag")?"composerx_suggestions":"composerx_flyout"}}),f=a("ReactComposerPhotoStore").getAllXYTags(d).map(function(g){return{fbid:g.get("photoID"),x:g.get("x"),y:g.get("y"),name:g.get("name"),subject:g.get("subject"),from_facebox:g.get("from_facebox"),source:g.get("source")}});return e.concat(f)},_getCreativeEditingToolsData:function c(d){var e={},f={},g={},h={};d.forEach(function(j){var k=j.get("photoID"),l=a("PhotoEditorSaveStates").getLoggingData(j.get("originalPhotoID"));if(l){e[k]=l.hasFilter?true:null;f[k]=l.hasCrop?true:null;g[k]=l.textOverlays;h[k]=l.stickers}});var i={};i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_FILTER]=e;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_HAS_CROP]=f;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_TEXT_OVERLAY]=g;i[a("PhotoEditorLoggingConstants").COMPOSER_IMAGE_STICKER]=h;return i},_getScrapedAttachmentData:function c(d){if(!d||!d.params||d.readOnly)return null;return{xc_share_params:JSON.stringify(d.params),xc_share_target_type:d.type,xc_share_images:d.params.images,xc_share_title:d.params.title,xc_share_summary:d.params.summary,xc_link_url:d.params.url}},_getVisualPollAttachmentData:function c(d){var e=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,a("ReactComposerAttachmentType").VISUAL_POLL),f=null;if(e)a("ifRequired")("ReactComposerQuestionStore",function(g){var h=g.isRelativeEndTime(d),i=g.getVisualPollEndTimeInDays(d),j=true,k=0,l=0;if(i>0)if(h)l=i*b/1e3;else k=(Date.now()+i*b)/1e3;var m=g.getVisualPollNumOptions(d),n=g.getVisualPollOptionTexts(d),o=g.getVisualPollOptionGifUrls(d),p=a("ReactComposerMediaUploadStore").getUploads(d),q=this.getMediaUploadsData(d,p).composer_unpublished_photo,r=g.getVisualPollOptionImageIndices(d),s=[],t=0,u=0;for(var v=0;v<m;v++){s.push({});if(v<n.length&&n[v])s[v].text=n[v];else j=false;if(v<o.length&&o[v]){s[v].external_image_url=o[v];t+=1}else if(v<r.length&&r[v]>=0&&r[v]<q.length){s[v].associated_image_id=q[r[v]];u+=1}}var w=t+u===s.length?4:6;if(j)f={text:a("ReactComposerStatusStore").getMessage(d),question_type:w,poll_end_time:k,relative_poll_end_time:l,options:s}}.bind(this));return f},createFormData:function c(d){var e={};Object.keys(d).forEach(function(h){if(d[h]!==undefined&&d[h]!==null){var i=d[h]instanceof Object;if(!i)e[h]=d[h];else{var j=!Object.values(d[h]).every(function(k){return k===undefined||k===null});if(j)e[h]=d[h]}}});var f=new FormData(),g=a("flattenPHPQueryData")(e);Object.keys(g).forEach(function(h){f.append(h,g[h])});return f}};ea.exports=ga}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/react_composer/cta/publish/",{page_id:{type:"FBID",required:true},message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType",required:true},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"}})}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:true,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:true},group_id:{type:"FBID"},owner_id:{type:"FBID",required:true},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:false},video_ids:{type:"FBIDVector"}})}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/edit/dialog/save/",{v:{type:"Int",required:true}})}),null);
__d("textProbablyWritingMarkdown",[],(function a(b,c,d,e,f,g){"use strict";var h=1e3;function i(j){if(j.length>h)j=j.slice(0,h);var k=j.match(/^[*+-] /gm);if(k&&k.length>1)return true;var l=j.match(/`/);if(l)return true;var m=j.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(m)return true;var n=j.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(n)return true;var o=j.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(o)return true;var p=j.match(/\]\(|\]\[/);if(p)return true;return false}f.exports=i}),null);
__d("ReactComposerPostUtils",["invariant","ActorURI","Arbiter","ComposerEntryPointRef","ComposerPublisher","DateConsts","HTML","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XPagesComposerCustomCTAPublishAsyncController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XRedEnvelopeCreationController","XRedEnvelopeSaveController","XSalesPromoCreateAsyncController","XVideoEditDialogSaveController","formatDate","ifRequired","textProbablyWritingMarkdown"],(function aa(ba,a,ca,da,ea,fa,b){var c=a("ReactComposerWorkFileStore").module,d=!!c,e=c||a("ReactComposerFileStore"),ga={publish:function f(g,h){a("ReactComposerActions").publishStarted(g);h=h||{};h.composer_id=g;if(h.streamNode)h.streamStory=h.streamNode;else if(h.streamMarkup)h.streamStory=a("HTML")(h.streamMarkup).getRootNode();if(h.contentID)h.matchData={content_id:h.contentID};a("Arbiter").inform("composer/publish",h)},isPostButtonDisabled:function f(g,h){var i=a("ReactComposerPhotoStore").isLimitExceeded(g,h),j=a("ReactComposerMediaUploadStore").isUploading(g),k=a("ReactComposerPhotoStore").isRecognizing(g),l=!!a("ReactComposerVideoUploadStore").getVideo(g)&&a("ReactComposerStore").isPosting(g),m=a("ReactComposerPhotoStore").isSphericalPhotoUpdating(g);return i||j||k||l||m},post:function f(g){var h,i,j;!!g.actorID||b(0);!!g.composerConfig||b(0);!!g.composerConfig.contextInfo||b(0);!!g.composerID||b(0);!!g.targetID||b(0);var k=g.actorID,l=g.composerID,m=false,n=false,o=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").MEDIA),ha=a("ReactComposerAttachmentStore").getIsAttachmentSelected(l,a("ReactComposerAttachmentType").AUDIENCE_SELECTOR);o=o||ha;var ia=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QANDA),p=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FILE),q=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QUESTION),ja=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").RED_ENVELOPE),r=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SELL)||a("ifRequired")("ReactComposerSellStore",function(N){return N.getInterceptSell(l)},function(){return false}),s=false;a("ifRequired")("ReactComposerCTAAttachmentUtils",function(N){s=N.isCTAAttachmentSelected(l)});var t=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TASK),ka=a("ReactComposerSlideshowStore").isSlideshowSelected(l),la=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PROFILE_PIC_FRAME),ma=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PLACE_LIST),u=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").QA),na=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").FIND_PLAYERS),v=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").LEARNING_COURSE),oa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").PAGE_RECOMMENDATION),pa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").TOPIC_DISCUSSION),qa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),ra=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").SALES_PROMO),sa=a("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,a("ReactComposerAttachmentType").GROUP_MEET_UP),ta=g.composerConfig.attachmentsConfig||{},w=ta[a("ReactComposerAttachmentType").STATUS]||{},ua=a("ifRequired")("ReactComposerSellStore",function(N){return N.showURLIntercept(l)},function(){return false}),x=w.attemptIntercept&&w.sellIntercept&&!r&&!ua,y=a("ReactComposerPostDataUtils").getPostData(g);a("ifRequired")("ReactComposerStatusDonateButtonStore",function(N){if(N.getEnabled(l))Object.assign(y,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:N.getFundraiserCampaignID(l),link_title:N.getTitle(l),link_description:N.getDescription(l)}}})});a("ifRequired")("ReactComposerCTAStore",function(N){var O=N.getCTAData(l);if(O&&O.type==="MESSAGE_PAGE")Object.assign(y,{cta_data:O})});var z=a("ReactComposerVideoUploadStore").getVideo(l);if(o&&!!z){var A=a("ReactComposerVideoUploadStore").getUploader(l);A&&A.uploadFromFile(z.file,y);return}var va=d?e.hasFile(l):e.isFileSelected(l),B,wa=a("ReactComposerPhotoStore").getPhotos(l),C=a("ReactComposerMediaUploadStore").getUploads(l);a("ifRequired")("ReactComposerFormattedTextStore",function(N){var O=N.getTextFormatPresetID(l);if(O)Object.assign(y,{text_format_preset_id:O})});a("ifRequired")("ReactComposerPromptsStore",function(N){var O=N.getMemeCategoryID(l);if(O)Object.assign(y,{meme_category_id:O})});if(r){a("ifRequired")("ReactComposerSellStore",function(N){Object.assign(y,{composer_attachment_sell_title:N.getTitleText(l),composer_attachment_sell_price:N.getPrice(l),composer_attachment_sell_price_type:N.getPriceType(l),composer_attachment_sell_currency:N.getCurrency(l),composer_attachment_sell_quantity:N.getQuantity(l),composer_attachment_sell_condition:N.getConditionID(l),composer_attachment_sell_category:N.getCategoryID(l),composer_attachment_sell_location_page_id:N.getLocationID(l),composer_attachment_sell_pickup_note:N.getPickupNoteText(l),post_to_marketplace:N.isNearbyLocationChecked(l),cross_post_checked:N.isCrossPostChecked(l),composer_attachment_sell_audience_target_ids:Array.from(N.getAudienceTargetIDs(l)).join(",")})});a("ifRequired")("ReactComposerAutosSellStore.react",function(N){Object.assign(y,{composer_attachment_sell_serialized_verticals_data:N.getSerializedVerticalData(l)})})}if(s)a("ifRequired")("ReactComposerCTAStore",function(N){Object.assign(y,{cta_data:N.getCTAData(l)})});if(ma)a("ifRequired")("ReactComposerPlaceListStore.react",function(N){Object.assign(y,{is_placelist_post:true,placelist_within_page:N.getPageID(l),should_redirect_place_list_on_create:N.getShouldRedirectOnCreate(l)});if(N.getGroupID(l))Object.assign(y,{target_id:N.getGroupID(l),xhpc_targetid:N.getGroupID(l)})});if(sa)a("ifRequired")("ReactComposerGroupMeetUpStore.react",function(N){Object.assign(y,{is_meetup_post:true,meet_up_location_page:N.getPageID(l),meet_up_date_string:N.getDateString(l),meet_up_date_time:N.getDayTime(l)});if(N.getGroupID(l))Object.assign(y,{target_id:N.getGroupID(l),xhpc_targetid:N.getGroupID(l)})});if(oa)a("ifRequired")("ReactComposerPageRecommendationStore.react",function(N){Object.assign(y,{page_recommendation_ids:[N.getPageID(l)]})});var xa=C.size>0,ya=o||ia||r||v||t,D=ka||ya&&xa,za=a("ifRequired")("PagesComposerBoostedPostsStore",function(N){return N.getConfig(l)},function(){return null}),Aa=y.blocks,E=w.attemptMarkdownIntercept&&!r&&!Aa&&!y.is_markdown;a("ifRequired")("ReactComposerMarkdownStore",function(N){E=E&&!N.interceptAttempted(l)});if(!D&&E&&a("textProbablyWritingMarkdown")(a("ReactComposerStatusStore").getMessageText(l))){if(g.composerConfig.attachmentsConfig)if(g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS])g.composerConfig.attachmentsConfig[a("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=y.is_markdown;setTimeout(function(){return a("ReactComposerActions").postFinally(l,null)},0);a("ReactComposerMarkdownActions").showIntercept(l);return}var Ba=a("ifRequired")("ReactComposerSellStore",function(N){return N.getPostDirectlyToMarketplace(l)},function(){return false}),F=null;if(q||u){var G=a("ReactComposerStore").getRef(l);switch(G){case a("ComposerEntryPointRef").GROUP:F="group";break;case a("ComposerEntryPointRef").EVENT:case a("ComposerEntryPointRef").EVENT_ABOUT:F="event";break;case a("ComposerEntryPointRef").PAGES_FEED:F="composer";break;default:F=G}}if(D){if(x)B=a("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else if(E)B=a("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setBool("markdown_enabled",y.is_markdown).getURI();else if(Ba)B=a("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{n=a("ComposerPublisher").getShouldUseGraphQLForMedia(y);B=new(a("URI"))("/media/upload/photos/composer/")}var H=a("ReactComposerPostDataUtils").getMediaUploadsData(l,C);Object.assign(y,H)}else if(p&&va){var Ca=d||typeof e.getDropboxFileID!=="function"?null:e.getDropboxFileID(l);B=new(a("URI"))(e.getURI(l));Object.assign(y,{transaction_id:Ca})}else if(q){B=new(a("URI"))("/ajax/questions/save.php");a("ifRequired")("ReactComposerQuestionStore",function(N){var O=N.getOptionStrings(l),P=N.getOptionImageIndices(l);Object.assign(y,{composerAttachmentQuestion:a("ReactComposerStatusStore").getMessage(l),question_options:O,question_option_image_indices:P,source:F,create_eigenpoll:N.canChooseMultiplePollOptions(l),anyone_add_options:N.canAnyoneAddPollOptions(l)})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(s&&y.attachment.params.allowMultiMedia)B=a("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",y.xhpc_message_text).setHackType("cta_data",y.cta_data).setFBID("video_id",y.attachment.params.videoID).setFBID("photo_id",y.attachment.params.photoID).setFBID("page_id",g.targetID).setString("boosted_post_config",za).setHackType("raw_data",y).getURI();else if(ja){a("ifRequired")("ReactComposerRedEnvelopeStore",function(N){Object.assign(y,{composer_attachment_message:a("ReactComposerStatusStore").getMessageText(l),message:a("ReactComposerStatusStore").getMessage(l),type:N.getType(l),theme:N.getTheme(l),total_amount:N.getTotalAmount(l),credential_id:N.getCredentialId(l),distribution:N.getDistribution(l),number_of_envelopes:N.getNumberOfEnvelopes(l)})});if(y.type==="v1")B=a("XRedEnvelopeSaveController").getURIBuilder().setString("composer_attachment_message",y.composer_attachment_message).setString("distribution",y.distribution).setInt("total_amount",y.total_amount*100).setInt("number_of_envelopes",y.number_of_envelopes).setInt("xhpc_targetid",g.targetID).setString("xhpc_composerid",g.composerID).getURI();else{var Da=a("ReactComposerTaggerStore").getTaggerData(l,a("ReactComposerTaggerType").PEOPLE),Ea=Da.map(function(N){return N.getUniqueID()});B=a("XRedEnvelopeCreationController").getURIBuilder().setString("message",y.composer_attachment_message).setInt("amount",y.total_amount*100).setInt("credential_id",y.credentialID).setInt("photo_id",y.theme).setInt("target_id",g.targetID).setFBIDVector("tagged_ids",Ea).setString("xhpc_composerid",g.composerID).getURI()}}else if(r)B=new(a("URI"))("/ajax/groups/sell/save.php");else if(la){var I=void 0,J=void 0;a("ifRequired")("ReactComposerProfilePictureFrameStore",function(N){I=N.getSelectedOverlayID(l);J=N.getScheduledPostDate(l);H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,N.getCroppedPhotoForUpload(l))});var Fa=void 0,Ga=void 0,Ha=void 0,Ia=false;if(J){Fa=a("formatDate")(J,"m/d/Y",{skipPatternLocalization:true});var Ja=J.getHours()*a("DateConsts").MIN_PER_HOUR+J.getMinutes();Ga=a("DateConsts").SEC_PER_MIN*Ja;Ha=J.getTime()/1e3;Ia=true}B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:Ia,sticker_id:I,future_date:Fa,future_time:Ga,scheduled_publish_time:Ha}))}else if(pa)a("ifRequired")("ReactComposerGroupTopicDiscussionStore",function(N){B=new(a("URI"))("/group_topic_discussion/save/");Object.assign(y,{composer_topic_title:N.getTitle(l),composer_topic_description:N.getDescription(l)})});else if(u){a("ifRequired")("ReactComposerGroupQAStore",function(N){B=new(a("URI"))("/group_qa/save/");Object.assign(y,{composer_question_title:N.getTitle(l),composer_question_description:N.getDescription(l),source:F})});Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(ra){a("ifRequired")("ReactComposerSalesPromoStore",function(N){Object.assign(y,{availability_location:N.getAvailabilityLocation(l),description:N.getDescription(l),destination_uri:N.getDestinationURI(l),discount_code:N.getDiscountCode(l),expiration_time:N.getExpirationTime(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo,terms_and_conditions:N.getTermsAndConditions(l)})});B=a("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",y.availability_location).setString("description",y.description).setString("destination_uri",y.destination_uri).setString("discount_code",y.discount_code).setInt("expiration_time",y.expiration_time).setFBID("group_id",g.targetID).setFBID("owner_id",k).setFBIDVector("photo_ids",y.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",y.terms_and_conditions).getURI();Object.assign(y,a("ReactComposerPostDataUtils").getMediaUploadsData(l,C))}else if(na)a("ifRequired")("ReactComposerFindPlayersStore",function(N){B=new(a("URI"))(a("XGamesFindPlayersSaveController").getURIBuilder().getURI());Object.assign(y,{composer_find_players_title:N.getTitle(l),composer_find_players_tags:N.getTags(l),composer_find_players_name:N.getName(l),composer_find_players_description:a("ReactComposerStatusStore").getMessage(l),photo_ids:a("ReactComposerPostDataUtils").getMediaUploadsData(l,C).composer_unpublished_photo})});else if(qa)(function(){var N=void 0,O=true;a("ifRequired")("ReactComposerMediaEffectShareStore",function(P){H=a("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(l,P.getEffectPhotoForUpload(l));var Q=P.getComposerData(l).effectStatus;N=P.getEffectToApply(l);if(Q==="active")O=false;var R=P.getUploadedVideoID(l);if(R){Object.assign(y,{draft:O});P.postVideo(l,y);return}});B=new(a("URI"))("/media/upload/photos/composer/");Object.assign(y,babelHelpers["extends"]({},H,{scheduled:false,sticker_id:N,draft:O}))})();else if(y.attachment&&y.attachment.params.canvas_video)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.canvas_video.video_id).getURI();var N=a("ifRequired")("PagesComposerUnpublishedPostsStore",function(Q){return Q.getScheduledPublishTime(g.composerID)},function(){return null});N=N?Math.round(N.getTime()/1e3):null;var O=N===null&&!y.draft;Object.assign(y,y.attachment.params.canvas_video);Object.assign(y,{description:y.xhpc_message,is_canvas_video:true,publish:O,scheduled_publish_time:N,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var P={content_id:y.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:false,scraped_url:y.attachment.params.url,target_id:g.targetID};a("ifRequired")("PagesComposerActionsLogger",function(Q){Q.log(P)})})();else if(y.attachment&&y.attachment.params.carousel_video_lpp)(function(){B=a("XVideoEditDialogSaveController").getURIBuilder().setInt("v",y.attachment.params.carousel_video_lpp.video_id).getURI();var N=a("ifRequired")("PagesComposerUnpublishedPostsStore",function(Q){return Q.getScheduledPublishTime(g.composerID)},function(){return null});N=N?Math.round(N.getTime()/1e3):null;var O=N===null&&!y.draft;Object.assign(y,y.attachment.params.carousel_video_lpp);Object.assign(y,{description:y.xhpc_message,scheduled_publish_time:N,publish:O,source:a("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var P={child_attachments:y.attachment.params.child_attachments,event:"publish",target_id:g.targetID,content_id:y.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:y.attachment.params.url};a("ifRequired")("PagesComposerActionsLogger",function(Q){Q.log(P)})})();else if(x)B=a("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",a("ReactComposerStatusStore").getMessageText(l)).setString("xhpc_composerid",g.composerID).setInt("xhpc_targetid",g.targetID).getURI();else{m=a("ComposerPublisher").getShouldUseGraphQLForStatus(k,y);B=new(a("URI"))("/ajax/updatestatus.php")}if(v)a("ifRequired")("ReactComposerGroupLearningCourseStore",function(N){Object.assign(y,{xhpc_composerid:l,xhpc_targetid:N.getGroupID(l),target_id:N.getGroupID(l),xhpc_learning_course:true,module_name:N.getModuleName(l),xhpc_unit_id:N.getUnitID(l)})});if(t){B=a("XGroupTaskSaveController").getURIBuilder().getURI();a("ifRequired")("ReactComposerTaskStore",function(N){Object.assign(y,N.getTaskData(l));a("ifRequired")("GroupTaskLoggedAction",function(O){Object.assign(y,{action_to_be_logged:O.CREATE_TASK})})})}var Ka=g.composerConfig.pagePremadePostData;if(Ka)Object.assign(y,{page_premade_post:Ka});var La=a("ReactComposerAttachmentStore").getAttachment(l,a("ReactComposerAttachmentType").LEARNING_COURSE);if(p&&La){var Ma=new(a("URI"))(window.location.href).getQueryData().filter,Na=e.getSelectedFileName(l);if(Ma)Object.assign(y,{xhpc_unit_id:Ma,xhpc_learning_course:true,module_name:Na?Na:"New file"})}var K=false;a("ifRequired")("ReactComposerVideoXEditDialogStore",function(N){var O;K=N.hasSelectedCustomThumbnails(g.composerID);if(K)(function(){var P=C.map(function($){return $.id}),Q=N.getThumbnailTypes(P.toArray(),g.composerID),R={};C.forEach(function($){return R[$.id]=$.photoID});var Pa={};for(var S=Q,Qa=Array.isArray(S),T=0,S=Qa?S:S[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var U;if(Qa){if(T>=S.length)break;U=S[T++]}else{T=S.next();if(T.done)break;U=T.value}var Ra=U,Sa=Ra[0],Ta=Ra[1];Pa[R[Sa]]=Ta}Object.assign(y,{thumb_types:Pa});var Ua=N.getUploadsWithTextOnThumbnail(P.toArray(),g.composerID),V=[];for(var W=Ua,Va=Array.isArray(W),X=0,W=Va?W:W[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var Y;if(Va){if(X>=W.length)break;Y=W[X++]}else{X=W.next();if(X.done)break;Y=X.value}var Wa=Y;V=V.concat(R[Wa])}Object.assign(y,{videos_with_text_thumbnails:V});var Z=a("ReactComposerPostDataUtils").createFormData(y);N.getThumbnails(P.toArray(),g.composerID).then(function($){$.forEach(function(Xa){Z.append("thumb"+R[Xa[0]],Xa[1])});if(p&&e.hasFile(l)){var M=e.getFile(l);Z.append("file1",M)}B=a("ActorURI").create(B,k);var L=new(a("ReactComposerAsyncRequest"))(g.composerID,B).setRawData(Z).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);L.send()}).done()})()});if(m||n){a("ComposerPublisher").publish(g,y);return}if(!K){B=a("ActorURI").create(B,k);var L=new(a("ReactComposerAsyncRequest"))(g.composerID,B).setData(y).setHandler(g.onPostSuccess).setErrorHandler(g.onPostFailure);if(p&&e.hasFile(l)){var M=e.getFile(l),Oa=new FormData();Oa.append("file1",M);L.setRawData(Oa)}L.send()}}};ea.exports=ga}),null);
__d("DummySearchSource",["AbstractSearchSource"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){"use strict";l([],k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("CanvasVideoThumbnail",["Promise","DOM","EventListener","VideoThumbnail","canvasToBlob"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this,null);this.$CanvasVideoThumbnail1=k;this.$CanvasVideoThumbnail2=l;this.$CanvasVideoThumbnail3=m}j.prototype.getTime=function(){"use strict";return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};j.prototype.getURL=function(){"use strict";if(!this.$CanvasVideoThumbnail4)this.$CanvasVideoThumbnail4=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg");return this.$CanvasVideoThumbnail4};j.prototype.getData=function(){"use strict";var k=c("DOM").create("canvas"),l=k.getContext("2d"),m=this.$CanvasVideoThumbnail2;return new(c("Promise"))(function(n,o){var p=c("EventListener").listen(m,"seeked",function(){p.remove();k.width=m.videoWidth;k.height=m.videoHeight;l.drawImage(m,0,0,k.width,k.height);c("canvasToBlob")(k,"image/jpeg").then(n,o)});m.currentTime=this.$CanvasVideoThumbnail3}.bind(this))};j.prototype.getDataWithText=function(k,l,m,n,o,p,q,r){"use strict";var s=c("DOM").create("canvas"),t=s.getContext("2d"),u=this.$CanvasVideoThumbnail2;return new(c("Promise"))(function(v,w){var x=c("EventListener").listen(u,"seeked",function(){x.remove();s.width=u.videoWidth;s.height=u.videoHeight;t.fillStyle=q;t.textAlign=r;t.drawImage(u,0,0,s.width,s.height);t=c("VideoThumbnail").addTextToCanvasContext(t,k,l,m,n,o,p,q,r);c("canvasToBlob")(s,"image/jpeg").then(v,w).done()});u.currentTime=this.$CanvasVideoThumbnail3}.bind(this))};f.exports=j}),null);
__d("generateVideoThumbnails",["Promise","CanvasVideoThumbnail","EventListener","VideoFrameBuffer","VideoThumbnail"],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=arguments.length<=4||arguments[4]===undefined?"contain":arguments[4],n=arguments.length<=5||arguments[5]===undefined?0:arguments[5];return new(c("Promise"))(function(o,p){var q=document.createElement("canvas"),r=[],s=0,t=(i.duration-n)/l,u=new(c("VideoThumbnail"))(""),v=new(c("VideoFrameBuffer"))(q,i,m),w;q.width=j;q.height=k;var x=function x(){v.updateFrameBuffer();var z=new(c("CanvasVideoThumbnail"))(q,i,n+(s-1)*t);r.push(z);if(z.getURL().length>u.getURL().length)u=z;y()},y=function y(){if(s===0)w=c("EventListener").listen(i,"seeked",x);if(s<l){i.currentTime=n+s*t;s++}else{if(w)w.remove();o({thumbnails:r,selectedThumbnail:u})}};if(i.videoWidth===0||i.videoHeight===0){p();return}y()})}f.exports=h}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page",INFLUENCER_PAGE:"influencer_page"})}),null);
__d("RegexMatchSearchSource",["AbstractSearchSource","SearchableEntry"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$RegexMatchSearchSource2=new RegExp(k);this.$RegexMatchSearchSource3=l||"";this.$RegexMatchSearchSource1=m||{}}j.prototype.searchImpl=function(k,l,m){"use strict";if(k&&this.$RegexMatchSearchSource2.test(k)){var n=new(c("SearchableEntry"))({uniqueID:k,title:k,type:this.$RegexMatchSearchSource3,auxiliaryData:babelHelpers["extends"]({},this.$RegexMatchSearchSource1,{isRegexEntry:true})});l([n],k);return}l([],k)};f.exports=j}),null);