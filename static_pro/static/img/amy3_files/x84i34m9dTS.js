if (self.CavalryLogger) { CavalryLogger.start_js(["Oehn5"]); }

__d("TimelineAppSectionConstants",[],(function a(b,c,d,e,f,g){f.exports={collectionTabKeyToAppTabKey:{friends_recent:"friends",friends_all:"friends",friends_mutual:"friends",photos_of:"photos",photos_all:"photos",photos_albums:"photos",likes_recent:null,info_all:"about",music_my_music:"music",music_favs:"music",music_playlists:"music",books_read:"books",books_favorite:"books",books_want:"books",recent_places:null,fitness_overview:"fitness",places_want:null,info_contact:null,fitness_running:"fitness",fitness_cycling:"fitness",friends_followers:"friends",friends_following:"friends",music_radio:"music",info_history:null,recent_games:"games",products_want:null,photos_archive:"photos",notes_my_notes:"notes",notes_drafts:"notes",notes_about_me:"notes",video_movies_watch:"movies",video_tv_shows_watch:"tv",music_saved:"music",video_movies_want:"movies",video_tv_shows_want:"tv",video_movies_favorite:"movies",video_tv_shows_favorite:"tv",friends_high_school:"friends",friends_college:"friends",friends_work:"friends",friends_suggested:"friends",apps_like:"games",upcoming_events:"events",past_events:"events",likes_people:"likes",likes_sports:null,fitness_report:null,groups_member:"groups",music_heavy_rotation:"music",photos_album:"photos",likes_restaurants:"likes",likes_clothing:null,info_insights:null,apps_used:"games",games_play:"games",games_apps_saved:null,video_movies_suggestions:null,video_tv_shows_suggestions:null,books_suggestions:null,saved_books:"saved",saved_movies:"saved",saved_tv_shows:"saved",saved_music:"saved",places_saved:"map",saved_links:"saved",sports_teams:"sports",likes_all:"likes",saved_places:"saved",saved_all:"saved",sports_athletes:"sports",sports_activities:null,saved_events:"saved",saved_archived:"saved",places_recent:"map",places_visited:"map",reviews_written:"reviews",likes_section_movies:"likes",likes_section_tv_shows:"likes",likes_section_books:"likes",likes_section_music:"likes",likes_section_sports_teams:"likes",place_visits_by_place_tag:null,places_cities:"map",place_visits_by_city:null,topic_visit_counts:"map",place_visits_by_topic:null,place_visit_stories:null,places_map:"map",likes_section_apps_and_games:"likes",likes_section_sports_athletes:"likes",places_cities_desktop:"map",saved_videos:"saved",saved_pages:"saved",friends_with_upcoming_birthdays:"friends",friends_current_city:"friends",friends_hometown:"friends",at_work_contact:null,place_reviews_written:"reviews",movie_reviews_written:"reviews",tv_show_reviews_written:"reviews",book_reviews_written:"reviews",photos_all_expanded:"photos",videos_by_user:"videos",videos_user_tagged:"videos",friends_map:"friends",videos_user_all:"videos",saved_posts:"saved",saved_photo_posts:"saved",saved_products:"saved",at_work_hr_info:null,friends_with_unseen_posts:"friends",groups_mutual:"groups",saved_profiles:"saved",work_followers:"friends",work_following:"friends",saved_messages:"saved",saved_lists:"saved",saved_fundraisers:"saved",video_playlists:"videos",saved_jobs:"saved",lists:"lists",list_contents:"lists",saved_group_posts:"saved",saved_offers:"saved",albums_all:"albums_all",albums_featured:"albums_all",tasks_created:"tasks",tasks_assigned:"tasks",fun_fact_answers:"fun_facts",sharing_spaces:"post_sets",sharing_spaces_user_space:"post_sets",saved_asset3ds:"saved",sharing_spaces_user_space_followers:"post_sets",unknown_do_not_use_this:null,followers:"friends",following:"friends",media_set:"photos",photos_stream:"photos",photos_synced:"photos",apps:"games",videos_by:"videos",videos_of:"videos",post_set:"post_sets",post_set_followers:"post_sets"}}}),null);
__d("MuteMemberHelper",["Arbiter","PopoverAsyncMenu"],(function a(b,c,d,e,f,g){var h="group_member_muted";"use strict";var i={emitMemberMuted:function j(k){c("Arbiter").inform(h,{groupID:k})},refetchOnGroupMemberMuted:function j(k,l){c("Arbiter").subscribe(h,function(m,n){if(n.groupID===l)k._refetchMenu()})}};f.exports=i}),null);
__d("OptimisticPostMetadata.react",["cx","React","XUIText.react","Link.react","BackgroundImage.react","getDOMImageSize"],(function a(b,c,d,e,f,g,h){var i,j,k=470,l=263,m=472;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={height:l},this.onGetSize=function(t,u,v){var w=t<u?k:l;this.setState({height:w})}.bind(this),p}n.prototype.componentDidMount=function(){"use strict";c("getDOMImageSize")(this.props.image,this.onGetSize)};n.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_1gi0"},c("React").createElement(c("XUIText.react"),{size:"medium",weight:"bold",display:"block"},c("React").createElement(c("Link.react"),null,this.props.title)),c("React").createElement(c("XUIText.react"),{size:"medium",weight:"normal",display:"block"},this.props.description)),c("React").createElement("div",{className:"_2bc-"},c("React").createElement(c("BackgroundImage.react"),{src:this.props.image,backgroundSize:"contain",width:m,height:this.state.height})))};f.exports=n}),null);
__d("OptimisticPostMetadataWithoutThumbnail.react",["cx","EventListener","OptimisticPostMetadata.react","React","ReactDOM","generateVideoThumbnails"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={thumbnail:""},this.$OptimisticPostMetadataWithoutThumbnail1=null,this.generateVideoThumbnails=function(){var q=c("ReactDOM").findDOMNode(this.refs.videoPlayer);c("generateVideoThumbnails")(q,200,200,1).done(function(r){this.setState({thumbnail:r.thumbnails[0].getURL()})}.bind(this))}.bind(this),m}k.prototype.componentDidMount=function(){"use strict";var l=c("ReactDOM").findDOMNode(this.refs.videoPlayer);this.$OptimisticPostMetadataWithoutThumbnail1=c("EventListener").listen(l,"loadedmetadata",this.generateVideoThumbnails)};k.prototype.componentWillUnmount=function(){"use strict";if(this.$OptimisticPostMetadataWithoutThumbnail1){this.$OptimisticPostMetadataWithoutThumbnail1.remove();this.$OptimisticPostMetadataWithoutThumbnail1=null}};k.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("OptimisticPostMetadata.react"),{title:this.props.title,description:this.props.description,image:this.state.thumbnail}),c("React").createElement("video",{key:"videoPlayer",ref:"videoPlayer",className:"_2mpk",src:this.props.videoFileUrl}))};f.exports=k}),null);
__d("OptimisticPostUFISection.react",["cx","fbt","Image.react","React","UFICommentLink.react","UFILikeLink.react","UFIShareLink.react","XUICardSection.react","XUIPopoverButton.react"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";var m=null;if(this.props.isPagePost)m=c("React").createElement("div",{className:"_1f6t _3uni"},c("React").createElement("div",{className:"_3m9g"},c("React").createElement("div",{className:"_40yk"},c("React").createElement(c("XUIPopoverButton.react"),{haschevron:true,image:c("React").createElement(c("Image.react"),{width:16,height:16,src:this.props.profilePicture}),ref:"open-menu-button",suppressed:true,type:"button"}))));return c("React").createElement(c("XUICardSection.react"),null,c("React").createElement("div",{className:"_sa_"},m,c("React").createElement("div",{className:"_a7s _3399"},c("React").createElement("div",{className:"_524d"},c("React").createElement("div",{className:"_42nr"},c("React").createElement("span",null,c("React").createElement(c("UFILikeLink.react"),{likeAction:true})),c("React").createElement("span",null,c("React").createElement(c("UFICommentLink.react"),null,i._("Comentar"))),c("React").createElement("span",null,c("React").createElement(c("UFIShareLink.react"),{href:"#"})))))))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("StoryProfile.react",["cx","BackgroundImage.react","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","PrivacyConst","React","XUIGrayText.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$StoryProfile1=function(){var r=null;if(this.props.privacyIndicator)r=this.props.privacyIndicator;else if(this.props.privacySetting){var s=this.props.privacySetting==c("PrivacyConst").BaseValue.EVERYONE,t=this.props.privacySetting==c("PrivacyConst").BaseValue.ALL_FRIENDS;r=c("React").createElement(c("BackgroundImage.react"),{width:13,height:12,"data-hover":"tooltip","data-tooltip-content":this.props.privacyTooltip,className:"_14g-"+(s?" _14g_":"")+(t?" _5qhp":"")+(!t&&!s?" _14h0":"")})}if(!r)return null;return c("React").createElement("span",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small",display:"inline"},"\xa0\xb7\xa0"),r)}.bind(this),this.$StoryProfile2=function(){var r,s;if(this.props.profileURL){var t;if(this.props.openProfileURLInNewPage)t="_blank";s="bold";r=c("React").createElement(c("Link.react"),{href:this.props.profileURL,target:t},this.props.username)}else r=this.props.username;if(this.props.description)return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_14gz",size:"medium",weight:s},r)," ",this.props.description);else return c("React").createElement(c("XUIText.react"),{className:"_14gz",size:"medium",weight:s,display:"block"},r)}.bind(this),this.$StoryProfile3=function(){if(this.props.additionalLinks)return c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small",display:"inline"},this.props.additionalLinks.map(function(r,s){return c("React").createElement("span",{key:s},"\xa0\xb7\xa0",c("React").createElement(c("Link.react"),{href:r.URL,target:"_blank"},r.text))}));return null}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement(c("ImageBlock.react"),{spacing:"medium",className:c("joinClasses")(this.props.className,"_56-3")},this.props.profilePicture?c("React").createElement(c("FBProfilePhotoShadow.react"),null,c("React").createElement(c("Image.react"),{className:"_56-4",src:this.props.profilePicture})):c("React").createElement("span",null),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:40,fullWidth:true},this.$StoryProfile2(),c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"small",display:"inline"},this.props.uploadTime),this.$StoryProfile1(),this.$StoryProfile3())))};l.propTypes={privacySetting:k.number,privacyIndicator:k.object,profilePicture:k.string,privacyTooltip:k.node,username:k.string.isRequired,uploadTime:k.node.isRequired,profileURL:k.string,openProfileURLInNewPage:k.bool,additionalLinks:k.arrayOf(k.shape({URL:k.string,text:k.node})),description:k.node};l.defaultProps={openProfileURLInNewPage:false};f.exports=l}),null);
__d("OptimisticVideoPost.react",["fbt","cx","ActorURI","AsyncRequest","Layout.react","LeftRight.react","OptimisticPostMetadata.react","OptimisticPostMetadataWithoutThumbnail.react","OptimisticPostUFISection.react","PrivacyConst","ProgressBar.react","PublishingToolsSource","React","StoryProfile.react","VideoEditSource","VideoLibraryButton.react","VideoLibrarySource","VideoThumbnailConfig","XUIAmbientNUX.react","XUIButton.react","XUICard.react","XUICardSection.react","XVideoEditController","XVideoEditDialogController"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn,n=c("React").PropTypes;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={shouldShowVideoLibraryNux:this.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0},this.getThumbnail=function(){if(this.props.thumbnail)return this.props.thumbnail;return c("VideoThumbnailConfig").defaultThumbnailURL}.bind(this),this.onEditClick=function(){var u;if(this.props.shouldShowVideoEditDialog){u=c("XVideoEditDialogController").getURIBuilder().setInt("video_id",this.props.videoID).setEnum("source",c("VideoEditSource").OPTIMISTIC_VIDEO_POST).getURI();if(this.props.targetID)u=c("ActorURI").create(u,this.props.targetID);new(c("AsyncRequest"))(u).send()}else{u=c("XVideoEditController").getURIBuilder().setInt("v",this.props.videoID).setEnum("source",c("VideoEditSource").OPTIMISTIC_VIDEO_POST).getURI();window.open(u,"_blank")}}.bind(this),this.onNuxDismiss=function(){this.setState({shouldShowVideoLibraryNux:false});this.props.onVideoLibraryNuxDismiss()}.bind(this),this.renderLayers=function(){if(!this.props.shouldShowVideoLibraryNux)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.video_library_button}.bind(this),shown:true,position:"above",onCloseButtonClick:this.props.onVideoLibraryNuxDismiss,key:"videoLibraryNux"},"Manage your videos, all in one place.")}.bind(this),q}o.prototype.render=function(){"use strict";var p=h._("Hace un momento"),q=void 0;if(this.props.progress>=100&&this.props.progressCompleteText)q=this.props.progressCompleteText;else q=h._("Preparando... {number}\u0025",[h.param("number",this.props.progress)]);var r=null;if(this.props.shouldShowVideoLibraryButton)r=c("React").createElement(c("VideoLibraryButton.react"),{ref:"video_library_button",pageID:this.props.targetID,source:c("VideoLibrarySource").OPTIMISTIC_VIDEO_POST,refSource:c("PublishingToolsSource").OPTIMISTIC_VIDEO_POST});var s=null;if(this.props.shouldShowVideoEditButton)s=c("React").createElement(c("XUIButton.react"),{className:"_4p26",label:"Edit",size:"small",onClick:this.onEditClick});var t=c("React").createElement(c("XUICardSection.react"),{background:"light-wash"},c("React").createElement("div",{className:"_pro"},c("React").createElement("div",{className:"_2uu3"},c("React").createElement(c("Layout.react"),{className:"_1mg"},c("React").createElement(m,null,c("React").createElement("div",null,c("React").createElement(c("ProgressBar.react"),{className:"_prp",value:this.props.progress,label:q}))),c("React").createElement(l,null,c("React").createElement("div",null,r,s)))))),u=this.props.profilePicture||"",v=this.props.username||"",w=this.props.privacySetting||-1,x=c("React").createElement(c("StoryProfile.react"),{className:"_4r8g",profilePicture:u,username:v,uploadTime:p,privacySetting:w}),y=this.props.thumbnail?c("React").createElement(c("OptimisticPostMetadata.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,image:this.getThumbnail()}):c("React").createElement(c("OptimisticPostMetadataWithoutThumbnail.react"),{title:this.props.metadataTitle,description:this.props.metadataDescription,videoFileUrl:this.props.videoFileUrl}),z=h._("Promocionar publicaci\u00f3n"),A=this.props.isPagePost?c("React").createElement("div",{className:"_5c_1"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("XUIButton.react"),{label:z,use:"confirm"}))):null,B=c("React").createElement(c("OptimisticPostUFISection.react"),{profilePicture:this.props.profilePicture,isPagePost:this.props.isPagePost}),C=c("React").createElement("div",null,x,y,A,B),D=c("React").createElement("div",{className:"_5c_3"});return c("React").createElement("div",{className:!!this.props.isPagePost?"_5ctl":""},c("React").createElement(c("XUICard.react"),{className:"_4p28"},t,c("React").createElement("div",{className:"_prq"},C,D)),this.renderLayers())};o.propTypes={profilePicture:n.string,username:n.string,privacySetting:n.number,metadataTitle:n.string,metadataDescription:n.string,thumbnail:n.string,videoID:n.string,isPagePost:n.bool,progress:n.number,progressCompleteText:n.string,shouldShowVideoEditButton:n.bool,shouldShowVideoEditDialog:n.bool,targetID:n.string,videoFileUrl:n.string,shouldShowVideoLibraryNux:n.bool};o.defaultProps={profilePicture:"",username:"",privacySetting:c("PrivacyConst").BaseValue.EVERYONE,metadataTitle:"",metadataDescription:"",thumbnail:"",progress:0,videoID:"",isPagePost:false,progressCompleteText:"",shouldShowVideoEditButton:true,shouldShowVideoEditDialog:false,videoFileUrl:"",shouldShowVideoLibraryNux:false};f.exports=o}),null);
__d("OptimisticVideoPostEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_POST_ADDED:"video_post_added",VIDEO_POST_REMOVED:"video_post_removed",POST_REMOVED_WITHOUT_REPLACEMENT:"post_removed_without_replacement"})}),null);
__d("OptimisticVideoPostLogger",["BanzaiLogger"],(function a(b,c,d,e,f,g){var h={logEvent:function i(event,j,k,l,m){c("BanzaiLogger").log("OptimisticVideoPostLoggerConfig",{number_of_posts:k,source:j,event:event,target_id:l,video_id:m})}};f.exports=h}),null);
__d("OptimisticVideoPostSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGES_TIMELINE:"pages_timeline",VIDEO_HUB:"video_hub",USERS_TIMELINE:"users_timeline"})}),null);
__d("VideoLibraryNuxAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMPRESSION:"impression",DISMISS:"dismiss"})}),null);
__d("VideoLibraryNuxType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HIGHLIGHTED_VIDEOS_NUX:"highlighted_videos_nux",OPTIMISTIC_POST_NUX:"optimistic_post_nux",VIDEO_HUB_NUX:"video_hub_nux",VIDEO_INSIGHTS_NUX:"video_insights_nux"})}),null);
__d("XVideoCaptionRenderGenerateHeaderAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/pagePosts/",{video_id:{type:"Int"}})}),null);
__d("VideoPostGenerateCaptionHeader",["csx","AsyncRequest","DOM","Parent","XVideoCaptionRenderGenerateHeaderAsyncController"],(function a(b,c,d,e,f,g,h){var i={renderHeader:function j(k,l){var m=c("Parent").bySelector(k,"#pagelet_timeline_main_column");if(!m)return;var n=c("DOM").scry(m,"._5sem")[0];if(n){var o=c("DOM").create("div");c("DOM").prependContent(n,o);var p=c("XVideoCaptionRenderGenerateHeaderAsyncController").getURIBuilder().setInt("video_id",l).getURI();new(c("AsyncRequest"))().setMethod("GET").setRelativeTo(o).setURI(p).setReadOnly(true).setAllowCrossPageTransition(true).send()}}};f.exports=i}),null);
__d("XProfileVideoRefreshController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/picture/refresh_profile_video/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoGenerateStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/generate_story/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}})}),null);
__d("XVideoLibraryNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/video_library/nux/",{action:{type:"Enum",required:true,enumType:1},nux_type:{type:"Enum",required:true,enumType:1}})}),null);
__d("XVideoOptimisticPostingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/optimistic_posting/",{video_id:{type:"Int",required:true}})}),null);
__d("OptimisticVideoPostList.react",["Arbiter","AsyncRequest","ChannelConstants","FBFeedLocations","OptimisticVideoPost.react","OptimisticVideoPostEvent","OptimisticVideoPostLogger","OptimisticVideoPostSource","OptimisticVideoPostUtils","PagesComposer","ProfileVideoWWWFrontendActionTypedLogger","React","ReactDOM","ReloadPage","Run","TimelineComposer","VideoLibraryNuxAction","VideoLibraryNuxType","VideoPostGenerateCaptionHeader","XProfileVideoRefreshController","XVideoGenerateStoryController","XVideoLibraryNuxController","XVideoOptimisticPostingController"],(function a(b,c,d,e,f,g){var h,i,j=b.URL||b.webkitURL||{},k="video_encode",l=7,m=99.8,n=5e3,o=2,p=1e3;h=babelHelpers.inherits(q,c("React").Component);i=h&&h.prototype;function q(){var r,s;"use strict";for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=i.constructor).call.apply(r,[this].concat(u)),this.state={videoPostsMetadata:{},videoPosts:[],shouldRefreshAfterEncoding:false,shouldShowVideoEditButton:true,shouldShowVideoLibraryButton:this.props.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:this.props.shouldShowVideoLibraryNux,videoLibraryNuxImpression:0,videoLibraryNuxImpressionLogged:false},this.initializePosts=function(){var w=[],x={};for(var y=0;y<this.props.data.length;y++){if(!c("OptimisticVideoPostUtils").shouldShowOptimisticPost(this.props.data[y]))break;var z=babelHelpers["extends"]({},this.props.data[y],{shouldRender:false});z.progress=0;z.progressWithoutFake=0;var A=z.videoID;z.inactivityTimer=this.startInactivityTimer(A);w.push(A);x[A]=z}this.setState({videoPostsMetadata:x,videoPosts:w})}.bind(this),this.getChannelType=function(){return c("ChannelConstants").getArbiterType(k)},this.updateVideoData=function(w){var x={};x[w.videoID]=babelHelpers["extends"]({},w,{shouldRender:true,fakeProgressTimer:setInterval(function(){return this.fakeInitialProgress(w.videoID)}.bind(this),3e3),inactivityTimer:this.startInactivityTimer(w.videoID)});x[w.videoID].progress=0;x[w.videoID].progressWithoutFake=0;var y=babelHelpers["extends"]({},this.state.videoPostsMetadata,x),z=[w.videoID].concat(this.state.videoPosts);this.$OptimisticVideoPostList1=w.refreshTimeout;this.$OptimisticVideoPostList2=w.originalComposerID;this.$OptimisticVideoPostList3=w.progressCompleteText;this.setState({shouldRefreshAfterEncoding:!!w.shouldRefreshAfterEncoding,shouldShowVideoEditButton:w.shouldShowVideoEditButton!=null?w.shouldShowVideoEditButton:true,shouldShowVideoLibraryButton:w.shouldShowVideoLibraryButton!=null?w.shouldShowVideoLibraryButton:this.state.shouldShowVideoLibraryButton,videoPostsMetadata:y,videoPosts:z});this.logEvent(c("OptimisticVideoPostEvent").VIDEO_POST_ADDED,w.videoID)}.bind(this),this.onVideoPostSubmitted=function(w,x){if(!c("OptimisticVideoPostUtils").shouldShowOptimisticPost(x))return;if(!x.isToUserProfile){this.updateVideoData(x);return}var y=c("XVideoOptimisticPostingController").getURIBuilder().setInt("video_id",x.videoID).getURI();new(c("AsyncRequest"))().setURI(y).setHandler(function(z){this.updateVideoData(babelHelpers["extends"]({},z.payload,{videoFileUrl:x.videoFileURL}))}.bind(this)).send()}.bind(this),this.checkVideoStatus=function(w){c("OptimisticVideoPostUtils").checkVideoStatus(w,this.onEncodeFinish,this.onEncodeFinish,this.restartInactivityTimer)}.bind(this),this.startInactivityTimer=function(w){return setTimeout(function(){return this.checkVideoStatus(w)}.bind(this),n)}.bind(this),this.restartInactivityTimer=function(w){this.stopInactivityTimer(w);var x=babelHelpers["extends"]({},this.state.videoPostsMetadata),y=babelHelpers["extends"]({},x[w]);y.inactivityTimer=this.startInactivityTimer(w);x[w]=y;this.setState({videoPostsMetadata:x})}.bind(this),this.stopInactivityTimer=function(w){clearTimeout(this.state.videoPostsMetadata[w].inactivityTimer)}.bind(this),this.logEvent=function(event,w){c("OptimisticVideoPostLogger").logEvent(event,this.props.isPagePost?c("OptimisticVideoPostSource").PAGES_TIMELINE:c("OptimisticVideoPostSource").USERS_TIMELINE,this.state.videoPosts.length,this.props.targetID,w)}.bind(this),this.fakeInitialProgress=function(w){var x=this.state.videoPostsMetadata[w].progress;if(x>l){this.stopFakeInitialProgress(w);return}var y=babelHelpers["extends"]({},this.state.videoPostsMetadata),z=babelHelpers["extends"]({},y[w]);z.progress+=1;y[w]=z;this.setState({videoPostsMetadata:y});this.restartInactivityTimer(w)}.bind(this),this.stopFakeInitialProgress=function(w){if(!this.state.videoPostsMetadata[w].fakeProgressTimer)return;var x=babelHelpers["extends"]({},this.state.videoPostsMetadata);clearTimeout(x[w].fakeProgressTimer);var y=babelHelpers["extends"]({},x[w]);y.fakeProgressTimer=null;x[w]=y;this.setState({videoPostsMetadata:x})}.bind(this),this.onEncodeUpdate=function(w,x){var y=String(x.obj.videoID);if(!this.state.videoPostsMetadata[y])return;var z=babelHelpers["extends"]({},this.state.videoPostsMetadata),A=babelHelpers["extends"]({},z[y]),B={progress:A.progress,progressWithoutFake:A.progressWithoutFake};if(x.obj.cached_progress&&B.progress<x.obj.cached_progress){B.progress=x.obj.cached_progress;B.progressWithoutFake=x.obj.cached_progress}var C=this.getOptimizedProgress(B,x.obj.progress,x.obj.stage,x.obj.max_percent?x.obj.max_percent:0,x.obj.sve_report);if(C.progress!==-1){this.stopFakeInitialProgress(y);A.progress=C.progress;A.shouldRender=true}A.progressWithoutFake=C.progressWithoutFake;z[y]=A;this.setState({videoPostsMetadata:z});if(this.$OptimisticVideoPostList4(x.obj.stage))this.onEncodeFinish(y);else this.restartInactivityTimer(y)}.bind(this),this.$OptimisticVideoPostList4=function(w){return w==="finish"},this.onEncodeFinish=function(w){if(!this.state.videoPostsMetadata[w])return;this.stopInactivityTimer(w);var x=this.props.isPagePost?c("FBFeedLocations").PAGE_TIMELINE:c("FBFeedLocations").TIMELINE,y=c("XVideoGenerateStoryController").getURIBuilder().setInt("video_id",w).setEnum("feed_location",x).getURI();new(c("AsyncRequest"))().setURI(y).setData({video_id:w,feed_location:x}).setHandler(function(z){return this.handleRequest(z,w)}.bind(this)).send()}.bind(this),this.refreshWhenDone=function(w){var x=true,y=Date.now(),z=setInterval(function(){if(x){x=false;var A=c("XProfileVideoRefreshController").getURIBuilder().setFBID("video_id",w).getURI();new(c("AsyncRequest"))().setURI(A).setHandler(function(B){x=true;if(B.payload.profile_video_is_set){clearInterval(z);new(c("ProfileVideoWWWFrontendActionTypedLogger"))().setEvent("profile_video_set").setSessionID(this.$OptimisticVideoPostList2).log();c("ReloadPage").now()}else if(Date.now()-y>this.$OptimisticVideoPostList1)clearInterval(z)}.bind(this)).send()}}.bind(this),p)}.bind(this),this.removeOptimisticPost=function(w){var x=babelHelpers["extends"]({},this.state.videoPostsMetadata);delete x[w];var y=this.state.videoPosts;y=this.removeVideoID(y,w);this.setState({videoPostsMetadata:x,videoPosts:y});this.logEvent(c("OptimisticVideoPostEvent").VIDEO_POST_REMOVED,w)}.bind(this),this.removeVideoID=function(w,x){var y=w.indexOf(x);w.splice(y,1);return w},this.onVideoLibraryNuxShown=function(){var w=this.state.videoLibraryNuxImpression+1;this.setState({videoLibraryNuxImpression:w});if(w>=o)this.setState({shouldShowVideoLibraryNux:false})}.bind(this),this.onVideoLibraryNuxDismiss=function(){this.setState({shouldShowVideoLibraryNux:false});var w=c("XVideoLibraryNuxController").getURIBuilder().setEnum("action",c("VideoLibraryNuxAction").DISMISS).setEnum("nux_type",c("VideoLibraryNuxType").OPTIMISTIC_POST_NUX).getURI();new(c("AsyncRequest"))().setURI(w).send()}.bind(this),this.renderOptimisticPost=function(w,x){if(!w.shouldRender)return c("React").createElement("div",{key:w.videoID});var y;if(w.videoThumbnail)y=w.videoThumbnail;else if(j.createObjectURL&&w&&w.videoThumbnailBlob){y=j.createObjectURL(w.videoThumbnailBlob);this.setThumbnailURL(y,w.videoID)}else y="";return c("React").createElement(c("OptimisticVideoPost.react"),{username:w.userDisplayName,profilePicture:w.userProfilePictureURI,metadataTitle:w.videoTitle,metadataDescription:w.videoDescription,thumbnail:y,videoID:w.videoID,videoFileUrl:w.videoFileUrl,key:w.videoID,progress:w.progress,privacySetting:w.privacySetting,isPagePost:this.props.isPagePost,shouldShowVideoEditButton:this.state.shouldShowVideoEditButton,shouldShowVideoEditDialog:this.props.shouldShowVideoEditDialog,targetID:this.props.targetID,progressCompleteText:this.$OptimisticVideoPostList3,shouldShowVideoLibraryButton:this.state.shouldShowVideoLibraryButton,shouldShowVideoLibraryNux:x,onVideoLibraryNuxDismiss:this.onVideoLibraryNuxDismiss,onVideoLibraryNuxShown:this.onVideoLibraryNuxShown})}.bind(this),this.setThumbnailURL=function(w,x){var y=babelHelpers["extends"]({},this.state.videoPostsMetadata);y[x].videoThumbnail=w;this.setState({videoPostsMetadata:y})}.bind(this),s}q.prototype.componentDidUpdate=function(){"use strict";if(!this.state.videoLibraryNuxImpressionLogged&&this.state.videoPosts.length>0&&this.state.shouldShowVideoLibraryNux){var r=c("XVideoLibraryNuxController").getURIBuilder().setEnum("action",c("VideoLibraryNuxAction").IMPRESSION).setEnum("nux_type",c("VideoLibraryNuxType").OPTIMISTIC_POST_NUX).getURI();new(c("AsyncRequest"))().setURI(r).send();this.setState({videoLibraryNuxImpressionLogged:true})}};q.prototype.componentDidMount=function(){"use strict";var r=c("Arbiter").subscribe("videoUpload/complete",this.onVideoPostSubmitted),s=c("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);c("Run").onLeave(function(){return r.unsubscribe()});c("Run").onLeave(function(){return s.unsubscribe()});if(this.props.data.length>0)this.initializePosts()};q.prototype.getOptimizedProgress=function(r,s,t,u,v){"use strict";var w={progress:s,progressWithoutFake:r.progressWithoutFake};if(!v)return w;var x=r.progress+s;if(!(s>0)||u>0&&x>u){w.progress=-1;return w}x=Number(x.toFixed(1));if(t==="finish"||t==="notify")x=100;else if(x>=100)x=r.progress<100?r.progress:m;w.progress=x;w.progressWithoutFake=x;return w};q.prototype.handleRequest=function(r,s){"use strict";var t=r.payload;if(t)if(this.props.isPagePost){c("PagesComposer").renderStory(c("ReactDOM").findDOMNode(this),t);if(this.props.shouldShowVideoCaptionHeader)c("VideoPostGenerateCaptionHeader").renderHeader(c("ReactDOM").findDOMNode(this),s)}else c("TimelineComposer").renderCapsuleBasedStory(c("ReactDOM").findDOMNode(this),t);else this.logEvent(c("OptimisticVideoPostEvent").POST_REMOVED_WITHOUT_REPLACEMENT,s);if(this.state.shouldRefreshAfterEncoding)this.refreshWhenDone(s);else this.removeOptimisticPost(s)};q.prototype.render=function(){"use strict";var r=this.state.videoPostsMetadata,s=this.state.videoPosts.map(function(t,u){return this.renderOptimisticPost(r[t],u===0&&this.state.shouldShowVideoLibraryNux)}.bind(this));return c("React").createElement("ul",null,s)};f.exports=q}),null);
__d("OptimisticVideoPostController",["React","ReactDOM","CSS","OptimisticVideoPostList.react"],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l,m,n,o,p,q){this._postsContainer=j;c("ReactDOM").render(c("React").createElement(c("OptimisticVideoPostList.react"),{data:k,targetID:l,isPagePost:m,shouldShowVideoEditDialog:n,shouldShowVideoLibraryButton:o,shouldShowVideoLibraryNux:p,shouldShowVideoCaptionHeader:q}),this._postsContainer);c("CSS").show(this._postsContainer)}};f.exports=h}),null);
__d("FollowLink",["Arbiter","CSS","ge"],(function a(b,c,d,e,f,g){var h={subscribeEvents:function i(j,k,l){c("Arbiter").subscribe(["FollowUser","UnfollowUser"],function(event,m){if(m.profile_id!=j)return;var n=c("ge")(k),o=c("ge")(l),p=event=="FollowUser";n&&c("CSS").conditionShow(n,!p);o&&c("CSS").conditionShow(o,p)})}};f.exports=h}),null);
__d("GroupViewportDurationTracking",["csx","Arbiter","StreamViewportTracking","Banzai","ge","viewportTrackingBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;function k(n,o){var p=c("ge")("pagelet_group_mall");return c("StreamViewportTracking").getBehavior(n,p,o)}i=babelHelpers.inherits(l,c("StreamViewportTracking"));j=i&&i.prototype;l.prototype.init=function(n){j.init.call(this,n)};l.prototype.getAllStoriesFromCache=function(){return this.behavior.getAllStories()};l.prototype.getSessionID=function(){return null};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this)};l.prototype.sendDataToLog=function(n,o){if(this.useBanzai)c("Banzai").post("group_feed_tracking",o)};function l(){i.apply(this,arguments)}var m=c("viewportTrackingBuilder")(function(n){var o=new l(k(n,"._5pat"));o.init(n);return o});m.init=m.factory.bind(m);f.exports=m}),null);
__d("NotificationsSelector",["Parent","submitForm","AsyncRequest","Event"],(function a(b,c,d,e,f,g){function h(j,k,l){k.subscribe("change",function(m,n){l.value=n.value;var o=c("Parent").byTag(j,"form");o&&c("submitForm")(o)})}function i(j,k,l,m,n,o){k.subscribe("change",function(p,q){new(c("AsyncRequest"))().setURI("/ajax/groups/notifications/update.php").setData({setting:q.value,group_id:m}).setMethod("POST").send()});if(n)n.subscribe("hide",function(){if(o)new(c("AsyncRequest"))().setURI(o).setData({group_id:m}).setMethod("POST").send()});c("Event").listen(j,"click",function(){if(n&&n.isShown())n.hide()})}f.exports.bindForm=h;f.exports.updateNotif=i}),null);
__d("DoublyLinkedListMap",["idx"],(function a(b,c,d,e,f,g){function h(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0}h.prototype.get=function(i){var j;"use strict";var k=(j=this._nodes[i])!=null?j.data:j;return k?k:null};h.prototype.getIndex=function(i){"use strict";var j=this._head;for(var k=0;j;j=j.next,k++)if(j.key===i)return k;return null};h.prototype._insert=function(i,j,k,l){"use strict";if(k&&!this._nodes[k])k=null;var m=void 0;if(k&&this._nodes[k])m=this._nodes[k];else m=l?this._head:this._tail;var n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m}}if(n.prev===null)this._head=n;if(n.next===null)this._tail=n;this._nodes[i]=n;this._nodeCount++;return this};h.prototype.insertBefore=function(i,j,k){"use strict";return this._insert(i,j,k,true)};h.prototype.insertAfter=function(i,j,k){"use strict";return this._insert(i,j,k,false)};h.prototype.prepend=function(i,j){"use strict";return this.insertBefore(i,j,this._head&&this._head.key)};h.prototype.append=function(i,j){"use strict";return this.insertAfter(i,j,this._tail&&this._tail.key)};h.prototype.remove=function(i){"use strict";var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--}return this};h.prototype.find=function(i){"use strict";for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null};h.prototype.reduce=function(i,j){"use strict";for(var k=this._head;k;k=k.next)j=i(k.data,j);return j};h.prototype.exists=function(i){"use strict";return!!this._nodes[i]};h.prototype.isEmpty=function(){"use strict";return!this._head};h.prototype.reset=function(){"use strict";this._head=null;this._tail=null;this._nodes={};this._nodeCount=0};h.prototype.map=function(i){"use strict";for(var j=this._head;j;j=j.next)i(j.data)};h.prototype.getCount=function(){"use strict";return this._nodeCount};h.prototype.getHead=function(){var i;"use strict";return(i=this._head)!=null?i.data:i};h.prototype.getTail=function(){var i;"use strict";return(i=this._tail)!=null?i.data:i};h.prototype.getNext=function(i){var j;"use strict";return(j=this._nodes[i])!=null?(j=j.next)!=null?j.data:j:j};h.prototype.getPrev=function(i){var j;"use strict";return(j=this._nodes[i])!=null?(j=j.prev)!=null?j.data:j:j};f.exports=h}),null);
__d("Optimus",["Event","Parent"],(function a(b,c,d,e,f,g){"use strict";var h={};function i(k,l){var m=l.getTarget();if(!m)return;var n=h[k];for(var o in n){var p=c("Parent").byAttribute(m,o);if(p)do{var q=n[o][p.getAttribute(o)];if(q&&q.handleOptimus(k,p,l)===false)break}while(p=c("Parent").byAttribute(p.parentNode,o))}}function j(k,l,m,f){if(!h[k]){h[k]={};c("Event").listen(document.documentElement,k,i.bind(null,k))}if(!h[k][l])h[k][l]={};if(!h[k][l][m])h[k][l][m]=f}f.exports={addRelClick:function k(l,f){j("click","rel",l,f)},addEventListener:j}}),null);
__d("PopoverMenuDynamicIcon",["csx","Button","CSS","DOM","DOMQuery"],(function a(b,c,d,e,f,g,h){function i(j){"use strict";this._popoverMenu=j}i.prototype.enable=function(){"use strict";this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",this._onSetMenu.bind(this))};i.prototype.disable=function(){"use strict";this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeChangeSubscription()};i.prototype._onSetMenu=function(){"use strict";this._removeChangeSubscription();this._menu=this._popoverMenu.getMenu();this._changeSubscription=this._menu.subscribe("change",function(j,k){var l=k.item;if(k[0])l=k[0].item;if(!l)return;var m=l.getIcon();m=m?m.cloneNode(true):null;var n=this._popoverMenu.getTriggerElem(),o=c("DOMQuery").scry(n,"._-xe")[0];if(o&&o.firstChild){c("DOM").replace(o.firstChild,m);c("CSS").conditionClass(o,"hidden_elem",m==null);return}var p=c("DOMQuery").scry(n,"span._55pe")[0];if(p){var q=p.firstChild;if(!q||!c("CSS").hasClass(q,"img"))c("DOM").prependContent(p,m)}else c("Button").setIcon(n,m)}.bind(this))};i.prototype._removeChangeSubscription=function(){"use strict";if(this._changeSubscription){this._menu.unsubscribe(this._changeSubscription);this._changeSubscription=null}};Object.assign(i.prototype,{_setMenuSubscription:null,_changeSubscription:null});f.exports=i}),null);
__d("ProfileActionBarLogger",["FBJSON","MarauderLogger","Optimus"],(function a(b,c,d,e,f,g){function h(){c("Optimus").addEventListener("mouseup","data-loggable","ProfileHighQualityLogger",{handleOptimus:function i(j,k,l){c("MarauderLogger").log("profile_high_quality_action",null,c("FBJSON").parse(k.getAttribute("data-store")));return false}})}g.init=h}),null);
__d("ProfileOverviewSection",["CallbackDependencyManager","DOMScroll","DoublyLinkedListMap","TidyArbiterMixin","ge"],(function a(b,c,d,e,f,g){var h=null,i=new(c("CallbackDependencyManager"))(),j={};function k(l,m,n){"use strict";this.id=l;this.label=n;this.nodeID=m;this._isLoaded=false;this._parentSection=null;this.childSections=new(c("DoublyLinkedListMap"))();j[l]=this;setTimeout(function(){return i.satisfyPersistentDependency(l)},0)}k.prototype.reset=function(){"use strict";this.childSections.map(function(l){return l.reset()})};k.prototype.appendSection=function(l){"use strict";this.childSections.append(l.id,l);l._parentSection=this};k.prototype.freeze=function(){"use strict";this.freezeChildren()};k.prototype.freezeChildren=function(){"use strict";var l=this.childSections.getHead();while(l){!l.isActive()&&l.freeze();l=l.getNext()}};k.prototype.getParent=function(){"use strict";return this._parentSection};k.prototype.getChildren=function(){"use strict";return this.childSections};k.prototype.getNext=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getNext(this.id)};k.prototype.getPrev=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getPrev(this.id)};k.prototype.isActive=function(){"use strict";var l=this;while(l){if(l.id===h)return true;l=l._parentSection}return false};k.prototype.isLoaded=function(){"use strict";return this._isLoaded};k.prototype.setIsLoaded=function(l){"use strict";this._isLoaded=l;return this};k.prototype.scrollTo=function(){"use strict";if(!c("ge")(this.nodeID))return;c("DOMScroll").scrollTo(this.getNode(),true,false,false,0,c("DOMScroll").scrollTo.bind(this).bind(null,this.getNode(),0))};k.prototype.thaw=function(){"use strict";this.thawChildren()};k.prototype.thawChildren=function(){"use strict";var l=this.childSections.getHead();while(l){l.thaw();l=l.getNext()}};k.prototype.getNode=function(){"use strict";throw new Error("This function needs to be implemented in children.")};k.callWithSection=function(l,m){"use strict";i.registerCallback(function(){m(j[l])},[l])};k.setActiveSectionID=function(l){"use strict";h=l};k.resetGlobalState=function(){"use strict";h=null;i=new(c("CallbackDependencyManager"))();j={}};Object.assign(k,c("TidyArbiterMixin"));f.exports=k}),null);
__d("ProfileEscapeHatch",["CSS","ProfileTabUtils","Run","TimelineComponentKeys","TimelineController"],(function a(b,c,d,e,f,g){var h=[],i=false;function j(k){"use strict";this.$ProfileEscapeHatch1=k;h.push(this);if(!i){c("TimelineController").register(c("TimelineComponentKeys").ESCAPE_HATCH,j);c("Run").onLeave(function(){h=[]});i=true}}j.handleTabChange=function(k){"use strict";h.forEach(function(l){c("CSS").conditionShow(l.$ProfileEscapeHatch1,c("CSS").shown(l.$ProfileEscapeHatch1)||c("ProfileTabUtils").isTimelineTab(k))})};f.exports=j}),null);
__d("TimelineDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",FIG_COMPOSER:"profile_fig_composer",FIG_TIMELINE:"profile_fig_timeline",FIG_ESCAPE_HATCH:"profile_fig_escape_hatch",FIG_INFO_REVIEW:"profile_fig_info_review",FIG_INTRO_CARD:"profile_fig_intro_card",FIG_PROTILES:"profile_fig_protiles",FIG_ADS:"profile_fig_ads",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",PREFIX_FIG_PROTILES:"profile_fig_protiles_",SUFFIX_MORE_PAGER:"_more_pager"})}),null);
__d("TimelineURI",["BizSiteIdentifier.brands","BusinessURI.brands","ProfileTabConst","TimelineAppSectionConstants","URI","goURI"],(function a(b,c,d,e,f,g){var h={parseURI:function i(j){j=new(c("URI"))(j);var k=j.getQueryData(),l=j.getPath(),m=l.split("/").slice(1);if(m[0]=="people"||m[0]=="pages")m=m.slice(2);var n=k.sk||m[1]||c("ProfileTabConst").TIMELINE;if(n==c("ProfileTabConst").WALL)n=c("ProfileTabConst").TIMELINE;var o=null,p=null;if(n==c("ProfileTabConst").TIMELINE){p=parseInt(m[2],10)||null;o=parseInt(m[3],10)||null}return{path:l,id:k.id||m[0],key:n,viewas:k.viewas?k.viewas:"0",filter:k.filter?k.filter:null,year:p,month:o,friendship:!!k.and}},goToProfileID:function i(j){if(c("BizSiteIdentifier.brands").isBizSite())c("goURI")(c("BusinessURI.brands")("/profile.php").addQueryData("id",j),true);else c("goURI")(new(c("URI"))("/"+j),true)},getTabKeyFromURI:function i(j){var k=h.getSectionKeyFromURI(j);return c("TimelineAppSectionConstants").collectionTabKeyToAppTabKey[k]||k},getSectionKeyFromURI:function i(j){return j.getQueryData().sk||j.getPath().split("/")[2]||c("ProfileTabConst").TIMELINE},getVanityFromURI:function i(j){var k=j.getQueryData().id;return k||j.getPath().split("/")[1]},isVideoPermalink:function i(j){return h.getTabKeyFromURI(j)===c("ProfileTabConst").VIDEOS&&j.getPath().split("/").filter(function(k){return!!k}).length>2}};f.exports=h}),null);
__d("ProfileNavigation",["Arbiter","CSS","PageTransitions","ProfileDOMID","ProfileOverviewDOMID","ProfileTabConst","ProfileTabUtils","ScriptPath","TimelineComponentKeys","TimelineController","TimelineDOMID","TimelineURI","UIPagelet","URI","$","ge"],(function a(b,c,d,e,f,g){var h=7,i="/profile_book.php",j=null,k=null;function l(w){var x=c("URI").getMostRecentURI(),y=c("TimelineURI").getSectionKeyFromURI(x),z=c("TimelineURI").getTabKeyFromURI(x),A=c("TimelineURI").getSectionKeyFromURI(w),B=c("TimelineURI").getTabKeyFromURI(w),C=w.getQueryData();if(s(x,w)||t(B)||t(z)||!!C.and||c("TimelineURI").isVideoPermalink(w))return false;if(C.hc_location==="profile_browser")return false;if(Object.prototype.hasOwnProperty.call(C,"theater")){c("Arbiter").subscribeOnce("PhotoSnowlift.CLOSE",u);return false}if(Object.prototype.hasOwnProperty.call(C,"force-refresh"))return false;if(c("ProfileTabUtils").isTimelineTab(z)&&!c("ProfileTabUtils").isTimelineTab(B)&&r(A)){j=A;m(A,"TimelineMedleyView",c("TimelineDOMID").TAB_CONTENT,c("ProfileOverviewDOMID").MEDLEY_ROOT,C);return true}if(!c("ProfileTabUtils").isTimelineTab(z)&&c("ProfileTabUtils").isTimelineTab(B)){j=y;m(c("ProfileTabConst").TIMELINE,"TimelineWallColumn",c("ProfileOverviewDOMID").MEDLEY_ROOT,c("TimelineDOMID").TAB_CONTENT,C);return true}return false}function m(w,x,y,z,A){c("CSS").hide(c("$")(y));c("Arbiter").inform("save_facebar_query",true);var B=c("ge")(z);if(B){c("CSS").show(B);q(w)}else n(x,w,A);c("TimelineController").registerCurrentKey(w)}function n(w,x,y){o();var z=babelHelpers["extends"]({},k,{tab_key:x});if(y)z=babelHelpers["extends"]({},z,y);var A=function A(C){p();C()},B={append:true,displayCallback:A,finallyHandler:q.bind(null,x),usePipe:true};c("UIPagelet").loadFromEndpoint(w,c("ProfileDOMID").MAIN_COLUMN_PERSONAL,z,B)}function o(){c("CSS").show(c("$")(c("ProfileDOMID").TAB_LOAD_INDICATOR))}function p(){c("CSS").hide(c("$")(c("ProfileDOMID").TAB_LOAD_INDICATOR))}function q(w){var x=i;if(w&&!c("ProfileTabUtils").isTimelineTab(w))x+=":"+w;c("ScriptPath").set(x);c("PageTransitions").transitionComplete()}function r(w){return j===null||w===j}function s(w,x){var y=c("TimelineURI").getVanityFromURI(w),z=w.getQueryData().id,A=c("TimelineURI").getVanityFromURI(x),B=x.getQueryData().id;if(y&&A)return y!==A;if(z&&B)return z!==B;return true}function t(w){return c("ProfileTabUtils").isActivityLogTab(w)||w===c("ProfileTabConst").MEMORIAL_CONTACT||w===c("ProfileTabConst").POSTS}function u(){c("PageTransitions").registerHandler(l,h)}var v={init:function w(x){k=x.profileContextData;c("TimelineController").register(c("TimelineComponentKeys").ASYNC_NAV,this);u()},reset:function w(){k=null;j=null;c("PageTransitions").removeHandler(l)}};f.exports=v}),null);
__d("TimelineContextItemLogger",["cx","BanzaiLogger","Event","FBJSON","Parent","Run","tidyEvent"],(function a(b,c,d,e,f,g,h){var i="MTimelineXContextItemsLoggerConfig",j="impression",k="click",l="context_item_url",m="event",n="_md0",o=[];function p(r,s,t){var u=c("FBJSON").parse(r.getAttribute("data-store"));u[m]=s;if(t)u[l]=t;c("BanzaiLogger").log(i,u)}var q={logWhenVisible:function r(s){if(!o.length)c("Run").onLeave(function(){o=[]});o.push(s)},logWhenClicked:function r(s){c("tidyEvent")(c("Event").listen(s,"click",function(t){var u=t.getTarget();if(u.nodeName!=="A")return;var v=c("Parent").byClass(u,n);v&&p(v,k,u.href)}))},listenToExpand:function r(s){c("tidyEvent")(s.addListener("expanded",function(){while(o.length)p(o.pop(),j)}))}};f.exports=q}),null);
__d("TimelineDrag",["ArbiterMixin","Event","Locale","Style","Vector","mixin"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);m=m||{};this._listenOn=m.listenOn;this._offsetInput=l;this._defaultOffset=m.default_offset;this._killClicks=m.killClicks;this._vertical=true;this._RTLXSwitch=false;this.setPicture(k,m)}j.prototype.setPicture=function(k,l){"use strict";if(!k)return false;l=l||{};this._picture=k;this._defaultOffset=l.default_offset;if(l.offsetInput)this._offsetInput=l.offsetInput;if(l.vertical!==undefined)this._vertical=l.vertical;if(l.height)this._containerHeight=l.height;if(l.width)this._containerWidth=l.width;if(this._vertical){this._offsetType="top";this._eventCoord="y"}else{this._RTLXSwitch=c("Locale").isRTL();this._offsetType="left";this._eventCoord="x"}if(this._picture.complete)this._initialLoad();else this._loadListener=c("Event").listen(this._picture,"load",function(){this._loadListener.remove();this._loadListener=null;this._initialLoad()}.bind(this))};j.prototype.destroy=function(){"use strict";this._stopDrag();this._saveOffset();this._mousedown&&this._mousedown.remove();this._mousedown=null;this._onclick&&this._onclick.remove();this._onclick=null;this._loadListener&&this._loadListener.remove();this._loadListener=null};j.prototype._initialLoad=function(){"use strict";var k=this._listenOn?this._listenOn:this._picture;this._mousedown&&this._mousedown.remove();this._mousedown=c("Event").listen(k,"mousedown",this._onMouseDown.bind(this));if(this._vertical)this._maxOffset=this._containerHeight-this._picture.offsetHeight;else this._maxOffset=this._containerWidth-this._picture.offsetWidth;if(this._defaultOffset!==undefined)this._setOffset(this._defaultOffset);this._onclick&&this._onclick.remove();this._onclick=null;if(this._killClicks)this._onclick=c("Event").listen(k,"click",this._onClick.bind(this));this._saveOffset()};j.prototype._onClick=function(event){"use strict";event.kill()};j.prototype._onMouseDown=function(event){"use strict";var k=parseInt(c("Style").get(this._picture,this._offsetType),10)||0;this._pictureStartDragOffset=k-c("Vector").getEventPosition(event)[this._eventCoord];this._startDrag();event.kill()};j.prototype._startDrag=function(){"use strict";if(!this._dragStarted){this.inform("startdrag",this);this._dragTokens=[c("Event").listen(document.documentElement,"mouseup",this._onMouseUp.bind(this)),c("Event").listen(document.documentElement,"mousemove",this._onMouseMove.bind(this))];this._dragStarted=true}};j.prototype._saveOffset=function(){"use strict";var k=parseInt(c("Style").get(this._picture,this._offsetType),10);if(this._RTLXSwitch)this._offsetInput.value=k+this._containerWidth-this._picture.offsetWidth;else this._offsetInput.value=k};j.prototype._stopDrag=function(){"use strict";if(this._dragStarted){this.inform("stopdrag",this);this._dragStarted=false;this._dragTokens.forEach(function(k){k.remove()});this._saveOffset()}};j.prototype._onMouseUp=function(event){"use strict";this._stopDrag();event.kill()};j.prototype._setOffset=function(k){"use strict";if(this._RTLXSwitch)k=Math.max(0,Math.min(k,-this._maxOffset));else k=Math.min(0,Math.max(k,this._maxOffset));c("Style").set(this._picture,this._offsetType,k+"px")};j.prototype._onMouseMove=function(event){"use strict";this._setOffset(this._pictureStartDragOffset+c("Vector").getEventPosition(event)[this._eventCoord]);event.kill()};f.exports=j}),null);
__d("TimelineCover",["cx","fbt","Arbiter","Button","CSS","Dialog","DOM","DOMScroll","Event","FileInputUploader","Focus","HTML","PageTransitions","Parent","ReloadPage","Run","Style","TimelineDrag","$","ge","setImmediate","tidyEvent"],(function a(b,c,d,e,f,g,h,i){function j(k,l,m){"use strict";this.root=c("$")("fbProfileCover");if(typeof l==="object"){this._coverHeight=l.cover_height;this._coverWidth=l.cover_width;this.previewing=l.previewing;this._isLegacy=false}else{this._isLegacy=true;this._coverHeight=l;this.previewing=m}this._parentSection=c("Parent").byClass(this.root,"fbTimelineSection");this.cover=c("DOM").find(this.root,".cover");j.instance=this;this.editing=false;c("Run").onBeforeUnload(this.onBeforeUnload.bind(this));if(!this._parentSection)this._parentSection=c("Parent").byClass(this.root,"fbEventHeader");if(this.previewing)c("setImmediate")(function(){this.editMode();this.updateCoverImage(this.previewing)}.bind(this))}j.prototype.showLoadingIndicator=function(){"use strict";var k=c("ge")("fbCoverImageContainer");if(k)c("CSS").addClass(k,"opaquedLoading")};j.prototype.hideLoadingIndicator=function(){"use strict";var k=c("ge")("fbCoverImageContainer");if(k)c("CSS").removeClass(k,"opaquedLoading")};j.prototype.onBeforeUnload=function(){"use strict";if(this.isInEditMode())return i._("If you leave this page, your cover photo will not be saved. To save, press the \"save\" button below your cover photo.")};j.prototype.isCoverImageVerticalFlow=function(k){"use strict";return!k.style.height};j.prototype.editMode=function(){"use strict";var k=c("DOM").find(this.root,"button.saveButton");c("Button").setEnabled(c("DOM").find(this.root,"button.cancelButton"),true);c("Button").setEnabled(k,true);this.hideLoadingIndicator();this._coverImage=c("DOM").scry(this.root,".coverImage")[0];if(this._coverImage){var l=c("DOM").scry(this._coverImage,".coverWrap")[0];if(l){var m=c("DOM").find(l,".coverPhotoImg");this._originalIsVertical=this.isCoverImageVerticalFlow(m);this._originalOffset=c("Style").get(m,this._originalIsVertical?"top":"left")}}c("CSS").addClass(this._parentSection,"fbEditCover");c("DOMScroll").scrollTo(this.root);if(this.previewing){c("DOM").remove(this._coverImage);c("CSS").show(this._coverImage)}if(this._coverImage){var n=c("DOM").scry(this._coverImage,".coverPhotoImg")[0];if(n)this._createDragger()}this.editing=true;c("Focus").set(k);c("Arbiter").inform("CoverPhotoEdit",{sender:this,state:"open"})};j.prototype._exitEditMode=function(){"use strict";if(this._timelineDrag){this._timelineDrag.destroy();this._timelineDrag=null}c("DOM").find(this.root,"input.hiddenPhotoID").value=null;c("Button").setEnabled(c("DOM").find(this.root,"button.cancelButton"),false);c("Button").setEnabled(c("DOM").find(this.root,"button.saveButton"),false);c("CSS").removeClass(this._parentSection,"fbEditCover");this.hideLoadingIndicator();this.previewing=false;c("Arbiter").inform("CoverPhotoEdit",{sender:this,state:"closed"});this.editing=false};j.prototype._createDragger=function(k){"use strict";var l=void 0,m=void 0;if(this._isLegacy){l=c("DOM").find(this.root,"input.photoOffsetInput");this._originalIsVertical=true}else{m=k===undefined?this._originalIsVertical:k;l=m?c("DOM").find(this.root,"input.photoOffsetYInput"):c("DOM").find(this.root,"input.photoOffsetXInput")}this._timelineDrag=new(c("TimelineDrag"))(c("DOM").find(this.root,".coverImage .coverPhotoImg"),l,{height:this._coverHeight,width:this._coverWidth,listenOn:this.cover,vertical:m,killClicks:true})};j.prototype.updateCoverImage=function(k,l){"use strict";if(l)this.editMode();c("DOM").find(this.root,"input.hiddenPhotoID").value=k;c("Button").setEnabled(c("DOM").find(this.root,"button.saveButton"),true);if(l)c("DOM").replace(c("DOM").find(this.root,".coverImage"),typeof l==="string"?c("HTML")(l):l);var m=c("DOM").find(c("DOM").find(this.root,".coverImage"),".coverPhotoImg"),n=this.isCoverImageVerticalFlow(m),o=void 0;if(this._isLegacy)o=c("DOM").find(this.root,"input.photoOffsetInput");else o=n?c("DOM").find(this.root,"input.photoOffsetYInput"):c("DOM").find(this.root,"input.photoOffsetXInput");if(this._timelineDrag)this._timelineDrag.setPicture(m,{offsetInput:o,vertical:n});else this._createDragger(n);this._updateHeader()};j.prototype.cancelUpdate=function(){"use strict";this._reloadAfterNextUpdate=false;c("DOM").remove(c("DOM").scry(this.root,".coverImage")[0]);c("DOM").prependContent(this.cover,this._coverImage);if(this._originalOffset!==undefined)c("Style").set(c("DOM").find(this._coverImage,".coverPhotoImg"),this._originalIsVertical?"top":"left",this._originalOffset);this._exitEditMode();this._updateHeader()};j.staticSaveComplete=function(){"use strict";j.getInstance().saveComplete()};j.prototype.saveComplete=function(){"use strict";if(this._reloadAfterNextUpdate)c("ReloadPage").now();this._coverImage=c("DOM").scry(this.root,".coverImage")[0];var k=c("DOM").scry(this.root,"._3x7_")[0];if(k)c("CSS").removeClass(k,"_3x7_");this._exitEditMode();this._updateHeader();c("PageTransitions").rewriteCurrentURI(c("PageTransitions").getCurrentURI().getUnqualifiedURI(),c("PageTransitions").getCurrentURI().removeQueryData("preview_cover"))};j.prototype.isInEditMode=function(){"use strict";return this.editing};j.prototype._updateHeader=function(){"use strict";var k=c("DOM").scry(this.root,".coverImage")[0];if(!k)return;var l=c("CSS").hasClass(k,"coverNoImage"),m=c("CSS").hasClass(this._parentSection,"noCoverImage");if(l!==m)c("CSS").conditionClass(this._parentSection,"noCoverImage",l)};j.getInstance=function(){"use strict";return j.instance};j.staticUpdateCoverImage=function(k){"use strict";j.getInstance().updateCoverImage(null,k)};j.prototype.setupFileUpload=function(k,l,m){"use strict";k.subscribe("change",function(){var n=new(c("FileInputUploader"))(k.getInput()).setURI(l).setAllowCrossOrigin(true);n.subscribe("failure",function(){j.showErrorDialog(i._("Cover Upload Failed"),i._("Uploading the new cover picture failed. Please try again."))});n.subscribe(["success","failure"],function(){this.hideLoadingIndicator();k.clear();c("CSS").removeClass(k.getControl(),m);k.getInput().disabled=false}.bind(this));this.showLoadingIndicator();this._reloadAfterNextUpdate=true;n.send();c("CSS").addClass(k.getControl(),m);k.getInput().disabled=true}.bind(this))};j.setupFileUpload=function(k,l,m){"use strict";this.getInstance().setupFileUpload(k,l,m)};j.imageUploadDone=function(k,l){"use strict";this.getInstance().updateCoverImage(k,l)};j.showErrorDialog=function(k,l){"use strict";new(c("Dialog"))().setTitle(k).setButtons(c("Dialog").OK).setBody(l).setSemiModal(true).show();this.getInstance()&&this.getInstance().hideLoadingIndicator()};j.initFileUploadMenu=function(k){"use strict";j.showLoadingAfterFileUpload(k.getForm())};j.showLoadingAfterFileUpload=function(k){"use strict";c("tidyEvent")(k.subscribe("submit",function(){j.getInstance().showLoadingIndicator()}))};j.instance=null;f.exports=j}),null);
__d("legacy:TimelineCover",["TimelineCover"],(function a(b,c,d,e,f,g){b.TimelineCover=c("TimelineCover")}),3);
__d("TimelineNavLight",["csx","cx","invariant","Arbiter","CSS","DataStore","DOM","DOMQuery","Event","Parent","ProfileOverviewDOMID","ProfileOverviewSection","ProfileTabConst","ProfileTimelineUILogger","TimelineAppSectionConstants","TimelineComponentKeys","TimelineController","destroyOnUnload","queryThenMutateDOM","requireWeak"],(function a(b,c,d,e,f,g,h,i,j){var k="_6-7",l="_6-6",m="_529n",n="_5215",o="_9rw",p="_70k",q="._6-7",r="._6-6";function s(t){"use strict";!s.$TimelineNavLight1||j(0);this.$TimelineNavLight2=t;this.$TimelineNavLight3=c("DOMQuery").scry(t,q)[0];this.$TimelineNavLight4=c("DOMQuery").scry(t,r);this.$TimelineNavLight5();c("ProfileOverviewSection").subscribe("Medley/transitionToSection",function(v,w){this.$TimelineNavLight6(w.slice(c("ProfileOverviewDOMID").PREFIX_MEDLEY.length))}.bind(this));c("TimelineController").register(c("TimelineComponentKeys").COVER_NAV,this);var u=c("Event").listen(this.$TimelineNavLight2,"click",this.$TimelineNavLight7.bind(this));s.$TimelineNavLight1=this;c("destroyOnUnload")(function(){this.$TimelineNavLight2=null;this.$TimelineNavLight3=null;this.$TimelineNavLight4=null;u.remove();if(this.$TimelineNavLight8)this.$TimelineNavLight8.remove();s.$TimelineNavLight1=null}.bind(this))}s.prototype.handleTabChange=function(t){"use strict";this.$TimelineNavLight6(t)};s.prototype.setMoreMenuInstance=function(t){"use strict";this.$TimelineNavLight8=c("Event").listen(t.getRoot(),"click",this.$TimelineNavLight9.bind(this))};s.setMoreMenuInstance=function(t){"use strict";!!s.$TimelineNavLight1||j(0);s.$TimelineNavLight1.setMoreMenuInstance(t)};s.prototype.$TimelineNavLight6=function(t){"use strict";this.$TimelineNavLight3&&c("CSS").removeClass(this.$TimelineNavLight3,k);this.$TimelineNavLight4.some(function(u){var v=c("TimelineAppSectionConstants").collectionTabKeyToAppTabKey[t]||t;if(c("DataStore").get(u,"tab-key")===v){c("CSS").addClass(u,k);this.$TimelineNavLight3=u;return true}}.bind(this));if(t===c("ProfileTabConst").TIMELINE)c("requireWeak")("ScrollColumn.react",function(u){c("Arbiter").inform(u.EVENT_SHOULD_ADJUST)})};s.prototype.$TimelineNavLight5=function(){"use strict";var t=this.$TimelineNavLight4.length-1,u=this.$TimelineNavLight4[t],v=void 0,w=void 0,x=void 0,y=0;c("queryThenMutateDOM")(function(){v=c("Parent").byClass(this.$TimelineNavLight2,p).offsetWidth;w=u.offsetLeft;x=u.offsetWidth;for(var z=t;z>1;z--){var A=this.$TimelineNavLight4[z];if(A.offsetLeft+A.offsetWidth>v)y++;else break}}.bind(this),function(){if(w+x>v)c("CSS").addClass(this.$TimelineNavLight2,n);for(var z=t;z>t-y;z--)c("DOM").remove(this.$TimelineNavLight4[z]);c("CSS").removeClass(c("Parent").byClass(this.$TimelineNavLight2,m),m)}.bind(this))};s.prototype.$TimelineNavLight10=function(t,u){"use strict";var v=c("Parent").byClass(t,u);if(v)return c("DataStore").get(v,"tab-key");return null};s.prototype.$TimelineNavLight7=function(event){"use strict";var t=this.$TimelineNavLight10(event.target,l);if(t)c("ProfileTimelineUILogger").logCoverNavItemClick(t)};s.prototype.$TimelineNavLight9=function(event){"use strict";var t=this.$TimelineNavLight10(event.target,o);if(t)c("ProfileTimelineUILogger").logCoverNavMoreItemClick(t)};f.exports=s}),null);
__d("VideoCallHelpler",["FBRTCCallabilityStore","FBRTCCore","TooltipData"],(function a(b,c,d,e,f,g){"use strict";function h(j,k){var l=k.calleeID,m=k.calleeName;j.forEachItem(function(n){if(n.getValue&&n.getValue()==="video_call"){if(c("FBRTCCallabilityStore").isCallable(k.calleeID))n.enable();else n.disable();c("TooltipData").set(n.getRoot(),c("FBRTCCallabilityStore").callButtonTooltip(l,m),"right")}})}var i={bindProfileVideoCallAction:function j(k,l){h(k,l);c("FBRTCCallabilityStore").addListener(function(){h(k,l)});k.subscribe("itemclick",function(m,n){if(n.item.getValue()==="video_call"&&!n.item.isDisabled())c("FBRTCCore").startOutgoingCall(l.calleeID,"timeline_profile",false)})}};f.exports=i}),null);
__d("TimelineSection",["Arbiter","CSS","DOM","Parent","ScrollingPager","TimelineConstants","TimelineLegacySections","TimelineScrubberKey","UIPagelet"],(function a(b,c,d,e,f,g){function h(i,j,k,l,m){"use strict";this.$TimelineSection1=i;this.$TimelineSection2=l;this.$TimelineSection3=j;this.$TimelineSection4=null;this.$TimelineSection5=null;this.$TimelineSection6=true;this.$TimelineSection7=true;this.$TimelineSection8=j!==c("TimelineScrubberKey").RECENT_ACTIVITY;this.$TimelineSection9=m;this.$TimelineSection10=k;this.$TimelineSection11={};this.$TimelineSection12=false;this.$TimelineSection13=[];this.$TimelineSection14=false}h.prototype.load=function(i,j){"use strict";if(this.$TimelineSection2){this.activateContentScrollLoad();return}var k=this.$TimelineSection10;c("Arbiter").inform(c("TimelineConstants").SECTION_LOADING,{data:k,scrubberKey:this.$TimelineSection3});this.$TimelineSection2=true;c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded");c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodSuppressed");var l=c("TimelineLegacySections").shouldForceNoFriendActivity();k=babelHelpers["extends"]({},k,{highlight_unit_data:i,parent_key:this.$TimelineSection4,force_no_friend_activity:l});c("CSS").addClass(this.$TimelineSection1,"fbTimelineSectionLoading");this.$TimelineSection6=false;this.activateContentScrollLoad();if(j){this.$TimelineSection1.style.minHeight=window.innerHeight+"px";c("Arbiter").subscribeOnce(c("TimelineConstants").SECTION_FULLY_LOADED,function(m,k){if(k.scrubberKey===this.$TimelineSection3){this.$TimelineSection1.style.minHeight="";c("TimelineLegacySections").destroyOnVisible(this.$TimelineSection3)}}.bind(this))}c("TimelineLegacySections").addLoadPagelet(this.$TimelineSection3,c("UIPagelet").loadFromEndpoint("ProfileTimelineSectionPagelet",this.$TimelineSection1.id,k,{usePipe:true,jsNonblock:true,constHeight:true,append:false}));c("TimelineLegacySections").collapsePlaceHolderHeaders()};h.prototype.preload=function(){"use strict";c("CSS").addClass(this.$TimelineSection1,"fbTimelineTimePeriodSuppressed");c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded");var i=c("DOM").find(this.$TimelineSection1,"span.sectionLabel");if(i.getAttribute("data-original-label")){c("DOM").setContent(i,i.getAttribute("data-original-label"));i.removeAttribute("data-original-label")}};h.prototype.unload=function(){"use strict";if(!this.$TimelineSection2||!this.$TimelineSection8)return;this.$TimelineSection2=false;c("TimelineLegacySections").cancelLoadPagelet(this.$TimelineSection3);c("CSS").addClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded");c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodSuppressed");if(this.$TimelineSection1.nextSibling instanceof Element&&c("CSS").hasClass(this.$TimelineSection1.nextSibling,"fbTimelineSection")){c("DOM").setContent(this.$TimelineSection1,this.$TimelineSection1.nextSibling);if(this.$TimelineSection1.firstChild instanceof Element)c("CSS").show(this.$TimelineSection1.firstChild)}else c("DOM").empty(this.$TimelineSection1);this.deactivateScrollLoad()};h.prototype.canScrollLoad=function(){"use strict";return this.$TimelineSection6};h.prototype.activateScrollLoad=function(){"use strict";this.$TimelineSection6=true;c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodSuppressed");c("CSS").addClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded");var i=c("TimelineLegacySections").getOnVisible(this.$TimelineSection3);if(i)i.reset();return this};h.prototype.deactivateScrollLoad=function(){"use strict";if(!this.$TimelineSection2){this.$TimelineSection6=false;c("CSS").removeClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded");c("CSS").addClass(this.$TimelineSection1,"fbTimelineTimePeriodSuppressed");var i=c("TimelineLegacySections").getOnVisible(this.$TimelineSection3);if(i)i.remove()}c("DOM").scry(this.$TimelineSection1,".fbTimelineSectionExpandPager").forEach(function(j){var k=c("ScrollingPager").getInstance(j.id);k&&k.removeOnVisible();var l=c("Parent").byClass(j,"stat_elem");if(l)c("CSS").removeClass(l,"async_saving")});return this};h.prototype.canContentScrollLoad=function(){"use strict";return this.$TimelineSection7};h.prototype.activateContentScrollLoad=function(){"use strict";this.$TimelineSection7=true;return this};h.prototype.deactivateContentScrollLoad=function(){"use strict";this.$TimelineSection7=false;return this};h.prototype.getNode=function(){"use strict";return this.$TimelineSection1};h.prototype.getScrubberKey=function(){"use strict";return this.$TimelineSection3};h.prototype.getParentKey=function(){"use strict";return this.$TimelineSection4};h.prototype.setParentKey=function(i){"use strict";this.$TimelineSection4=i;return this};h.prototype.addSubSection=function(i,j){"use strict";if(!Array.isArray(this.$TimelineSection5))this.$TimelineSection5=[];if(Array.isArray(this.$TimelineSection5))this.$TimelineSection5[i]=j;return this};h.prototype.getSubSections=function(){"use strict";return this.$TimelineSection5};h.prototype.isLoaded=function(){"use strict";return this.$TimelineSection2};h.prototype.isRightColumnFinished=function(){"use strict";return this.$TimelineSection12};h.prototype.setRightColumnFinished=function(){"use strict";this.$TimelineSection12=true;return this};h.prototype.getHistoricUnitCount=function(){"use strict";return this.$TimelineSection9};h.prototype.expand=function(i){"use strict";if(!this.$TimelineSection2)return this;var j=c("DOM").find(this.$TimelineSection1,".fbTimelineSectionExpander");c("CSS").addClass(j.firstChild,"async_saving");i&&c("CSS").addClass(i,"async_saving");c("Arbiter").inform(c("TimelineConstants").SECTION_EXPAND,this.$TimelineSection3);c("DOM").scry(this.$TimelineSection1,".fbTimelineCapsule").forEach(c("DOM").remove);this.$TimelineSection11.new_expand=true;c("TimelineLegacySections").cancelLoadPagelet(this.$TimelineSection3);c("TimelineLegacySections").addLoadPagelet(this.$TimelineSection3,c("UIPagelet").loadFromEndpoint("ProfileTimelineSectionPagelet",j.id,this.$TimelineSection11,{usePipe:true,jsNonblock:true,constHeight:true}));return this};h.prototype.isPermalinkPeriod=function(){"use strict";return!!this.$TimelineSection10.is_permalink_period};h.prototype.isHidden=function(){"use strict";return this.$TimelineSection14};h.prototype.hide=function(){"use strict";this.$TimelineSection14=true;c("CSS").hide(c("DOM").find(this.$TimelineSection1,".fbTimelineSection"));return this};h.prototype.isHiddenFromView=function(){"use strict";return!this.$TimelineSection2||this.$TimelineSection14||c("CSS").hasClass(this.$TimelineSection1,"fbTimelineTimePeriodUnexpanded")};h.prototype.hasPendingCallbacks=function(){"use strict";return this.$TimelineSection13.length>0};h.prototype.queueDisplayCallback=function(i,j){"use strict";this.$TimelineSection13[i]=j;return this};h.prototype.runPendingDisplayCallbacks=function(){"use strict";while(this.hasPendingCallbacks()){var i=this.$TimelineSection13.shift();if(i)i()}return this};f.exports=h}),null);
__d("TimelineSmartInsert",["Run","UserAgent_DEPRECATED","Vector"],(function a(b,c,d,e,f,g){var h=100;function i(o){if(o==="viewport")return c("Vector").getViewportDimensions().y;return o}var j=false,k=false;function l(){if(k)return;c("Run").onLeave(m);k=true}function m(){j=false;k=false}var n={run:function o(p,q,r){l();if(!j||c("UserAgent_DEPRECATED").ie()<=8){q();return}var s=p.offsetHeight;q();var t=p.offsetHeight,u=c("Vector").getScrollPosition().y,v=c("Vector").getElementPosition(p).y;if(t!==s&&v<u&&v+s<u+i(r||h))window.scrollBy(0,t-s)},enable:function o(){j=true}};f.exports=n}),null);
__d("TimelineContentLoader",["csx","$","Arbiter","CSS","DOM","DOMScroll","Event","OnVisible","Parent","ScrollingPager","TimelineComponentKeys","TimelineConstants","TimelineController","TimelineDOMID","TimelineLegacySections","TimelineScrubberKey","TimelineSection","TimelineSmartInsert","Vector","debounce","ge","queryThenMutateDOM","setImmediate"],(function a(b,c,d,e,f,g,h){var i=false,j=null,k={},l={},m=[],n={},o=null,p=null,q=80,r=250,s=500;function t(){if(i)return;c("TimelineController").register(c("TimelineComponentKeys").CONTENT,z);p=c("Arbiter").subscribe(c("TimelineConstants").SECTION_EXPAND,function(A,B){z.navigateToSection(B)});i=true}var u=c("debounce")(function(A,B,C){var D=c("TimelineLegacySections").get(A).getHistoricUnitCount();B-=D;C-=1;if(D==-1||C<=0||B<0)return;var E=z.getNextSectionKey(A);if(E){c("TimelineLegacySections").get(E).load();u(E,B,C)}},s);function v(A,B){if(!B)B=0;if(B<q&&!A())setTimeout(v.bind(null,A,B+1),r)}function w(A){v(function(){if(A===c("TimelineScrubberKey").WAY_BACK)return true;var B=z.getNextSectionKey(A);if(B){y(B);return true}return false})}function x(A,B,C){v(function(){if(B===c("TimelineScrubberKey").WAY_BACK)return true;var D=z.getNextSectionKey(B);if(D){c("TimelineLegacySections").addOnVisible(D,new(c("OnVisible"))(A,y.bind(null,D),false,C||1e3));return true}return false})}function y(A){var B=c("TimelineLegacySections").get(A);if(B&&B.canScrollLoad()){B.load();if(o)u(A,o.required_units,o.max_parallelism)}}var z={CURRENT_SECTION_OFFSET:150,registerTimePeriod:function A(B,C,D,E,F,G,H){t();if(m.includes(C))return;if(l)Object.assign(D||{},l);var I=new(c("TimelineSection"))(B,C,D,E,H);if(!F){c("TimelineLegacySections").setMainSectionOrder(C,G);k[C]=true}else{I.setParentKey(F);var J=c("TimelineLegacySections").get(F);if(J)J.addSubSection(G,I)}c("TimelineLegacySections").set(C,I);z.checkCurrentSectionChange();c("Arbiter").inform(c("TimelineConstants").SECTION_REGISTERED,{scrubberKey:C,section:I})},reset:function A(){c("TimelineLegacySections").removeAllOnVisibles();c("TimelineLegacySections").cancelLoadPagelets();for(var B in n){n[B].unsubscribe();delete n[B]}p&&p.unsubscribe();p=null;c("TimelineLegacySections").removeAll();j=null;k={};l={};m=[];i=false},checkCurrentSectionChange:function A(){var B=null;c("queryThenMutateDOM")(function(){B=z.getCurrentSection()},function(){var C=j&&j.getScrubberKey();if(B&&B.getScrubberKey()!==C&&!B.isPermalinkPeriod()){j=B;var D=B.getScrubberKey(),E=B.getParentKey();if(!E){E=D;D=null}c("TimelineController").sectionHasChanged(E,D)}})},setParallelLoadConfig:function A(B){o=B},getCurrentSection:function A(){var B={},C=c("TimelineLegacySections").getAll();for(var D in C){var E=C[D];if(!E||E.isHiddenFromView())continue;var F=c("Vector").getElementPosition(E.getNode(),"viewport").y;if(E.getScrubberKey()===c("TimelineScrubberKey").RECENT_ACTIVITY)F--;if(F<z.CURRENT_SECTION_OFFSET)B[F]=E}var G=Math.max.apply(null,Object.keys(B)),H=c("TimelineLegacySections").getMainSectionOrder(),I=G==-Infinity;if(!I)return B[G];else if(H[0])return c("TimelineLegacySections").get(H[0]);return null},getLastVisibleSection:function A(){var B=c("TimelineLegacySections").getMainSectionOrder();for(var C=B.length-1;C>=0;C--){var D=c("TimelineLegacySections").get(B[C]);if(D&&!D.isHiddenFromView())return D}return null},getRecentActivitySection:function A(){return c("TimelineLegacySections").get(c("TimelineScrubberKey").RECENT_ACTIVITY)},capsuleForCurrentSection:function A(){var B=z.getCurrentSection();return B&&c("DOM").scry(B.getNode(),".fbTimelineCapsule")[0]},enableScrollLoad:function A(B,C,D,E){B=c("$")(B);var F=c("Parent").byClass(B,"fbTimelineSection")||B.parentNode,G=F&&c("DOM").scry(F,".fbTimelineCapsule")[0];if(!G)return;if(D===null)x(B,C,E);else c("TimelineController").runOnceWhenSectionFullyLoaded(x.bind(null,B,C,E),C,D)},getNextSectionKey:function A(B){var C=c("TimelineLegacySections").getMainSectionOrder();for(var D=0;D<C.length-1;D++)if(C[D]==B){while(D<C.length-1&&!C[D+1])D++;return C[D+1]}var E=c("TimelineLegacySections").get(B);if(!E||!E.getParentKey())return;var F=c("TimelineLegacySections").get(E.getParentKey());if(!F)return;var G=F.getSubSections(),H=G[G.length-1];if(E.getScrubberKey()===H.getScrubberKey())return z.getNextSectionKey(E.getParentKey());for(var I=0;I<G.length-1;I++)if(G[I].getScrubberKey()==B)return G[I+1].getScrubberKey()},hideSection:function A(B){var C=c("TimelineLegacySections").get(B);if(C)C.hide();var D=c("TimelineController").getCurrentScrubber();if(D){var E=null;if(!k[B])E=c("TimelineController").getCurrentScrubber().getSubnav(C.getParentKey(),B);else E=c("TimelineController").getCurrentScrubber().getNav(B);E&&c("CSS").hide(E)}var F=c("TimelineController").getCurrentStickyHeaderNav();F&&F.removeTimePeriod(B)},loadSectionOnClick:function A(B,C){c("Event").listen(B,"click",function(D){D.prevent();c("TimelineLegacySections").get(C).load()})},removeSection:function A(B){c("TimelineLegacySections").removeOnVisible(B);c("TimelineLegacySections").remove(B);delete k[B];var C=c("TimelineController").getCurrentStickyHeaderNav();C&&C.removeTimePeriod(B);m.push(B)},navigateToSection:function A(B,C,D){var E;C=!!C;var F=B,G=c("TimelineLegacySections").get(B);if(!G)return;if(!G.isLoaded()){c("TimelineSmartInsert").enable();c("DOM").scry(c("$")(c("TimelineDOMID").TAB_CONTENT),".fbTimelineShowOlderSections").forEach(c("DOM").remove)}if(!k[B])(function(){if(!G.isLoaded())G.getNode().style.minHeight=c("Vector").getViewportDimensions().y+"px";var M=c("Arbiter").subscribe(c("TimelineConstants").SECTION_FULLY_LOADED,function(R,S){if(S.scrubberKey===B){G.getNode().style.minHeight="";M.unsubscribe()}});F=G.getParentKey();var N=c("TimelineLegacySections").get(F);if(N){var O=N.getNode();if(!c("CSS").hasClass(O,"fbTimelineSectionExpanded")){c("DOMScroll").scrollTo(O,0);c("CSS").addClass(O,"fbTimelineSectionExpanded");c("DOM").scry(O,".fbTimelineCapsule").forEach(c("DOM").remove);c("DOM").scry(O,"div.fbTimelineSectionExpandPager").forEach(c("DOM").remove);c("DOM").scry(O,"div.fbTimelineContentHeader").forEach(c("DOM").remove);c("DOM").scry(O,"._5vf").forEach(function(R){if(!R.getAttribute("data-subsection"))c("DOM").remove(R)})}}var P=z.getNextSectionKey(F),Q=c("TimelineLegacySections").getOnVisible(P);if(Q)Q.setBuffer(0)})();var H=c("TimelineLegacySections").getMainSectionOrder();for(var I=0;I<H.length;I++){var J=H[I];if(!J)continue;if(J==F)break;c("TimelineLegacySections").get(J).deactivateScrollLoad().deactivateContentScrollLoad()}G.load(D,true);c("TimelineLegacySections").collapsePlaceHolderHeaders();var K=c("Vector").getScrollPosition().x,L=c("Vector").getElementPosition(G.getNode()).y;if(!C)c("DOMScroll").scrollTo(new(c("Vector"))(K,L-c("TimelineConstants").SCROLL_TO_OFFSET,"document"),true,false,false,0,function(){var L=c("Vector").getElementPosition(G.getNode()).y;c("DOMScroll").scrollTo(new(c("Vector"))(K,L-c("TimelineConstants").SCROLL_TO_OFFSET,"document"),false);if(B!==c("TimelineScrubberKey").RECENT_ACTIVITY){var M=c("DOM").scry(G.getNode(),"h3.uiHeaderTitle")[0];if(M){M.tabIndex=0;M.focus()}}})},appendContentAfterLoad:function A(B,C,D){c("TimelineController").runOnceWhenSectionFullyLoaded(c("DOM").appendContent.bind(null,c("$")(B),C),D,"0")},markSectionAsLoaded:function A(B,C,D){c("TimelineController").runOnceWhenSectionFullyLoaded(function(){c("ge")(B)&&c("CSS").removeClass(c("$")(B).parentNode,"fbTimelineSectionLoading")},C,D)},suppressSectionsAbove:function A(B){var C=void 0,D=void 0,E=c("TimelineLegacySections").getMainSectionOrder();for(var F=0;F<E.length;F++){var G=E[F];if(!G)continue;C=c("TimelineLegacySections").get(G).getNode();D=null;if(Array.from(B.parentNode.children).indexOf(B)<=Array.from(C.parentNode.children).indexOf(C)){D=G;break}c("TimelineLegacySections").get(G).deactivateScrollLoad()}if(D)z.navigateToSection(D,true)},removeDupes:function A(B){var C=c("ge")(B);if(!C)return;var D=c("DOM").scry(C,"li.fbTimelineUnit"),E={};for(var F=0;F<D.length;F++){var G=D[F];if(G.id&&G.id.startsWith("tl_unit_")){var H=G.id.substring(8,G.id.length),I=c("DOM").scry(G,"div.timelineUnitContainer");if(I.length>0)H=H+I[0].getAttribute("data-time");if(Object.prototype.hasOwnProperty.call(E,H)){G.id="dupe_unit_"+Math.random();G.className="hidden_elem"}else E[H]=1}}},removeLoadingState:function A(B){c("ge")(B)&&c("CSS").removeClass(c("$")(B),"fbTimelineSectionLoading")},updatePagerAfterLoad:function A(B,C,D,E){var F=c("ScrollingPager").getInstance(B.firstChild.id);if(!F){n[B.firstChild.id]=c("Arbiter").subscribe(c("ScrollingPager").REGISTERED,function(H,I){n[B.firstChild.id].unsubscribe();delete n[B.firstChild.id];if(I.id===B.firstChild.id)z.updatePagerAfterLoad(B,C,D,E)});return}var G=F.getHandler();F.setHandler(function(H){c("CSS").addClass(B,"async_saving");G(H)});c("TimelineController").runOnceWhenSectionFullyLoaded(function(){c("CSS").removeClass(B,"fbTimelineHiddenPager");F.checkBuffer()},D,E)},repositionDialog:function A(B){c("Arbiter").subscribe(c("TimelineConstants").SECTION_LOADED,function(){B.updatePosition()})},rightColumnFinished:function A(B){var C=c("TimelineLegacySections").get(B);C.setRightColumnFinished()},loadNextSection:function A(B){w(B)}};f.exports=z}),null);
__d("TimelineLogging",["TimelineComponentKeys","TimelineController","reportData"],(function a(b,c,d,e,f,g){var h=false,i=0,j=null,k=null,l={init:function m(n){if(h)return;i=n;c("TimelineController").register(c("TimelineComponentKeys").LOGGING,this)},reset:function m(){h=false;i=0;j=null},log:function m(n,o){o.profile_id=i;c("reportData")(n,{gt:o})},logSectionChange:function m(n,o){var p={timeline_section_change:1,key:n};if(j&&n==j){p.timeline_scrubber=1;j=null}if(k&&n==k){p.sticky_header_nav=1;k=null}l.log("timeline",p)},logScrubberClick:function m(n){j=n},logStickyHeaderNavClick:function m(n){k=n}};f.exports=l}),null);
__d("TimelineSeenStateConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FT_TIMELINE_HASH_IDENTIFIER_KEY:"thid"})}),null);
__d("TimelineViewportTracking",["csx","Arbiter","Banzai","DataAttributeUtils","DOM","TimelineSeenStateConstants","TimelineViewportTrackingLogType","ViewportTracking","$","tidyEvent","viewportTrackingBuilder"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;function k(n,o){return{_stream:null,_streamDOMID:o,getDataFromConfig:function p(n,q){q.isSeenStateLoggingEnabled=n.is_seen_state_logging_enabled;q.isTimetrackingEnabled=n.is_timetracking_enabled;q.vpvdDebug=!!n.vpvd_debug;q.trackingHooks=!!n.tracking_hooks;c("tidyEvent")(c("Arbiter").subscribe(["TimelineConstants/unitSegmentLoaded"],function(){q.invalidateAllStoriesCache();q.invalidateVisibleStoriesCache()}))},getAllStories:function p(){var q=c("DOM").scry(this.getStream(),"._5pat"),r=[];for(var s=0;s<q.length;s++)if(this.getStoryID(q[s]))r.push(q[s]);return r},getStream:function p(){if(!this._stream)this._stream=c("$")(this._streamDOMID);return this._stream},getStoryID:function p(q){var r=JSON.parse(c("DataAttributeUtils").getDataFt(q)||null);if(r){var s=c("TimelineSeenStateConstants").FT_TIMELINE_HASH_IDENTIFIER_KEY;return r[s]}return null},getDataToLog:function p(q){var r=JSON.parse(c("DataAttributeUtils").getDataFt(q));return{ft:r,log_type:c("TimelineViewportTrackingLogType").IMPRESSION}}}}i=babelHelpers.inherits(l,c("ViewportTracking"));j=i&&i.prototype;l.prototype.getTimetrackingDataToLog=function(n){var o=j.getTimetrackingDataToLog.call(this,n);o.log_type=c("TimelineViewportTrackingLogType").DURATION;return o};l.prototype.sendDataToLog=function(n,o,p,q){if(!o.ft)return;var r={};if(q)r.retry=q;if(p)r.delay=2e3;c("Banzai").post("timeline_feed_tracking",o,r)};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this)};function l(){i.apply(this,arguments)}var m=c("viewportTrackingBuilder")(function(n,o){var p=new l(k(n,o));p.init(n);return p});m.init=m.singleton.bind(m);f.exports=m}),null);
__d("ButtonGroupX",["ArbiterMixin","mixin"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);l=l||{};this._root=k;this._radioButtons=l.radioButtons||[];this._selected=l.selected;this.initButtonListeners()}j.prototype.initButtonListeners=function(){"use strict";var k=this._radioButtons.length;while(k--){var l=this._radioButtons[k];l.subscribe("select",this.selectButton.bind(this,l))}};j.prototype.getSelected=function(){"use strict";return this._selected};j.prototype.getSelectedValue=function(){"use strict";return this._selected?this._selected.getValue():null};j.prototype.selectButton=function(k){"use strict";if(this._selected!==k){this.setSelected(k);this.inform("change",{selected:k})}return this};j.prototype.setSelected=function(k){"use strict";if(this._selected!==k){if(this._selected)this._selected.setSelected(false);k.setSelected(true);this._selected=k}return this};j.prototype.setSelectedValue=function(k){"use strict";var l=this._radioButtons.length;while(l--){var m=this._radioButtons[l];if(m.getValue()===k)return this.setSelected(m)}return this};f.exports=j}),null);